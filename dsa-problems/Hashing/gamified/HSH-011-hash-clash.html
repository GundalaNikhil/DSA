<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSH-011: Hash Clash</title>
    <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Nunito&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #1a0505; --clash: #ff0000; --safe: #00ff00; --panel: #2a0a0a; --text: #eee; }
        * { box-sizing: border-box; }
        body { font-family: 'Nunito', sans-serif; background: var(--bg); color: var(--text); margin: 0; min-height: 100vh; display: flex; flex-direction: column; }
        header { background: var(--panel); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--clash); }
        h1 { margin: 0; font-family: 'Black Ops One', cursive; color: var(--clash); font-size: 1.6rem; }
        main { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 1.5rem; gap: 20px; }
        .instructions { background: var(--panel); padding: 12px 25px; border-radius: 10px; text-align: center; max-width: 700px; border: 2px solid var(--clash); }
        .instructions b { color: var(--clash); }
        .battle-arena { display: flex; gap: 50px; align-items: center; padding: 30px; background: var(--panel); border-radius: 15px; }
        .fighter { text-align: center; }
        .fighter-label { color: #888; margin-bottom: 10px; }
        .fighter-input { font-size: 1.5rem; padding: 15px; width: 150px; background: #000; border: 3px solid var(--clash); color: var(--clash); text-align: center; border-radius: 10px; font-family: 'Black Ops One'; text-transform: uppercase; }
        .vs { font-size: 2rem; color: var(--clash); font-family: 'Black Ops One'; }
        .hash-arena { display: flex; gap: 30px; padding: 20px; background: #000; border-radius: 10px; }
        .hash-fighter { text-align: center; padding: 15px 30px; border-radius: 10px; }
        .hash-fighter.left { border: 3px solid var(--clash); }
        .hash-fighter.right { border: 3px solid #0088ff; }
        .hash-label { color: #888; font-size: 0.8rem; }
        .hash-value { font-size: 2rem; font-family: 'Black Ops One'; }
        .result-display { padding: 20px 40px; border-radius: 10px; font-size: 1.5rem; font-family: 'Black Ops One'; }
        .result-display.clash { background: rgba(255,0,0,0.3); border: 3px solid var(--clash); color: var(--clash); animation: shake 0.5s; }
        .result-display.safe { background: rgba(0,255,0,0.2); border: 3px solid var(--safe); color: var(--safe); }
        @keyframes shake { 0%,100%{transform: translateX(0)} 25%{transform: translateX(-10px)} 75%{transform: translateX(10px)} }
        .collision-log { max-height: 150px; overflow-y: auto; padding: 15px; background: var(--panel); border-radius: 10px; min-width: 400px; }
        .log-entry { padding: 8px; margin-bottom: 5px; border-radius: 5px; font-size: 0.9rem; }
        .log-entry.collision { background: rgba(255,0,0,0.2); border-left: 3px solid var(--clash); }
        .log-entry.unique { background: rgba(0,255,0,0.1); border-left: 3px solid var(--safe); }
        .side-panel { display: flex; gap: 20px; }
        .panel-box { background: var(--panel); border: 2px solid #3a1a1a; padding: 15px; border-radius: 10px; min-width: 150px; }
        .stat-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #3a1a1a; }
        .stat-label { color: #888; font-size: 0.8rem; }
        .stat-value { font-weight: bold; color: var(--clash); }
        .btn { background: var(--clash); color: #fff; border: none; padding: 12px 25px; font-family: 'Black Ops One'; cursor: pointer; border-radius: 8px; }
        .btn:hover { background: #cc0000; }
        .btn.secondary { background: transparent; border: 2px solid #3a1a1a; color: #888; font-family: 'Nunito'; }
        #status { font-size: 1rem; text-align: center; min-height: 30px; }
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: flex; align-items: center; justify-content: center; z-index: 100; }
        .modal.hidden { display: none; }
        .dialog { background: var(--panel); padding: 30px; border: 3px solid var(--clash); max-width: 500px; text-align: center; border-radius: 15px; }
        .dialog h2 { color: var(--clash); font-family: 'Black Ops One'; }
    </style>
</head>
<body>
<header>
    <h1>ðŸ’¥ HASH CLASH</h1>
    <div style="color:#888">COLLISION DETECTOR</div>
</header>
<main>
    <div class="instructions">
        <b>ðŸŽ¯ FIND COLLISIONS:</b> Enter two different strings that produce the SAME hash value. Discover the weakness of hashing!
    </div>
    <div class="battle-arena">
        <div class="fighter">
            <div class="fighter-label">STRING 1</div>
            <input type="text" class="fighter-input" id="str1" maxlength="6" value="ABC" oninput="game.updateHash()">
        </div>
        <div class="vs">VS</div>
        <div class="fighter">
            <div class="fighter-label">STRING 2</div>
            <input type="text" class="fighter-input" id="str2" maxlength="6" value="XYZ" oninput="game.updateHash()">
        </div>
    </div>
    <div class="hash-arena">
        <div class="hash-fighter left"><div class="hash-label">HASH #1</div><div class="hash-value" id="hash1">0</div></div>
        <div class="hash-fighter right"><div class="hash-label">HASH #2</div><div class="hash-value" id="hash2">0</div></div>
    </div>
    <div class="result-display safe" id="result">NO CLASH</div>
    <div style="color:var(--clash);">COLLISION LOG:</div>
    <div class="collision-log" id="log"></div>
    <div class="side-panel">
        <div class="panel-box">
            <div class="stat-row"><span class="stat-label">Collisions Found</span><span class="stat-value" id="collisions">0</span></div>
            <div class="stat-row"><span class="stat-label">Attempts</span><span class="stat-value" id="attempts">0</span></div>
        </div>
    </div>
    <div id="status">Enter different strings with same hash!</div>
    <div style="display:flex; gap:15px;">
        <button class="btn" onclick="game.check()">CLASH!</button>
        <button class="btn secondary" onclick="game.hint()">HINT</button>
        <button class="btn secondary" onclick="game.newGame()">RESET</button>
    </div>
</main>
<div id="modal" class="modal">
    <div class="dialog">
        <h2>ðŸ’¥ HASH CLASH</h2>
        <div style="margin:20px 0; text-align:left; line-height:1.8;">
            <p><b style="color:var(--clash)">CHALLENGE:</b> Find hash collisions!</p>
            <ul>
                <li>Enter two <b>different</b> strings</li>
                <li>Find strings with the <b>same hash</b></li>
                <li>Understand why collisions happen</li>
                <li>Learn why we use <b>double hashing</b>!</li>
            </ul>
            <p style="color:#888">Birthday paradox: collisions are more common than you think!</p>
        </div>
        <button class="btn" onclick="game.start()">LET'S CLASH</button>
    </div>
</div>
<script>
class Game {
    constructor() {
        this.collisions = 0; this.attempts = 0; this.foundCollisions = [];
        this.ui = { str1: document.getElementById('str1'), str2: document.getElementById('str2'), hash1: document.getElementById('hash1'), hash2: document.getElementById('hash2'), result: document.getElementById('result'), log: document.getElementById('log'), collisions: document.getElementById('collisions'), attempts: document.getElementById('attempts'), status: document.getElementById('status'), modal: document.getElementById('modal') };
    }
    start() { this.ui.modal.classList.add('hidden'); this.newGame(); }
    hash(s) {
        // Intentionally weak hash for demonstration
        let h = 0;
        for (let i = 0; i < s.length; i++) {
            h = (h + s.charCodeAt(i)) % 100;
        }
        return h;
    }
    newGame() {
        this.collisions = 0; this.attempts = 0; this.foundCollisions = [];
        this.ui.str1.value = 'ABC';
        this.ui.str2.value = 'XYZ';
        this.ui.log.innerHTML = '';
        this.updateHash();
    }
    updateHash() {
        const s1 = this.ui.str1.value.toUpperCase();
        const s2 = this.ui.str2.value.toUpperCase();
        const h1 = this.hash(s1);
        const h2 = this.hash(s2);
        this.ui.hash1.textContent = h1;
        this.ui.hash2.textContent = h2;
        if (h1 === h2 && s1 !== s2 && s1.length > 0 && s2.length > 0) {
            this.ui.result.className = 'result-display clash';
            this.ui.result.textContent = 'ðŸ’¥ COLLISION!';
        } else {
            this.ui.result.className = 'result-display safe';
            this.ui.result.textContent = h1 === h2 ? 'SAME STRING' : 'NO CLASH';
        }
    }
    check() {
        const s1 = this.ui.str1.value.toUpperCase();
        const s2 = this.ui.str2.value.toUpperCase();
        const h1 = this.hash(s1);
        const h2 = this.hash(s2);
        this.attempts++;
        const entry = document.createElement('div');
        if (s1 !== s2 && h1 === h2) {
            const key = [s1, s2].sort().join(':');
            if (!this.foundCollisions.includes(key)) {
                this.foundCollisions.push(key);
                this.collisions++;
                entry.className = 'log-entry collision';
                entry.textContent = `ðŸ’¥ "${s1}" = "${s2}" (hash ${h1})`;
                this.ui.status.textContent = 'ðŸŽ‰ New collision found!';
                this.ui.status.style.color = 'var(--clash)';
            } else {
                entry.className = 'log-entry unique';
                entry.textContent = `Already found: "${s1}" = "${s2}"`;
            }
        } else if (s1 === s2) {
            entry.className = 'log-entry unique';
            entry.textContent = `Same string: "${s1}"`;
        } else {
            entry.className = 'log-entry unique';
            entry.textContent = `âœ“ Different hashes: ${h1} â‰  ${h2}`;
        }
        this.ui.log.insertBefore(entry, this.ui.log.firstChild);
        this.ui.collisions.textContent = this.collisions;
        this.ui.attempts.textContent = this.attempts;
    }
    hint() {
        // Find a collision pair
        const target = this.hash(this.ui.str1.value);
        for (let a = 65; a <= 90; a++) {
            for (let b = 65; b <= 90; b++) {
                const s = String.fromCharCode(a) + String.fromCharCode(b);
                if (this.hash(s) === target && s !== this.ui.str1.value) {
                    this.ui.status.textContent = `Try: "${s}" might clash!`;
                    return;
                }
            }
        }
    }
}
const game = new Game();
</script>
</body>
</html>
