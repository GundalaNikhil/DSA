problem_id: BIT_MAX_OR_SUBARRAY_LEQ_K__8416
display_id: BIT-016
quiz:
  # Problem-Related Questions (PRQ) - 7 questions
  - id: prq_1
    type: single_choice
    difficulty: easy
    points: 10
    category: prq
    question: "What is the bitwise OR result of the subarray [2, 4, 8]?"
    options:
      - "14"
      - "8"
      - "12"
      - "16"
    correct_answer: "14"
    explanation: "2 | 4 | 8 = 0010 | 0100 | 1000 = 1110 = 14. OR combines all set bits from all numbers."

  - id: prq_2
    type: single_choice
    difficulty: easy
    points: 10
    category: prq
    question: "For array [1, 2, 4, 1] with K = 7, what is the OR of the entire array?"
    options:
      - "7"
      - "8"
      - "6"
      - "15"
    correct_answer: "7"
    explanation: "1 | 2 | 4 | 1 = 001 | 010 | 100 | 001 = 111 = 7, which equals K."

  - id: prq_3
    type: single_choice
    difficulty: medium
    points: 15
    category: prq
    question: "What is the key property of bitwise OR when extending a subarray?"
    options:
      - "It can only increase or stay the same"
      - "It can decrease"
      - "It alternates between values"
      - "It resets to zero"
    correct_answer: "It can only increase or stay the same"
    explanation: "OR is monotonic - once a bit is set to 1, it remains 1. Adding more elements can only set additional bits or keep existing ones."

  - id: prq_4
    type: single_choice
    difficulty: medium
    points: 15
    category: prq
    question: "If K = 0, which subarrays are valid?"
    options:
      - "Only subarrays containing all zeros"
      - "Any subarray"
      - "Only single-element subarrays"
      - "No subarrays are valid except empty"
    correct_answer: "Only subarrays containing all zeros"
    explanation: "For OR to be <= 0, it must equal 0. This only happens when all elements in the subarray are 0."

  - id: prq_5
    type: multiple_choice
    difficulty: medium
    points: 15
    category: prq
    question: "Which of the following subarrays from [1, 2, 3, 4] have OR <= 7?"
    options:
      - "[1, 2]"
      - "[1, 2, 3]"
      - "[2, 3, 4]"
      - "[1, 2, 3, 4]"
      - "[4]"
    correct_answers:
      - "[1, 2]"
      - "[1, 2, 3]"
      - "[2, 3, 4]"
      - "[1, 2, 3, 4]"
      - "[4]"
    explanation: "[1,2] = 3, [1,2,3] = 3, [2,3,4] = 7, [1,2,3,4] = 7, [4] = 4. All are <= 7."

  - id: prq_6
    type: single_choice
    difficulty: easy
    points: 10
    category: prq
    question: "For array [8, 8, 8] with K = 8, what is the maximum subarray length?"
    options:
      - "3"
      - "2"
      - "1"
      - "0"
    correct_answer: "3"
    explanation: "8 | 8 | 8 = 8, which equals K. The entire array is valid."

  - id: prq_7
    type: single_choice
    difficulty: medium
    points: 15
    category: prq
    question: "Which algorithmic technique is most suitable for this problem?"
    options:
      - "Sliding window with two pointers"
      - "Binary search"
      - "Divide and conquer"
      - "Backtracking"
    correct_answer: "Sliding window with two pointers"
    explanation: "The monotonic property of OR makes sliding window ideal. As we extend the window, OR increases, and when it exceeds K, we shrink from the left."

  # Editorial-Derived Questions (EDQ) - 8 questions
  - id: edq_1
    type: scenario
    difficulty: medium
    points: 15
    category: edq
    question: |
      A network packet analyzer needs to find the longest sequence of packets where 
      the combined feature flags (using OR) don't exceed a threshold. Given packets 
      with flags [16, 32, 8, 4] and threshold 60, what's the maximum sequence length?
    options:
      - "4"
      - "3"
      - "2"
      - "1"
    correct_answer: "4"
    explanation: "16 | 32 | 8 | 4 = 60, which equals the threshold. All packets can be analyzed together. The OR combines all unique flag bits."

  - id: edq_2
    type: single_choice
    difficulty: hard
    points: 20
    category: edq
    question: "What is the time complexity of the optimal sliding window solution?"
    options:
      - "O(n)"
      - "O(n log n)"
      - "O(n²)"
      - "O(n × 32)"
    correct_answer: "O(n)"
    explanation: "Each element is visited at most twice (once by right pointer, once by left pointer), giving O(n) time complexity."

  - id: edq_3
    type: multiple_choice
    difficulty: medium
    points: 15
    category: edq
    question: "Which optimizations can improve the sliding window approach?"
    options:
      - "Track bit counts instead of recalculating OR"
      - "Use binary search on answer"
      - "Skip elements larger than K"
      - "Use prefix OR values"
      - "Precompute all subarray ORs"
    correct_answers:
      - "Track bit counts instead of recalculating OR"
      - "Skip elements larger than K"
    explanation: "Tracking bit counts allows O(1) window shrinking. Skipping elements > K avoids unnecessary processing. Binary search doesn't apply here due to non-monotonic valid lengths."

  - id: edq_4
    type: single_choice
    difficulty: hard
    points: 20
    category: edq
    question: "When shrinking the sliding window from the left, what's the challenge with updating the OR value?"
    options:
      - "OR cannot be easily decremented; need to recalculate or track bit counts"
      - "OR automatically decreases"
      - "OR becomes negative"
      - "OR resets to zero"
    correct_answer: "OR cannot be easily decremented; need to recalculate or track bit counts"
    explanation: "Unlike sum, OR can't be simply reversed. We must either recalculate from scratch or maintain bit frequency counts to determine which bits remain set."

  - id: edq_5
    type: scenario
    difficulty: hard
    points: 20
    category: edq
    question: |
      For array [1, 3, 7, 15, 31] with K = 15, a naive approach checks all O(n²) subarrays. 
      How many subarray OR computations does sliding window save compared to brute force?
    options:
      - "At least 50% fewer computations"
      - "Same number of computations"
      - "Twice as many computations"
      - "Only 10% fewer computations"
    correct_answer: "At least 50% fewer computations"
    explanation: "Brute force: O(n²) = 10 subarrays. Sliding window: each element visited ≤ 2 times = O(n) = ~10 operations. For larger n, savings approach O(n²) vs O(n)."

  - id: edq_6
    type: single_choice
    difficulty: medium
    points: 15
    category: edq
    question: "What is the space complexity of the bit-count tracking optimization?"
    options:
      - "O(log max_value)"
      - "O(n)"
      - "O(1)"
      - "O(n log n)"
    correct_answer: "O(log max_value)"
    explanation: "We need to track counts for each bit position. With max value 10⁹, that's ~30 bit positions, which is O(log max_value) = O(30) = O(1) in practice."

  - id: edq_7
    type: multiple_choice
    difficulty: hard
    points: 20
    category: edq
    question: "Which edge cases must be handled in the sliding window solution?"
    options:
      - "K = 0 with all non-zero elements"
      - "All elements are zero"
      - "Single element array"
      - "All elements exceed K individually"
      - "Empty array"
    correct_answers:
      - "K = 0 with all non-zero elements"
      - "All elements are zero"
      - "Single element array"
    explanation: "K=0 with non-zero elements may return 0 (no valid subarray). All zeros gives maximum length. Single element is always valid with its own value. All elements > K still have single-element subarrays."

  - id: edq_8
    type: single_choice
    difficulty: hard
    points: 20
    category: edq
    question: "In a security monitoring system, combining access levels with OR must not exceed clearance 127. Given levels [64, 32, 16, 8, 4, 2, 1], what's the insight?"
    options:
      - "All seven levels can be combined as they sum to 127"
      - "Only first six levels are allowed"
      - "Must use binary search"
      - "Need dynamic programming"
    correct_answer: "All seven levels can be combined as they sum to 127"
    explanation: "These are distinct bit positions: 64|32|16|8|4|2|1 = 1111111 in binary = 127. All unique bit positions OR to exactly the sum when they're powers of 2."

total_questions: 15
prq_count: 7
edq_count: 8
difficulty_distribution:
  easy: 4
  medium: 7
  hard: 4
