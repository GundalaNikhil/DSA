<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NUM-015: CRT Solver</title>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Space+Mono&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #1a0a2e; --crt: #ff6b9d; --result: #00ff88; --panel: #2d1b4e; --text: #eee; }
        * { box-sizing: border-box; }
        body { font-family: 'Space Mono', monospace; background: var(--bg); color: var(--text); margin: 0; min-height: 100vh; display: flex; flex-direction: column; }
        header { background: var(--panel); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--crt); }
        h1 { margin: 0; font-family: 'Audiowide', cursive; color: var(--crt); font-size: 1.4rem; }
        main { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 1.5rem; gap: 20px; }
        .instructions { background: var(--panel); padding: 12px 25px; border-radius: 10px; text-align: center; max-width: 700px; border: 2px solid var(--crt); }
        .instructions b { color: var(--crt); }
        .equations { display: flex; flex-direction: column; gap: 15px; padding: 25px; background: var(--panel); border-radius: 15px; }
        .equation-row { display: flex; gap: 10px; align-items: center; font-size: 1.2rem; }
        .eq-label { color: var(--crt); }
        .eq-input { width: 60px; height: 40px; font-size: 1.1rem; text-align: center; background: #000; border: 2px solid var(--crt); color: var(--crt); border-radius: 5px; }
        .result-box { padding: 30px 60px; background: rgba(0,255,136,0.1); border: 3px solid var(--result); border-radius: 15px; text-align: center; }
        .result-label { font-size: 1rem; color: #888; }
        .result-value { font-size: 2.5rem; font-family: 'Audiowide'; color: var(--result); }
        .solution-visual { padding: 20px; background: #000; border-radius: 10px; min-width: 400px; }
        .solution-step { padding: 8px; border-bottom: 1px solid #222; font-size: 0.9rem; color: var(--crt); }
        .side-panel { display: flex; gap: 20px; }
        .panel-box { background: var(--panel); border: 2px solid #3d2b5e; padding: 15px; border-radius: 10px; min-width: 180px; }
        .stat-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #3d2b5e; }
        .stat-label { color: #888; font-size: 0.75rem; }
        .stat-value { font-weight: bold; color: var(--crt); }
        .btn { background: var(--crt); color: #fff; border: none; padding: 12px 25px; font-family: 'Audiowide'; cursor: pointer; border-radius: 8px; }
        .btn:hover { background: #ff85ac; }
        .btn.secondary { background: transparent; border: 2px solid #3d2b5e; color: #888; font-family: 'Space Mono'; }
        #status { font-size: 1rem; text-align: center; min-height: 30px; }
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: flex; align-items: center; justify-content: center; z-index: 100; }
        .modal.hidden { display: none; }
        .dialog { background: var(--panel); padding: 30px; border: 3px solid var(--crt); max-width: 500px; text-align: center; border-radius: 15px; }
        .dialog h2 { color: var(--crt); font-family: 'Audiowide'; }
    </style>
</head>
<body>
<header>
    <h1>ðŸ§® CRT SOLVER</h1>
    <div style="color:#888">CHINESE REMAINDER THEOREM</div>
</header>
<main>
    <div class="instructions">
        <b>ðŸŽ¯ SOLVE THE SYSTEM:</b> Find x such that x â‰¡ aáµ¢ (mod máµ¢) for each equation. CRT gives unique solution mod Î máµ¢!
    </div>
    <div class="equations">
        <div class="equation-row">
            <span>x â‰¡</span>
            <input type="number" class="eq-input" id="a1" value="2" min="0">
            <span>(mod</span>
            <input type="number" class="eq-input" id="m1" value="3" min="2">
            <span>)</span>
        </div>
        <div class="equation-row">
            <span>x â‰¡</span>
            <input type="number" class="eq-input" id="a2" value="3" min="0">
            <span>(mod</span>
            <input type="number" class="eq-input" id="m2" value="5" min="2">
            <span>)</span>
        </div>
        <div class="equation-row">
            <span>x â‰¡</span>
            <input type="number" class="eq-input" id="a3" value="2" min="0">
            <span>(mod</span>
            <input type="number" class="eq-input" id="m3" value="7" min="2">
            <span>)</span>
        </div>
    </div>
    <button class="btn" onclick="game.solve()">SOLVE CRT</button>
    <div class="result-box">
        <div class="result-label">x â‰¡</div>
        <div class="result-value" id="result">?</div>
        <div class="result-label" id="modLabel">(mod ?)</div>
    </div>
    <div style="color:var(--crt);">SOLUTION STEPS:</div>
    <div class="solution-visual" id="steps"></div>
    <div id="status">Enter congruences and solve!</div>
</main>
<div id="modal" class="modal">
    <div class="dialog">
        <h2>ðŸ§® CRT SOLVER</h2>
        <div style="margin:20px 0; text-align:left; line-height:1.8;">
            <p><b style="color:var(--crt)">CONCEPT:</b> Chinese Remainder Theorem!</p>
            <ul>
                <li>System of congruences with <b>coprime moduli</b></li>
                <li>x â‰¡ aáµ¢ (mod máµ¢) has unique solution mod Î máµ¢</li>
                <li>x = Î£ aáµ¢ Ã— Máµ¢ Ã— yáµ¢ where Máµ¢yáµ¢ â‰¡ 1 (mod máµ¢)</li>
                <li>Critical in RSA optimization!</li>
            </ul>
            <p style="color:#888">Ancient Chinese algorithm (3rd century)!</p>
        </div>
        <button class="btn" onclick="game.start()">START SOLVING</button>
    </div>
</div>
<script>
class Game {
    constructor() {
        this.ui = { a1: document.getElementById('a1'), m1: document.getElementById('m1'), a2: document.getElementById('a2'), m2: document.getElementById('m2'), a3: document.getElementById('a3'), m3: document.getElementById('m3'), result: document.getElementById('result'), modLabel: document.getElementById('modLabel'), steps: document.getElementById('steps'), status: document.getElementById('status'), modal: document.getElementById('modal') };
    }
    start() { this.ui.modal.classList.add('hidden'); }
    gcd(a, b) { while (b) { [a, b] = [b, a % b]; } return a; }
    extGcd(a, b) { if (b === 0) return [a, 1, 0]; const [g, x1, y1] = this.extGcd(b, a % b); return [g, y1, x1 - Math.floor(a / b) * y1]; }
    solve() {
        const a = [parseInt(this.ui.a1.value), parseInt(this.ui.a2.value), parseInt(this.ui.a3.value)];
        const m = [parseInt(this.ui.m1.value), parseInt(this.ui.m2.value), parseInt(this.ui.m3.value)];
        // Check coprimality
        for (let i = 0; i < 3; i++) {
            for (let j = i + 1; j < 3; j++) {
                if (this.gcd(m[i], m[j]) !== 1) {
                    this.ui.result.textContent = 'ERROR';
                    this.ui.status.textContent = `Moduli ${m[i]} and ${m[j]} are not coprime!`;
                    return;
                }
            }
        }
        const M = m[0] * m[1] * m[2];
        const steps = [];
        let x = 0;
        for (let i = 0; i < 3; i++) {
            const Mi = M / m[i];
            const [, yi] = this.extGcd(Mi, m[i]);
            const term = ((a[i] * Mi * yi) % M + M) % M;
            x = (x + term) % M;
            steps.push(`M${i+1} = ${M}/${m[i]} = ${Mi}, y${i+1}â»Â¹ â‰¡ ${((yi % m[i]) + m[i]) % m[i]} (mod ${m[i]}), term = ${term}`);
        }
        x = ((x % M) + M) % M;
        // Display
        this.ui.steps.innerHTML = '';
        steps.forEach(s => {
            const step = document.createElement('div');
            step.className = 'solution-step';
            step.textContent = s;
            this.ui.steps.appendChild(step);
        });
        this.ui.result.textContent = x;
        this.ui.modLabel.textContent = `(mod ${M})`;
        this.ui.status.textContent = `x â‰¡ ${x} (mod ${M})`;
    }
}
const game = new Game();
</script>
</body>
</html>
