<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GMT-014: Coin Flipper</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, #ffd700 0%, #ff6600 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container { max-width: 800px; margin: 0 auto; }

        .header { text-align: center; color: #fff; margin-bottom: 20px; }
        .header h1 { font-size: 36px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }

        .tutorial {
            background: #fff;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .tutorial h2 { color: #ff6600; margin-bottom: 15px; }

        .rules { display: flex; gap: 15px; }
        .rule {
            flex: 1;
            background: #fff8e1;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }
        .rule-icon { font-size: 28px; }
        .rule-text { font-size: 13px; color: #555; margin-top: 5px; }

        .game-card {
            background: #fff;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .turn-bar {
            display: flex;
            justify-content: space-between;
            padding: 15px 20px;
            background: linear-gradient(90deg, #ff6600, #ff9900);
            border-radius: 12px;
            color: #fff;
            margin-bottom: 20px;
        }
        .turn-bar.ai { background: linear-gradient(90deg, #555, #777); }

        .coins-area {
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .coins-row {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .coin {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .coin.heads { background: linear-gradient(135deg, #ffd700, #ffcc00); }
        .coin.tails { background: linear-gradient(135deg, #c0c0c0, #a0a0a0); }
        .coin:hover { transform: scale(1.1); }
        .coin.flipping { animation: flip 0.3s ease-in-out; }

        @keyframes flip {
            0% { transform: rotateY(0deg); }
            50% { transform: rotateY(90deg); }
            100% { transform: rotateY(0deg); }
        }

        .score-display {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 15px;
        }
        .score {
            text-align: center;
            padding: 15px 25px;
            background: #fff8e1;
            border-radius: 12px;
        }
        .score-label { font-size: 12px; color: #888; }
        .score-value { font-size: 28px; font-weight: 600; color: #ff6600; }

        .message { text-align: center; padding: 15px; color: #666; }

        .result {
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            display: none;
        }
        .result.win { display: block; background: #d1fae5; color: #059669; }
        .result.lose { display: block; background: #fee2e2; color: #dc2626; }

        .new-game {
            display: block;
            width: 100%;
            margin-top: 15px;
            padding: 15px;
            background: #ff6600;
            border: none;
            color: #fff;
            font-family: inherit;
            font-size: 16px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
        }

    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ü™ô Coin Flipper</h1>
        <div style="opacity:0.9">Flip coins to collect gold - most gold wins!</div>
    </div>

    <div class="tutorial">
        <h2>üìñ How to Play</h2>
        <div class="rules">
            <div class="rule">
                <div class="rule-icon">üëÜ</div>
                <div class="rule-text"><strong>Click a gold coin</strong> (ü™ô) to flip it</div>
            </div>
            <div class="rule">
                <div class="rule-icon">üîÑ</div>
                <div class="rule-text"><strong>Gold ‚Üí Silver:</strong> You collect that coin's value!</div>
            </div>
            <div class="rule">
                <div class="rule-icon">üèÜ</div>
                <div class="rule-text"><strong>Most points</strong> when all flipped wins!</div>
            </div>
        </div>
    </div>

    <div class="game-card">
        <div class="turn-bar" id="turnBar">
            <span id="turnText">üü¢ Your Turn</span>
            <span>Coins left: <span id="coinsLeft">0</span></span>
        </div>

        <div class="score-display">
            <div class="score">
                <div class="score-label">Your Score</div>
                <div class="score-value" id="playerScore">0</div>
            </div>
            <div class="score">
                <div class="score-label">AI Score</div>
                <div class="score-value" id="aiScore">0</div>
            </div>
        </div>

        <div class="message" id="message">Click a gold coin to flip it and collect points!</div>

        <div class="coins-area">
            <div class="coins-row" id="coinsRow"></div>
        </div>

        <div class="result" id="result"></div>

        <button class="new-game" onclick="newGame()">üîÑ New Game</button>
    </div>
</div>

<script>
    const COIN_VALUES = [3, 7, 2, 5, 8, 4, 6, 1];
    let coins = []; // true = heads (gold)
    let playerScore = 0;
    let aiScore = 0;
    let isPlayerTurn = true;
    let gameOver = false;

    function init() {
        coins = new Array(COIN_VALUES.length).fill(true);
        playerScore = 0;
        aiScore = 0;
        isPlayerTurn = true;
        gameOver = false;
        document.getElementById('result').className = 'result';
        render();
    }

    function render() {
        const turnBar = document.getElementById('turnBar');
        turnBar.className = isPlayerTurn ? 'turn-bar' : 'turn-bar ai';
        document.getElementById('turnText').textContent = isPlayerTurn ? 'üü¢ Your Turn' : 'üî¥ AI Turn';
        document.getElementById('coinsLeft').textContent = coins.filter(c => c).length;
        document.getElementById('playerScore').textContent = playerScore;
        document.getElementById('aiScore').textContent = aiScore;

        const row = document.getElementById('coinsRow');
        row.innerHTML = '';

        coins.forEach((isHeads, i) => {
            const coin = document.createElement('div');
            coin.className = 'coin ' + (isHeads ? 'heads' : 'tails');
            coin.textContent = isHeads ? COIN_VALUES[i] : '‚óã';

            if (isHeads && isPlayerTurn && !gameOver) {
                coin.onclick = () => flipCoin(i);
            }

            row.appendChild(coin);
        });
    }

    function flipCoin(i) {
        if (!coins[i] || !isPlayerTurn || gameOver) return;

        // Add animation
        const coinElements = document.querySelectorAll('.coin');
        coinElements[i].classList.add('flipping');

        setTimeout(() => {
            coins[i] = false;
            playerScore += COIN_VALUES[i];

            if (coins.every(c => !c)) {
                endGame();
                return;
            }

            isPlayerTurn = false;
            render();
            document.getElementById('message').textContent = 'ü§ñ AI is thinking...';

            setTimeout(aiMove, 800);
        }, 300);
    }

    function aiMove() {
        if (gameOver) return;

        // Find highest value remaining coin
        let maxIdx = -1;
        let maxVal = -1;
        coins.forEach((isHeads, i) => {
            if (isHeads && COIN_VALUES[i] > maxVal) {
                maxVal = COIN_VALUES[i];
                maxIdx = i;
            }
        });

        if (maxIdx < 0) {
            endGame();
            return;
        }

        coins[maxIdx] = false;
        aiScore += COIN_VALUES[maxIdx];

        document.getElementById('message').textContent = `ü§ñ AI flips coin worth ${COIN_VALUES[maxIdx]}!`;

        if (coins.every(c => !c)) {
            endGame();
            return;
        }

        isPlayerTurn = true;
        render();
        setTimeout(() => {
            document.getElementById('message').textContent = 'Your turn! Click a gold coin.';
        }, 500);
    }

    function endGame() {
        gameOver = true;
        render();
        const result = document.getElementById('result');
        if (playerScore > aiScore) {
            result.className = 'result win';
            result.textContent = `üéâ YOU WIN! ${playerScore} vs ${aiScore}`;
        } else if (playerScore < aiScore) {
            result.className = 'result lose';
            result.textContent = `üò¢ AI WINS! ${aiScore} vs ${playerScore}`;
        } else {
            result.className = 'result';
            result.style.display = 'block';
            result.style.background = '#fef3c7';
            result.style.color = '#92400e';
            result.textContent = `ü§ù TIE! Both scored ${playerScore}`;
        }
        document.getElementById('message').textContent = '';
    }

    function newGame() {
        init();
        document.getElementById('message').textContent = 'Click a gold coin to flip it and collect points!';
    }

    window.onload = init;
</script>
</body>
</html>
