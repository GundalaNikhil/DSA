problem_id: TDP_MAX_PATH_SUM_LENGTH_LIMIT__6382
samples:
  - input: |-
      3 2
      1 -2 3
      1 2
      1 3
    output: |-
      4
  - input: |-
      5 3
      10 -5 20 -10 30
      1 2
      1 3
      2 4
      2 5
    output: |-
      55
public:
  - input: |-
      1 0
      100
    output: |-
      100
  - input: |-
      2 1
      50 50
      1 2
    output: |-
      100
  - input: |-
      4 3
      1 1 1 1
      1 2
      2 3
      3 4
    output: |-
      4
hidden:
  - input: |-
      6 2
      10 20 30 -10 -20 40
      1 2
      1 3
      2 4
      2 5
      3 6
    output: |-
      80
  - input: |-
      7 4
      -5 10 -3 8 -2 6 12
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
    output: |-
      22
  - input: |-
      10 5
      100 -50 200 -30 150 -20 180 -40 220 -10
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
    output: |-
      700
  - input: |-
      8 3
      -100 -200 500 -50 400 -75 300 -25
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      7 8
    output: |-
      775
  - input: |-
      15 7
      50 100 75 80 90 60 110 120 70 85 95 65 105 115 125
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      4 8
      4 9
      5 10
      5 11
      6 12
      6 13
      7 14
      7 15
    output: |-
      755
  - input: |-
      12 4
      1000 2000 1500 1750 2250 1800 1900 2100 2200 1600 1700 2400
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
    output: |-
      10950
  - input: |-
      20 10
      -10 -20 -30 -40 -50 -60 -70 -80 -90 -100 -110 -120 -130 -140 -150 -160 -170 -180 -190 -200
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
    output: |-
      -10
  - input: |-
      18 6
      200 -150 175 -225 250 -180 190 -210 220 -230 160 -170 240 -200 185 -195 205 -215
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      4 8
      4 9
      5 10
      5 11
      6 12
      6 13
      7 14
      8 15
      9 16
      10 17
      11 18
    output: |-
      880
  - input: |-
      25 12
      100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      4 8
      4 9
      5 10
      5 11
      6 12
      6 13
      7 14
      7 15
      8 16
      9 17
      10 18
      11 19
      12 20
      13 21
      14 22
      15 23
      16 24
      17 25
    output: |-
      1300
  - input: |-
      30 15
      1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
      20 21
      21 22
      22 23
      23 24
      24 25
      25 26
      26 27
      27 28
      28 29
      29 30
    output: |-
      360
  - input: |-
      40 20
      10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10
      1 2
      1 3
      1 4
      2 5
      2 6
      3 7
      3 8
      4 9
      4 10
      5 11
      5 12
      6 13
      6 14
      7 15
      7 16
      8 17
      8 18
      9 19
      9 20
      10 21
      10 22
      11 23
      12 24
      13 25
      14 26
      15 27
      16 28
      17 29
      18 30
      19 31
      20 32
      21 33
      22 34
      23 35
      24 36
      25 37
      26 38
      27 39
      28 40
    output: |-
      210
  - input: |-
      50 25
      500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000 500000 -500000
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
      20 21
      21 22
      22 23
      23 24
      24 25
      25 26
      26 27
      27 28
      28 29
      29 30
      30 31
      31 32
      32 33
      33 34
      34 35
      35 36
      36 37
      37 38
      38 39
      39 40
      40 41
      41 42
      42 43
      43 44
      44 45
      45 46
      46 47
      47 48
      48 49
      49 50
    output: |-
      6500000
  - input: |-
      60 30
      100 200 150 175 225 250 180 190 210 220 130 140 160 170 230 240 120 110 200 185 195 205 215 135 145 155 165 235 245 255 265 125 115 105 95 275 285 295 305 315 325 335 345 355 365 375 385 395 405 415 425 435 445 455 465 475 485 495 505 515
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      4 8
      4 9
      5 10
      5 11
      6 12
      6 13
      7 14
      7 15
      8 16
      8 17
      9 18
      9 19
      10 20
      10 21
      11 22
      11 23
      12 24
      12 25
      13 26
      13 27
      14 28
      14 29
      15 30
      15 31
      16 32
      16 33
      17 34
      17 35
      18 36
      18 37
      19 38
      19 39
      20 40
      20 41
      21 42
      21 43
      22 44
      22 45
      23 46
      23 47
      24 48
      25 49
      26 50
      27 51
      28 52
      29 53
      30 54
      31 55
      32 56
      33 57
      34 58
      35 59
      36 60
    output: |-
      7615
  - input: |-
      70 35
      1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000 1000000
      1 2
      1 3
      1 4
      2 5
      2 6
      2 7
      3 8
      3 9
      3 10
      4 11
      4 12
      5 13
      5 14
      6 15
      6 16
      7 17
      7 18
      8 19
      8 20
      9 21
      9 22
      10 23
      10 24
      11 25
      11 26
      12 27
      13 28
      13 29
      14 30
      14 31
      15 32
      15 33
      16 34
      16 35
      17 36
      17 37
      18 38
      18 39
      19 40
      19 41
      20 42
      20 43
      21 44
      21 45
      22 46
      22 47
      23 48
      23 49
      24 50
      24 51
      25 52
      25 53
      26 54
      26 55
      27 56
      28 57
      29 58
      30 59
      31 60
      32 61
      33 62
      34 63
      35 64
      36 65
      37 66
      38 67
      39 68
      40 69
      41 70
    output: |-
      36000000
  - input: |-
      80 40
      -100 -200 -50 -150 -75 -125 -25 -175 -90 -110 -60 -140 -80 -120 -40 -160 -70 -130 -30 -170 -85 -115 -55 -145 -65 -135 -35 -165 -95 -105 -45 -155 -100 -200 -50 -150 -75 -125 -25 -175 -90 -110 -60 -140 -80 -120 -40 -160 -70 -130 -30 -170 -85 -115 -55 -145 -65 -135 -35 -165 -95 -105 -45 -155 -100 -200 -50 -150 -75 -125 -25 -175 -90 -110 -60 -140 -80 -120 -40 -160
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
      20 21
      21 22
      22 23
      23 24
      24 25
      25 26
      26 27
      27 28
      28 29
      29 30
      30 31
      31 32
      32 33
      33 34
      34 35
      35 36
      36 37
      37 38
      38 39
      39 40
      40 41
      41 42
      42 43
      43 44
      44 45
      45 46
      46 47
      47 48
      48 49
      49 50
      50 51
      51 52
      52 53
      53 54
      54 55
      55 56
      56 57
      57 58
      58 59
      59 60
      60 61
      61 62
      62 63
      63 64
      64 65
      65 66
      66 67
      67 68
      68 69
      69 70
      70 71
      71 72
      72 73
      73 74
      74 75
      75 76
      76 77
      77 78
      78 79
      79 80
    output: |-
      -25
  - input: |-
      90 45
      200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000 200000
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      4 8
      4 9
      5 10
      5 11
      6 12
      6 13
      7 14
      7 15
      8 16
      8 17
      9 18
      9 19
      10 20
      10 21
      11 22
      11 23
      12 24
      12 25
      13 26
      13 27
      14 28
      14 29
      15 30
      15 31
      16 32
      16 33
      17 34
      17 35
      18 36
      18 37
      19 38
      19 39
      20 40
      20 41
      21 42
      21 43
      22 44
      22 45
      23 46
      23 47
      24 48
      24 49
      25 50
      25 51
      26 52
      26 53
      27 54
      27 55
      28 56
      28 57
      29 58
      29 59
      30 60
      30 61
      31 62
      31 63
      32 64
      33 65
      34 66
      35 67
      36 68
      37 69
      38 70
      39 71
      40 72
      41 73
      42 74
      43 75
      44 76
      45 77
      46 78
      47 79
      48 80
      50 81
      52 82
      54 83
      56 84
      58 85
      60 86
      62 87
      64 88
      66 89
      68 90
    output: |-
      9200000
  - input: |-
      100 50
      999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999 999999
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
      20 21
      21 22
      22 23
      23 24
      24 25
      25 26
      26 27
      27 28
      28 29
      29 30
      30 31
      31 32
      32 33
      33 34
      34 35
      35 36
      36 37
      37 38
      38 39
      39 40
      40 41
      41 42
      42 43
      43 44
      44 45
      45 46
      46 47
      47 48
      48 49
      49 50
      50 51
      51 52
      52 53
      53 54
      54 55
      55 56
      56 57
      57 58
      58 59
      59 60
      60 61
      61 62
      62 63
      63 64
      64 65
      65 66
      66 67
      67 68
      68 69
      69 70
      70 71
      71 72
      72 73
      73 74
      74 75
      75 76
      76 77
      77 78
      78 79
      79 80
      80 81
      81 82
      82 83
      83 84
      84 85
      85 86
      86 87
      87 88
      88 89
      89 90
      90 91
      91 92
      92 93
      93 94
      94 95
      95 96
      96 97
      97 98
      98 99
      99 100
    output: |-
      50999949
