problem_id: TDP_TREE_FLATTEN_UPDATES__5418
samples:
- input: '3

    1 2 3

    1 2

    1 3

    3

    1 1 5

    2 2

    2 3'
  output: '7

    8'
- input: '5

    10 20 30 40 50

    1 2

    1 3

    2 4

    2 5

    4

    1 2 100

    2 4

    2 5

    2 1'
  output: '140

    150

    10'
public:
- input: '1

    100

    1

    2 1'
  output: '100'
- input: '2

    10 20

    1 2

    2

    1 1 50

    2 2'
  output: '70'
- input: '4

    5 10 15 20

    1 2

    2 3

    3 4

    3

    1 2 25

    2 3

    2 4'
  output: '40

    45'
hidden:
- input: '10

    1 2 3 4 5 6 7 8 9 10

    1 2

    1 3

    2 4

    2 5

    3 6

    3 7

    4 8

    5 9

    6 10

    10

    1 1 10

    2 1

    2 2

    2 5

    1 2 20

    2 4

    2 8

    2 3

    1 3 30

    2 10'
  output: '11

    12

    15

    34

    38

    13

    50'
- input: '15

    10 20 30 40 50 60 70 80 90 100 110 120 130 140 150

    1 2

    1 3

    2 4

    2 5

    3 6

    3 7

    4 8

    5 9

    6 10

    7 11

    8 12

    9 13

    10 14

    11 15

    20

    1 1 100

    2 1

    2 2

    2 3

    1 2 50

    2 4

    2 5

    2 8

    1 3 75

    2 6

    2 7

    2 10

    1 4 25

    2 8

    2 12

    1 5 60

    2 9

    2 13

    2 1

    2 15'
  output: '110

    120

    130

    190

    200

    230

    235

    245

    275

    255

    295

    300

    340

    110

    325'
- input: '20

    5 10 15 20 25 30 35 40 45 50 55 60 65 70 75 80 85 90 95 100

    1 2

    2 3

    3 4

    4 5

    5 6

    6 7

    7 8

    8 9

    9 10

    10 11

    11 12

    12 13

    13 14

    14 15

    15 16

    16 17

    17 18

    18 19

    19 20

    25

    1 1 500

    2 10

    2 20

    1 5 200

    2 10

    2 15

    1 10 100

    2 15

    2 20

    1 15 50

    2 18

    2 20

    1 18 25

    2 20

    2 1

    2 5

    2 10

    2 15

    2 18

    1 2 1000

    2 3

    2 4

    2 8

    2 12

    2 19'
  output: '550

    600

    750

    775

    875

    900

    940

    950

    975

    505

    725

    850

    925

    965

    1515

    1520

    1740

    1860

    1970'
- input: '1

    100

    1

    2 1'
  output: '100'
- input: '2

    10 20

    1 2

    3

    1 1 50

    2 1

    2 2'
  output: '60

    70'
- input: '4

    10 20 30 40

    1 2

    2 3

    3 4

    4

    1 1 5

    2 1

    2 3

    2 4'
  output: '15

    35

    45'
- input: '5

    100 200 300 400 500

    1 2

    1 3

    1 4

    1 5

    5

    1 1 50

    2 1

    2 2

    2 3

    2 5'
  output: '150

    250

    350

    550'
- input: '7

    1 2 3 4 5 6 7

    1 2

    1 3

    2 4

    2 5

    3 6

    3 7

    6

    1 2 10

    2 4

    2 5

    1 3 20

    2 6

    2 7'
  output: '14

    15

    26

    27'
- input: '6

    5 10 15 20 25 30

    1 2

    2 3

    3 4

    4 5

    5 6

    5

    1 1 100

    2 6

    1 3 50

    2 6

    2 1'
  output: '130

    180

    105'
- input: '5

    50 40 30 20 10

    1 2

    1 3

    2 4

    2 5

    6

    1 2 25

    2 4

    2 5

    1 1 100

    2 1

    2 3'
  output: '45

    35

    150

    130'
