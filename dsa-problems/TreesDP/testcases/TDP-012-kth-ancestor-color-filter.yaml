problem_id: TDP_KTH_ANCESTOR_COLOR__3741
samples:
  - input: |-
      5
      1 2 1 2 1
      1 2
      1 3
      2 4
      2 5
      3
      4 2 1
      5 1 2
      3 1 1
    output: |-
      4
      1
      3
  - input: |-
      3
      1 1 2
      1 2
      2 3
      2
      3 1 1
      3 1 2
    output: |-
      2
      1
public:
  - input: |-
      1
      1
      1
      1 1 1
    output: |-
      1
  - input: |-
      2
      1 2
      1 2
      2
      2 2 1
      2 1 1
    output: |-
      2
      1
  - input: |-
      4
      1 2 3 1
      1 2
      2 3
      3 4
      2
      4 1 1
      4 1 2
    output: |-
      4
      1
hidden:
  - input: |-
      10
      1 2 1 2 1 2 1 2 1 2
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      5
      10 2 1
      10 1 3
      7 2 2
      5 1 1
      3 2 1
    output: |-
      10
      5
      4
      5
      2
  - input: |-
      15
      1 1 1 2 2 2 3 3 3 1 1 1 2 2 2
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      4 8
      5 9
      6 10
      7 11
      8 12
      9 13
      10 14
      11 15
      10
      12 1 2
      13 2 1
      14 3 1
      15 3 2
      8 2 1
      9 2 2
      10 1 2
      11 3 1
      12 1 3
      13 2 2
    output: |-
      2
      13
      -1
      -1
      4
      -1
      3
      7
      1
      5
  - input: |-
      20
      1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
      15
      20 5 1
      20 4 2
      18 3 2
      15 5 2
      12 2 1
      10 5 1
      8 3 1
      6 1 1
      4 4 1
      2 2 1
      20 1 3
      17 2 2
      14 4 2
      11 1 2
      7 2 1
    output: |-
      20
      14
      13
      10
      12
      10
      8
      6
      4
      2
      11
      12
      9
      6
      7
  - input: |-
      50
      1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
      20 21
      21 22
      22 23
      23 24
      24 25
      25 26
      26 27
      27 28
      28 29
      29 30
      30 31
      31 32
      32 33
      33 34
      34 35
      35 36
      36 37
      37 38
      38 39
      39 40
      40 41
      41 42
      42 43
      43 44
      44 45
      45 46
      46 47
      47 48
      48 49
      49 50
      20
      50 5 5
      45 4 5
      40 4 10
      35 3 10
      30 3 10
      25 2 10
      20 2 10
      15 1 10
      10 1 10
      5 1 5
      50 1 1
      40 2 1
      30 3 1
      20 1 2
      10 2 1
      25 3 1
      35 4 1
      45 5 1
      15 2 1
      8 1 8
    output: |-
      46
      41
      31
      26
      21
      16
      11
      6
      1
      1
      -1
      -1
      -1
      -1
      -1
      -1
      -1
      -1
      -1
      1
  - input: |-
      100
      1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10 1 2 3 4 5 6 7 8 9 10
      1 2
      2 3
      3 4
      4 5
      5 6
      6 7
      7 8
      8 9
      9 10
      10 11
      11 12
      12 13
      13 14
      14 15
      15 16
      16 17
      17 18
      18 19
      19 20
      20 21
      21 22
      22 23
      23 24
      24 25
      25 26
      26 27
      27 28
      28 29
      29 30
      30 31
      31 32
      32 33
      33 34
      34 35
      35 36
      36 37
      37 38
      38 39
      39 40
      40 41
      41 42
      42 43
      43 44
      44 45
      45 46
      46 47
      47 48
      48 49
      49 50
      50 51
      51 52
      52 53
      53 54
      54 55
      55 56
      56 57
      57 58
      58 59
      59 60
      60 61
      61 62
      62 63
      63 64
      64 65
      65 66
      66 67
      67 68
      68 69
      69 70
      70 71
      71 72
      72 73
      73 74
      74 75
      75 76
      76 77
      77 78
      78 79
      79 80
      80 81
      81 82
      82 83
      83 84
      84 85
      85 86
      86 87
      87 88
      88 89
      89 90
      90 91
      91 92
      92 93
      93 94
      94 95
      95 96
      96 97
      97 98
      98 99
      99 100
      10
      100 10 5
      90 9 5
      80 8 5
      70 7 5
      60 6 5
      50 5 5
      40 4 5
      30 3 5
      20 2 5
      10 1 5
    output: |-
      60
      50
      40
      30
      20
      10
      -1
      -1
      -1
      -1
  - input: |-
      1
      0
      1
      1 1 0
    output: |-
      1
  - input: |-
      3
      0 1 0
      1 2
      2 3
      2
      3 1 0
      3 2 0
    output: |-
      2
      1
  - input: |-
      6
      1 2 1 2 1 2
      1 2
      2 3
      3 4
      4 5
      5 6
      5
      6 1 1
      6 2 2
      4 1 2
      3 2 1
      2 1 1
    output: |-
      5
      4
      1
      2
      1
  - input: |-
      5
      1 1 1 1 1
      1 2
      1 3
      1 4
      1 5
      4
      2 1 1
      2 1 2
      3 1 1
      4 1 2
    output: |-
      2
      1
      3
      1
  - input: |-
      7
      1 2 3 1 2 3 1
      1 2
      1 3
      2 4
      2 5
      3 6
      3 7
      6
      4 1 1
      5 2 1
      6 3 1
      7 1 1
      4 2 1
      6 1 1
    output: |-
      4
      5
      6
      7
      2
      1
