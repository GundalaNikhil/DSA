Reviewing Topic: AdvancedGraphs
============================================================
ID: AGR-001
Problem File: AGR-001-min-cut-small-graph.md
Editorial File: AGR-001-min-cut-small-graph.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected weighted graph with `n` nodes, compute the value of the **global minimum cut**. The cut value is the total weight of edges crossing between the two partitions.  ![Problem Illustration](../images/AGR-001/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200` - `0 <= m <= 2000` - `0 <= w <= 10^9` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Given an undirected weighted graph, find the **Global Minimum Cut**. This is the minimum total weight of edges that, if removed, would disconnect the graph into two non-empty components.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Disconnected Graph:** If the graph is initially disconnected, the min cut is 0. Stoer-Wagner handles this naturally (a phase will find a 0-weight cut). -   **Self-Loops:** Merging nodes creates self-loops. These must be ignored or removed. -   **Adjacency Matrix:** Since N <= 200, an adjacency...
============================================================

ID: AGR-002
Problem File: AGR-002-max-flow-vertex-capacity.md
Editorial File: AGR-002-max-flow-vertex-capacity.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a directed graph with edge capacities and **vertex capacities**. Compute the maximum flow from source `s` to sink `t` while respecting both edge and vertex limits.  A vertex with capacity `C` can carry at most `C` units of flow through it. The source and sink have unlimited capacity.  ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 2000` - `0 <= m <= 5000` - `0 <= c <= 10^9` - `cap[i] = -1` or `0 <= cap[i] <= 10^9` - `0 <= s, t < n`, `s != t`
-------------------- EDITORIAL SUMMARY ----------------------
Compute the maximum flow in a network where not only edges but also **vertices** have capacity limits. A vertex capacity limits the total flow passing *through* that vertex.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Infinite Capacity:** Input uses `-1`. Treat this as `10^18` (safe large number). -   **Source/Sink:** The problem says `s` and `t` have unlimited capacity. So `s_in -> s_out` and `t_in -> t_out` should be Infinite. -   **Node Indexing:** Original `i` maps to `2*i` and `2*i+1`. Total nodes `2*N...
============================================================

ID: AGR-003
Problem File: AGR-003-k-shortest-loopless-paths.md
Editorial File: AGR-003-k-shortest-loopless-paths.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed weighted graph, find the `k` shortest **simple** paths from source `s` to target `t` (no repeated vertices). Output the path lengths in ascending order.  If fewer than `k` simple paths exist, output all of them.  ![Problem Illustration](../images/AGR-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 500` - `0 <= m <= 5000` - `1 <= k <= 50` - `0 <= w <= 10^9` - `0 <= s, t < n`
-------------------- EDITORIAL SUMMARY ----------------------
Find the `K` shortest **simple** paths (paths without repeated vertices) from a source `s` to a target `t`. Output their lengths in ascending order.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Simple Paths:** Crucial. Standard Eppstein’s algorithm finds paths with loops. Yen's handles simple paths if we explicitly block Root Path nodes. -   **Output:** Only lengths. If fewer than K exist, output as many as found. -   **Constraints:** N=500, K=50. Yen's is `O(K * N * (M + N log N))`....
============================================================

ID: AGR-004
Problem File: AGR-004-apsp-with-negatives.md
Editorial File: AGR-004-apsp-with-negatives.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed weighted graph with no negative cycles, compute the shortest path distance between every pair of nodes.  ![Problem Illustration](../images/AGR-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2000` - `0 <= m <= 5000` - `-10^9 <= w <= 10^9` - The graph has no negative cycles
-------------------- EDITORIAL SUMMARY ----------------------
Compute the shortest path distance between **every pair of nodes** in a graph that may contain **negative edge weights** (but no negative cycles).
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **INF:** Use a large number (e.g., `1e18`) for unreachable nodes. -   **Output:** Print "INF" string for infinity. -   **Constraints:** N=2000. Floyd-Warshall (O(N^3)) is too slow. Johnson's (O(NM log N)) is required.
============================================================

ID: AGR-005
Problem File: AGR-005-bridges-and-2ecc.md
Editorial File: AGR-005-bridges-and-2ecc.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph, find all bridges and compute the 2-edge-connected components (2ECCs). A 2ECC is a maximal set of nodes that stays connected after removing any single edge. ![Problem Illustration](../images/AGR-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= m <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Identify all **bridges** in a graph and partition the vertices into **2-Edge-Connected Components (2ECCs)**. A 2ECC is a subgraph where removing any single edge does not disconnect the subgraph.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Parallel Edges:** The problem doesn't explicitly forbid them. If parallel edges exist between `u` and `v`, `(u, v)` is NOT a bridge (unless all but one are removed, but here we consider the static graph). Standard logic: pass edge index to DFS to distinguish parallel edges. -   **Output Order:...
============================================================

ID: AGR-006
Problem File: AGR-006-articulation-and-bcc.md
Editorial File: AGR-006-articulation-and-bcc.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph, find all articulation points and all vertex-biconnected components (BCCs). A BCC is a maximal set of vertices that remains connected after removing any single vertex from the set. ![Problem Illustration](../images/AGR-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= m <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Find all **Articulation Points** (vertices whose removal increases the number of connected components) and **Biconnected Components (BCCs)** (maximal subgraphs such that any two vertices in the subgraph can be connected by at least two vertex-disjoint paths).
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **BCC Format:** A BCC is a set of vertices. Since an edge belongs to exactly one BCC, but a vertex can belong to multiple, we extract BCCs as sets of edges and then collect unique vertices. -   **Output:** APs sorted. BCCs in any order. -   **Disconnected Graph:** Handle by running DFS on all un...
============================================================

ID: AGR-007
Problem File: AGR-007-eulerian-trail-directed.md
Editorial File: AGR-007-eulerian-trail-directed.md
-------------------- PROBLEM DESCRIPTION --------------------
Determine whether a directed graph has an Eulerian trail (a path that uses every edge exactly once). If it exists, output one such trail.  ![Problem Illustration](../images/AGR-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Find a path in a directed graph that visits every edge exactly once. If the path starts and ends at the same vertex, it's an **Eulerian Circuit**. If they are different, it's an **Eulerian Trail**.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **M=0:** A graph with no edges has an Eulerian trail of length 1 (just the node). Output `YES` and any node. -   **Output Format:** `YES` followed by the sequence of nodes. -   **Edge Removal:** Efficiently remove edges. `adj[u].pop()` is O(1). Using an index pointer `ptr[u]` is cleaner.
============================================================

ID: AGR-008
Problem File: AGR-008-scc-compression.md
Editorial File: AGR-008-scc-compression.md
-------------------- PROBLEM DESCRIPTION --------------------
Find the strongly connected components (SCCs) of a directed graph and build the condensation DAG where each SCC is contracted into a single node.  ![Problem Illustration](../images/AGR-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= m <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Decompose a directed graph into its **Strongly Connected Components (SCCs)**. Then, contract each SCC into a single node to form a **Condensation Graph**, which is always a Directed Acyclic Graph (DAG).
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Component IDs:** Can be any range `0` to `k-1`. -   **Duplicate Edges:** The condensation graph should not have multi-edges. `A->B` should appear once even if there are 100 edges from nodes in A to nodes in B. -   **Self-Loops:** The condensation graph is a DAG, so no self-loops `A->A` (edges ...
============================================================

ID: AGR-009
Problem File: AGR-009-bipartite-matching-node-capacity.md
Editorial File: AGR-009-bipartite-matching-node-capacity.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a bipartite graph with left part `U` and right part `V`. Each node `u` in `U` has capacity `capU[u]` (maximum number of matches it can take), and each node `v` in `V` has capacity `capV[v]`.  Find the maximum matching size respecting these capacities.  ![Problem Illustration](../images...
-------------------- PROBLEM CONSTRAINTS --------------------
---
-------------------- EDITORIAL SUMMARY ----------------------
Find the maximum number of edges we can select in a bipartite graph such that each node `u` in the left set is incident to at most `capU[u]` selected edges, and each node `v` in the right set is incident to at most `capV[v]` selected edges.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Capacities:** Can be large (`10^9`), so use `long` (64-bit integer) for flow. -   **Node Indexing:** Input gives `u` (0 to nU-1) and `v` (0 to nV-1). In the flow graph, you can map them to `1..nU` and `nU+1..nU+nV`. -   **Multiple Edges:** If input contains duplicate `u-v` edges, they are effe...
============================================================

ID: AGR-010
Problem File: AGR-010-bipartite-min-cost-vertex-cover.md
Editorial File: AGR-010-bipartite-min-cost-vertex-cover.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a bipartite graph with left part `U` and right part `V`. Each vertex has a non-negative weight. Find the minimum total weight vertex cover.  A vertex cover is a set of vertices such that every edge has at least one endpoint in the set.  ![Problem Illustration](../images/AGR-010/problem...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= nU + nV <= 100000` - `0 <= m <= 200000` - `0 <= weight <= 10^9` - `0 <= u < nU`, `0 <= v < nV`
-------------------- EDITORIAL SUMMARY ----------------------
Given a bipartite graph where each node has a weight, find a subset of vertices with the minimum total weight such that every edge is incident to at least one vertex in the subset.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Weights:** Can be 0. Can be large (`10^9`). Use `long`. -   **INF:** Use a value larger than sum of all weights (e.g., `1e18`). -   **Output:** Only the cost is required, not the vertices.
============================================================

ID: AGR-011
Problem File: AGR-011-dinic-with-scaling.md
Editorial File: AGR-011-dinic-with-scaling.md
-------------------- PROBLEM DESCRIPTION --------------------
Compute the maximum flow in a directed graph using Dinic's algorithm with capacity scaling.  ![Problem Illustration](../images/AGR-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 5000` - `0 <= m <= 20000` - `0 <= c <= 10^9` - `0 <= s, t < n`, `s != t`
-------------------- EDITORIAL SUMMARY ----------------------
Compute the maximum flow in a directed graph using **Dinic's Algorithm with Capacity Scaling**. This optimization helps when edge capacities are very large.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Large Capacities:** Up to `10^9`. Scaling is effective here. -   **Flow:** Use `long` (64-bit). -   **Complexity:** Scaling adds a `log(MaxCap)` factor but reduces the dependence on E in practice for some cases, or ensures polynomial time `O(E^2 log C)` independent of flow value.
============================================================

ID: AGR-012
Problem File: AGR-012-mincost-flow-demands.md
Editorial File: AGR-012-mincost-flow-demands.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a directed graph with lower and upper bounds on edges and a supply/demand value at each node. Find a feasible circulation that satisfies all demands and minimizes total cost.  If no feasible flow exists, output `INFEASIBLE`.  ![Problem Illustration](../images/AGR-012/problem-illustrati...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 500` - `0 <= m <= 2000` - `-10^9 <= b[i] <= 10^9` - `0 <= low <= high <= 10^9` - `-10^6 <= cost <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
Find a flow in a network that satisfies node supply/demand constraints and edge lower/upper bound capacity constraints, while minimizing the total cost.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Infeasible:** If `sum(positive b) != sum(negative b)` (after adjustments), or if max flow < required supply. -   **Negative Costs:** Allowed. Potentials handle this (unless negative cycle exists, but "circulation" usually implies finding optimal flow in DAG-like structure or saturating negativ...
============================================================

ID: AGR-013
Problem File: AGR-013-k-edge-disjoint-paths.md
Editorial File: AGR-013-k-edge-disjoint-paths.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed graph, determine whether there exist at least `k` edge-disjoint paths from `s` to `t`.  ![Problem Illustration](../images/AGR-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `1 <= k <= 10000` - `0 <= s, t < n`, `s != t`
-------------------- EDITORIAL SUMMARY ----------------------
Determine if there are at least `k` paths from a source `s` to a sink `t` such that no two paths share an edge.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Directed:** Edges are directed. `u->v` is distinct from `v->u`. -   **Optimization:** You can stop the max flow algorithm as soon as the flow reaches `k`. -   **Constraints:** `N=100,000`. Dinic is efficient on unit capacity networks (`O(min(V^{2/3}, E^{1/2}) * E)`).
============================================================

ID: AGR-014
Problem File: AGR-014-tree-diameter-after-removal.md
Editorial File: AGR-014-tree-diameter-after-removal.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a tree with `n` nodes, consider removing each edge one at a time. This splits the tree into two components. Compute the diameter (longest path length in edges) of each component and take the maximum of the two.  Return the maximum diameter value over all edge removals.  ![Problem Illustration]...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
For every edge in a tree, if we remove it, the tree splits into two components. Calculate the diameter of each component, take the maximum of these two, and find the maximum such value over all possible edge removals.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **N:** Up to 200,000. `O(N)` required. -   **Edges:** Unweighted (length 1). -   **Output:** Max of (diam(comp1), diam(comp2)) over all edges.
============================================================

ID: AGR-015
Problem File: AGR-015-directed-cycle-basis.md
Editorial File: AGR-015-directed-cycle-basis.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed graph, output a cycle basis of size `m - n + c`, where `c` is the number of connected components in the underlying undirected graph.  Each cycle should be a simple directed cycle. Any valid basis is accepted.  ![Problem Illustration](../images/AGR-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 500` - `0 <= m <= 2000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Find a **Cycle Basis** of a directed graph consisting of `m - n + c` simple directed cycles, where `m` is edges, `n` is vertices, and `c` is connected components (in the underlying undirected sense).
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Basis Size:** Strictly `m - n + c`. If the graph doesn't support this many directed cycles, the problem constraints/type usually ensure it (e.g., strongly connected components or specific structure). -   **Output Format:** First line `b` (number of cycles). Then each cycle. -   **Cycle Format:...
============================================================

ID: AGR-016
Problem File: AGR-016-offline-lca-with-mods.md
Editorial File: AGR-016-offline-lca-with-mods.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an initial tree on `n` nodes rooted at node `0`. Then you must process a sequence of operations: - `cut u v`: remove the edge between `u` and `v` - `link u v`: add an edge between `u` and `v` - `query u v`: output the LCA of `u` and `v` in the current tree If `u` and `v` are not connec...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= q <= 200000` - `0 <= u, v < n` - Operations are valid and keep the active edges acyclic
-------------------- EDITORIAL SUMMARY ----------------------
Given an initial tree, process `cut` (remove edge), `link` (add edge), and `query` (find LCA) operations. The active edges always form a forest.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Base Tree:** We assume `link` restores initial edges. -   **Disconnected:** Output -1. -   **Offline:** We read all queries first.
============================================================

Reviewing Topic: Arrays
============================================================
ID: ARR-001
Problem File: ARR-001-snack-restock-snapshot.md
Editorial File: ARR-001-snack-restock-snapshot.md
-------------------- PROBLEM DESCRIPTION --------------------
Given daily deliveries `arr[i]`, output prefix averages rounded down for each day.  ![Problem Illustration](../images/ARR-001/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 10^5 - 0 ≤ arr[i] ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
Given an array representing daily inventory values, compute the prefix average (rounded down) for each position.  ![Problem Concept](../images/ARR-001/problem-illustration.png)
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-002
Problem File: ARR-002-bench-flip-locked-ends.md
Editorial File: ARR-002-bench-flip-locked-ends.md
-------------------- PROBLEM DESCRIPTION --------------------
Reverse the array in place but keep the first and last elements fixed; only the middle segment reverses.  ![Problem Illustration](../images/ARR-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 3 ≤ n ≤ 10^5 (minimum 3 elements required) - -10^9 ≤ arr[i] ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
Reverse the middle portion of an array while keeping the first and last elements fixed in their positions.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-003
Problem File: ARR-003-shuttle-shift-blackout.md
Editorial File: ARR-003-shuttle-shift-blackout.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array `arr` of integers, an integer `k` representing the number of positions to rotate left, and an array `blackout` containing indices that must remain fixed in place.  Rotate the array elements left by `k` positions, but keep all elements at blackout indices unchanged.  ![Problem ...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 10^5 - -10^9 ≤ arr[i] ≤ 10^9 - 0 ≤ k ≤ 10^9 - 0 ≤ b ≤ n - All blackout indices are valid and unique
-------------------- EDITORIAL SUMMARY ----------------------
Rotate array elements left by k positions, but keep elements at blackout indices fixed in place.  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-004
Problem File: ARR-004-lab-temperature-ranges.md
Editorial File: ARR-004-lab-temperature-ranges.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a temperature array and queries, some queries are type "add x to range [l,r]" (offline, applied cumulatively), others ask for range sum after all adds. Return answers to sum queries.  ![Problem Illustration](../images/ARR-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n, q ≤ 10^5 - -10^9 ≤ temp[i], x ≤ 10^9 - 0 ≤ l ≤ r < n - All add queries are processed before sum queries
-------------------- EDITORIAL SUMMARY ----------------------
Process range addition queries and sum queries on an array efficiently.  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-005
Problem File: ARR-005-weighted-balance-point.md
Editorial File: ARR-005-weighted-balance-point.md
-------------------- PROBLEM DESCRIPTION --------------------
Find the smallest index `i` where `sum(left) * L == sum(right) * R` for given weights `L` and `R`; left excludes `i`, right excludes `i`. If none exists, return -1.  ![Problem Illustration](../images/ARR-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - -10^9 ≤ a[i] ≤ 10^9 - 1 ≤ L, R ≤ 10^6 - Integer overflow possible, use long
-------------------- EDITORIAL SUMMARY ----------------------
Find an index `i` where `sum(elements left of i) × L == sum(elements right of i) × R`, for given weight multipliers L and R.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-006
Problem File: ARR-006-zero-slide-limit.md
Editorial File: ARR-006-zero-slide-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
Move all zeros to the end but allow at most `m` swaps total; stop once swaps exceed `m`. Return the resulting array.  ![Problem Illustration](../images/ARR-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - 0 ≤ m ≤ 10^9 - Array contains integers
-------------------- EDITORIAL SUMMARY ----------------------
Move all zeros to the end of the array using at most `m` swap operations. If the swap limit is reached before all zeros are moved, stop and return the partially rearranged array.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-007
Problem File: ARR-007-hostel-roster-merge.md
Editorial File: ARR-007-hostel-roster-merge.md
-------------------- PROBLEM DESCRIPTION --------------------
Merge two sorted arrays `A` and `B` into sorted order, but if two equal elements come from different arrays, place the one from `A` before the one from `B`. Return the merged array.  ![Problem Illustration](../images/ARR-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 0 ≤ n, m ≤ 10^5 - -10^9 ≤ A[i], B[i] ≤ 10^9 - Both arrays are sorted in non-decreasing order
-------------------- EDITORIAL SUMMARY ----------------------
Merge two sorted arrays `A` and `B` into a single sorted array. When two elements are equal (one from A, one from B), place the element from A first.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-008
Problem File: ARR-008-partner-pair-sum-forbidden.md
Editorial File: ARR-008-partner-pair-sum-forbidden.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a sorted array and target, find if a pair sums to target such that neither element index is in the `forbidden` set.  ![Problem Illustration](../images/ARR-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - |forbidden| ≤ n - -10^9 ≤ arr[i], target ≤ 10^9 - Array is sorted in non-decreasing order
-------------------- EDITORIAL SUMMARY ----------------------
Find if there exists a pair of elements in a sorted array that sum to a target, but neither element can be from a "forbidden" set of indices.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-009
Problem File: ARR-009-best-streak-smoothing.md
Editorial File: ARR-009-best-streak-smoothing.md
-------------------- PROBLEM DESCRIPTION --------------------
You may choose exactly one index `i` and replace `a[i]` with `floor((a[i-1]+a[i]+a[i+1])/3)` (use existing neighbors; for endpoints, smoothing not allowed). Then compute the maximum subarray sum. Find the maximum achievable sum.  ![Problem Illustration](../images/ARR-009/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 3 ≤ n ≤ 2 × 10^5 - -10^9 ≤ a[i] ≤ 10^9 - Must smooth exactly one middle element (not first or last)
-------------------- EDITORIAL SUMMARY ----------------------
Find maximum subarray sum with option to replace one element with 1.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-010
Problem File: ARR-010-early-discount-window.md
Editorial File: ARR-010-early-discount-window.md
-------------------- PROBLEM DESCRIPTION --------------------
You may buy once and sell once. You must hold the item for at least `dMin` days and at most `dMax` days, and the sell price must not exceed a ceiling `C` (if price > C, you are forced to sell at C). Return maximum achievable profit (or 0 if not profitable).  ![Problem Illustration](../images/ARR-010...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - 0 ≤ price[i] ≤ 10^9 - 1 ≤ dMin ≤ dMax ≤ n - 0 ≤ C ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
Find maximum profit buying and selling stock with a mandatory hold window [dMin, dMax] and a price ceiling C.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-011
Problem File: ARR-011-leaky-roof-reinforcement.md
Editorial File: ARR-011-leaky-roof-reinforcement.md
-------------------- PROBLEM DESCRIPTION --------------------
Given roof heights, you can add planks on top of any positions (increase height) so that water will not spill off either end when raining (heights become non-decreasing from left to peak and non-increasing to right). Find the minimum total plank height to add to achieve a single-peak non-leaking pro...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - 0 ≤ height[i] ≤ 10^9 - Can only add planks (increase height), not remove
-------------------- EDITORIAL SUMMARY ----------------------
Modify an array to have a single-peak (mountain) shape with minimum additions to elements.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-012
Problem File: ARR-012-longest-zero-sum-even.md
Editorial File: ARR-012-longest-zero-sum-even.md
-------------------- PROBLEM DESCRIPTION --------------------
Find the maximum even length of a subarray with sum equal to zero.  ![Problem Illustration](../images/ARR-012/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - -10^9 ≤ arr[i] ≤ 10^9 - Return 0 if no such subarray exists
-------------------- EDITORIAL SUMMARY ----------------------
Find the longest even-length subarray with sum equal to zero.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-013
Problem File: ARR-013-tool-frequency-decay.md
Editorial File: ARR-013-tool-frequency-decay.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array of events where each event is a pair `(value, timestamp)`. Timestamps are non-decreasing. The decayed score of a value `v` at current time `now` with decay factor `D` is:  ``` score(v) = Σ exp(-(now - t_i) / D)   for every occurrence t_i of value v ```  Return the `k` values w...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - 0 ≤ value ≤ 10^9 - Timestamps are non-decreasing, 0 ≤ timestamp ≤ 10^9 - 1 ≤ D ≤ 10^6 - 1 ≤ k ≤ n
-------------------- EDITORIAL SUMMARY ----------------------
Find top K values based on frequency with exponential time decay - recent occurrences count more than old ones.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-014
Problem File: ARR-014-boarding-order-fixed-ones.md
Editorial File: ARR-014-boarding-order-fixed-ones.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array containing only 0s, 1s, and 2s. **All 1s are at their final positions and CANNOT be moved.** Rearrange the array so that: 1. All 0s come before all 2s 2. Every 1 remains at its original index 3. All 0s go in the leftmost available positions 4. All 2s go in the rightmost availa...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - Array contains only values 0, 1, or 2 - Positions of 1s must not change
-------------------- EDITORIAL SUMMARY ----------------------
Sort an array containing only 0s, 1s, and 2s, but keep all 1s at their original positions (they're "anchored").
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-015
Problem File: ARR-015-seat-gap-removals.md
Editorial File: ARR-015-seat-gap-removals.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a sorted array `seats` of seat positions. You must remove the seats whose indices (0-based positions in the array, not seat numbers) are listed in `remove_indices`. After all removals, find the maximum gap between any two consecutive remaining seats. It is guaranteed that at least two ...
-------------------- PROBLEM CONSTRAINTS --------------------
- 2 ≤ n ≤ 2 × 10^5 - 0 ≤ seats[i] ≤ 10^9 - `seats` is sorted in non-decreasing order - 1 ≤ r ≤ n − 2 (at least two seats remain) - Removal indices are valid (0 ≤ idx < n)
-------------------- EDITORIAL SUMMARY ----------------------
Find the maximum gap between consecutive remaining seats after removing seats at specified indices.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: ARR-016
Problem File: ARR-016-power-window-drop.md
Editorial File: ARR-016-power-window-drop.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array of positive integers and a window size `k`, consider every contiguous window of length `k`. For each window you may optionally remove at most one element (or remove none) to maximize the sum of the remaining elements. Return the maximum achievable window sum after this optional single...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - 1 ≤ k ≤ n - 1 ≤ arr[i] ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
Given an array `arr` of `n` integers and an integer `k`, find the **maximum sum** of a contiguous subarray of length `k`, with the option to **drop one element** from that window.  **Constraints**:  - You must select exactly k consecutive elements - You can drop at most 1 element (not required if su...
-------------------- EDITORIAL CONSTRAINTS ------------------
- You must select exactly k consecutive elements - You can drop at most 1 element (not required if sum is already maximum) - If k = 1, you cannot drop (return the element itself) - Array can contain negative numbers  ---
============================================================

Reviewing Topic: Bitwise
============================================================
ID: BIT-001
Problem File: BIT-001-odd-after-bit-salt.md
Editorial File: BIT-001-odd-after-bit-salt.md
-------------------- PROBLEM DESCRIPTION --------------------
Each array element `x` is first transformed to `x' = x XOR salt`, where `salt` is a given integer. In the transformed multiset, exactly one value appears an odd number of times, while all other values appear an even number of times.  Your task is to find that odd-occurring transformed value **withou...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - -10^9 ≤ arr[i] ≤ 10^9 - -10^9 ≤ salt ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
``` ┌─────────────────────────────────────────────────────────┐ │  Core Concepts                                          │ ├─────────────────────────────────────────────────────────┤ │  1. XOR of duplicates = 0 (a ⊕ a = 0)                  │ │  2. XOR is commutative & associative                   ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-002
Problem File: BIT-002-two-unique-with-triples-mask.md
Editorial File: BIT-002-two-unique-with-triples-mask.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array where every number appears exactly three times except two distinct numbers that appear once, find the two unique numbers. Return them in sorted order.  ![Problem Illustration](../images/BIT-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 2 ≤ n ≤ 2 × 10⁵ - 0 ≤ M ≤ 10⁹ - 0 ≤ nums[i] ≤ 10⁹ - Exactly two numbers appear once; all others appear exactly three times
-------------------- EDITORIAL SUMMARY ----------------------
``` ┌─────────────────────────────────────────────────────────┐ │  Core Concepts                                          │ ├─────────────────────────────────────────────────────────┤ │  1. Triples cancel with MOD 3, not XOR                 │ │  2. Remainder 1 means bit contributes to XOR           ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-003
Problem File: BIT-003-bitwise-and-skip-multiples.md
Editorial File: BIT-003-bitwise-and-skip-multiples.md
-------------------- PROBLEM DESCRIPTION --------------------
Given integers L, R, and m, compute the bitwise AND of all numbers in [L, R] that are NOT divisible by m. If no valid numbers exist, return -1.  ![Problem Illustration](../images/BIT-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 0 ≤ L ≤ R ≤ 10¹² - 1 ≤ m ≤ 10⁶
-------------------- EDITORIAL SUMMARY ----------------------
Compute bitwise AND of all numbers in range [L, R] that are NOT divisible by m. Return -1 if no valid numbers exist.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-004
Problem File: BIT-004-pairwise-xor-band-index-parity.md
Editorial File: BIT-004-pairwise-xor-band-index-parity.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a` and integers `L` and `U`, count the number of pairs `(i, j)` such that:  1. `i < j` 2. `(i + j)` is even (both indices have the same parity) 3. `L <= (a[i] XOR a[j]) <= U`  The key constraint is that we only consider pairs where the sum of indices is even, meaning both indices mus...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= a[i] <= 10^9` - `0 <= L <= U <= 10^9` - All array elements are non-negative integers
-------------------- EDITORIAL SUMMARY ----------------------
| Approach        | Time   | Space | Best For           | | --------------- | ------ | ----- | ------------------ | | Brute Force     | O(n²)  | O(1)  | Small n            | | Parity Grouping | O(n·k) | O(1)  | Medium k           | | Window Sliding  | O(n·k) | O(k)  | Small k, streaming |  **Recomme...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-005
Problem File: BIT-005-max-subarray-xor-with-start.md
Editorial File: BIT-005-max-subarray-xor-with-start.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array of non-negative integers and a starting index `s`, find the maximum XOR value of any contiguous subarray that **starts at index `s`**.  In other words, find the maximum value of `a[s] XOR a[s+1] XOR ... XOR a[j]` for all valid `j >= s`.  ``` ASCII Diagram: Subarray XOR from Start ====...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2 * 10^5` - `0 <= s < n` - `0 <= a[i] <= 10^9` - All array elements are non-negative integers
-------------------- EDITORIAL SUMMARY ----------------------
| Approach            | Time   | Space  | Best For         | | ------------------- | ------ | ------ | ---------------- | | Brute Force         | O(n²)  | O(1)   | n ≤ 1000         | | Prefix + Comparison | O(n²)  | O(n)   | Teaching concept | | Trie-Based          | O(n·B) | O(n·B) | Large n, optim...
-------------------- EDITORIAL CONSTRAINTS ------------------
**Question**: Maximum XOR with subarray length ≥ K.  **Answer**: Only query trie after processing at least K elements:  ```python for j, num in enumerate(arr):     prefix ^= num     if j >= K - 1:  # At least K elements         max_xor = max(max_xor, trie.query_max_xor(prefix))     trie.insert(prefi...
============================================================

ID: BIT-006
Problem File: BIT-006-minimal-bits-flip-range.md
Editorial File: BIT-006-minimal-bits-flip-range.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two non-negative integers `x` and `y`, find the smallest value `m` such that flipping the lowest `m` bits of `x` transforms it into `y`.  In other words, find the minimum `m` where `x XOR (2^m - 1) = y`. This means the XOR of `x` and `y` must have all 1s only in the lower `m` bits. If this is ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= x, y <= 10^12` - Numbers fit in 64-bit integers
-------------------- EDITORIAL SUMMARY ----------------------
| Approach          | Time     | Space | Best For        | | ----------------- | -------- | ----- | --------------- | | Bit-by-Bit        | O(log n) | O(1)  | Clarity         | | XOR + Loop Count  | O(k)     | O(1)  | No built-ins    | | Built-in Popcount | O(1)     | O(1)  | Production code |  **Re...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-007
Problem File: BIT-007-count-set-bits-indexed-xor.md
Editorial File: BIT-007-count-set-bits-indexed-xor.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a` of size `n`, compute the total number of set bits across all elements of the sequence `b[i] = i XOR a[i]` for `i` from `0` to `n-1`.  In other words, calculate: `popcount(0 XOR a[0]) + popcount(1 XOR a[1]) + ... + popcount((n-1) XOR a[n-1])`  ``` ASCII Diagram: Indexed XOR Process...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2 * 10^5` - `0 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach           | Time       | Space | Best For           | | ------------------ | ---------- | ----- | ------------------ | | Naive Bit Loop     | O(n log V) | O(1)  | Learning           | | Built-in Popcount  | O(n)       | O(1)  | Production         | | Brian Kernighan    | O(n × k)   | O(1)...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-008
Problem File: BIT-008-maximize-or-k-picks.md
Editorial File: BIT-008-maximize-or-k-picks.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array of `n` non-negative integers, choose exactly `k` elements to maximize the bitwise OR of the chosen set.  ``` ASCII Diagram: OR Maximization =============================== Array: [1, 2, 4], k = 2  Possible selections: 1. {1, 2}: 001 OR 010 = 011 = 3 2. {1, 4}: 001 OR 100 = 101 = 5 3. ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= n <= 2 * 10^5` - `0 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach         | Time        | Space | Optimal?           | | ---------------- | ----------- | ----- | ------------------ | | Brute Force      | O(C(n,k)×k) | O(k)  | Yes (too slow)     | | Greedy           | O(n×k)      | O(n)  | Yes (fast!)        | | Sorted Heuristic | O(n log n)  | O(1)  | N...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-009
Problem File: BIT-009-smallest-absent-xor.md
Editorial File: BIT-009-smallest-absent-xor.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, find the smallest non-negative integer `x` such that NO pair `(i, j)` exists where `a[i] XOR a[j] = x`.  ``` ASCII Diagram: XOR Pairs ========================= Array: [1, 2, 3]  All possible XOR values: 1 XOR 1 = 0 1 XOR 2 = 3 1 XOR 3 = 2 2 XOR 1 = 3 2 XOR 2 = 0 2 XOR 3 = 1 3 XOR...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2 * 10^5` - `0 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach    | Time           | Space      | Best For                           | | ----------- | -------------- | ---------- | ---------------------------------- | | Brute Force | O(n² + MEX)    | O(n²)      | Small arrays, guaranteed small MEX | | XOR Basis   | O(n × log MAX) | O(log MAX) | All c...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-010
Problem File: BIT-010-subset-and-equals-x.md
Editorial File: BIT-010-subset-and-equals-x.md
-------------------- PROBLEM DESCRIPTION --------------------
Count the number of non-empty subsets whose bitwise AND equals exactly `X`.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 20` - `0 <= a[i], X <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach     | Time             | Space | Best For                   | | ------------ | ---------------- | ----- | -------------------------- | | Brute Force  | O(2^n × n)       | O(1)  | Simple, small n            | | Backtracking | O(2^n) amortized | O(n)  | With pruning opportunities | | DP    ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-011
Problem File: BIT-011-toggle-ranges-min-flips.md
Editorial File: BIT-011-toggle-ranges-min-flips.md
-------------------- PROBLEM DESCRIPTION --------------------
You can flip all bits in any chosen subarray (0→1, 1→0). Find the minimum number of such flip operations needed to convert binary array `A` into array `B`.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2 * 10^5` - `A[i], B[i] ∈ {0, 1}`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach                | Time | Space | Best For                     | | ----------------------- | ---- | ----- | ---------------------------- | | Count Mismatch Runs     | O(n) | O(1)  | Clean, efficient             | | XOR Transition Counting | O(n) | O(1)  | Explicit difference tracking | | Di...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-012
Problem File: BIT-012-distinct-subarray-xors.md
Editorial File: BIT-012-distinct-subarray-xors.md
-------------------- PROBLEM DESCRIPTION --------------------
Compute the number of distinct XOR values that appear among all possible subarrays.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^4` - `0 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach    | Time  | Space    | Best For                    | | ----------- | ----- | -------- | --------------------------- | | Brute Force | O(n²) | O(U)     | Clean implementation        | | Prefix XOR  | O(n²) | O(n + U) | Explicit prefix usage       | | Incremental | O(n²) | O(U)     | Most ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-013
Problem File: BIT-013-minimize-max-pair-xor.md
Editorial File: BIT-013-minimize-max-pair-xor.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array of `n` elements (where `n` is even), pair up all elements to minimize the maximum XOR among all pairs. Return that minimal possible maximum XOR value.
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 16` (n is even) - `0 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach              | Time           | Space  | Best For               | | --------------------- | -------------- | ------ | ---------------------- | | Brute Force Recursion | O((n-1)!! × n) | O(n)   | Understanding problem  | | Bitmask DP            | O(2^n × n²)    | O(2^n) | Optimal solution,...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-014
Problem File: BIT-014-bitwise-palindromes-balanced-ones.md
Editorial File: BIT-014-bitwise-palindromes-balanced-ones.md
-------------------- PROBLEM DESCRIPTION --------------------
Count numbers in the range `[L, R]` whose binary representation is a palindrome AND whose number of set bits (1s) is even.
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= L <= R <= 10^12`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach             | Time           | Space | Best For                    | | -------------------- | -------------- | ----- | --------------------------- | | Brute Force          | O(2^n × n)     | O(n)  | n ≤ 20                      | | Generate Palindromes | O(2^(n/2) × n) | O(n)  | n ≤ 40    ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: BIT-015
Problem File: BIT-015-swap-adjacent-2bit-blocks.md
Editorial File: BIT-015-swap-adjacent-2bit-blocks.md
-------------------- PROBLEM DESCRIPTION --------------------
Treat the 32-bit representation of integer `x` as 16 pairs of 2-bit blocks. Swap each pair of adjacent 2-bit blocks and return the resulting integer.  For example, bits 0-1 swap with bits 2-3, bits 4-5 swap with bits 6-7, and so on.  ``` ASCII Diagram: 2-Bit Block Swapping ==========================...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= x <= 10^9` - Assume unsigned 32-bit operations
-------------------- EDITORIAL SUMMARY ----------------------
Given a 32-bit integer, treat it as 16 pairs of 2-bit blocks and swap each pair of adjacent blocks. This elegant bit manipulation problem tests your understanding of bit masking and shifting operations—fundamental techniques in low-level programming and systems design.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** A single non-negative integer `x` (0 ≤ x ≤ 10⁹, treated as 32-bit unsigned) - **Output:** The integer after swapping adjacent 2-bit blocks - **Block Definition:** Bits at positions 2i and 2i+1 form block i (0-indexed from right) - **Swap Operation:** Block i swaps with block i+1 for i =...
============================================================

ID: BIT-016
Problem File: BIT-016-max-or-subarray-leq-k.md
Editorial File: BIT-016-max-or-subarray-leq-k.md
-------------------- PROBLEM DESCRIPTION --------------------
Find the maximum length of a contiguous subarray whose bitwise OR value is less than or equal to `K`.  ``` ASCII Diagram: OR Subarray Concept =================================== Array: [1, 2, 4, 1], K = 7  Checking subarrays: [1]: OR = 1 ≤ 7 ✓ length 1 [1,2]: OR = 1|2 = 3 ≤ 7 ✓ length 2 [1,2,4]: OR ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2 * 10^5` - `0 <= a[i], K <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
| Approach       | Time  | Space | Best For               | | -------------- | ----- | ----- | ---------------------- | | Brute Force    | O(n²) | O(1)  | Understanding, small n | | Sliding Window | O(n)  | O(1)  | Optimal, all cases     |  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
In software configuration management, features are represented as bitmasks. When selecting a subset of features to enable, the combined feature set (via OR operation) must not exceed a resource budget K. Finding the maximum number of consecutive features that can be enabled helps optimize system con...
============================================================

Reviewing Topic: Concurrency
============================================================
ID: CON-001
Problem File: CON-001-mutex-vs-spinlock-selection.md
Editorial File: CON-001-mutex-vs-spinlock-selection.md
-------------------- PROBLEM DESCRIPTION --------------------
You are reviewing a performance bug in a multi-threaded service. A shared counter/structure is protected by a lock. Based on rough timing estimates, decide whether a **mutex** (sleeping lock) or a **spinlock** (busy-wait lock) is more appropriate, and justify the choice.  This is a **reasoning** que...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 < cs <= 10^6` - `0 <= w <= 10^9` - Assume a modern OS where:   - Mutex may park a thread and cause a context switch (non-trivial overhead)   - Spinlocks burn CPU while waiting
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-002
Problem File: CON-002-producer-consumer-priority-aging.md
Editorial File: CON-002-producer-consumer-priority-aging.md
-------------------- PROBLEM DESCRIPTION --------------------
Design a **bounded, thread-safe priority queue** that supports **multiple producers** and **multiple consumers**:  - Higher integer priority means “more important”. - When the queue is full, producers **block** until space is available. - When the queue is empty, consumers **block** until an item is...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= capacity <= 10^6` - `1 <= T <= 10^9` (ms) - Many threads (assume tens to thousands) - Must be safe under:   - spurious wakeups   - thread preemption at any point
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-003
Problem File: CON-003-readers-writers-lease.md
Editorial File: CON-003-readers-writers-lease.md
-------------------- PROBLEM DESCRIPTION --------------------
You are building an in-memory cache used by many threads:  - Readers are frequent and should be fast. - Writers are less frequent but must not starve.  Design a **readers-writers lock** variant where each reader acquires a **lease time `L`**:  - A reader may hold the lock only until its lease expire...
-------------------- PROBLEM CONSTRAINTS --------------------
- Many threads (assume high contention) - Lease times up to seconds (`L <= 10^4 ms` is typical, but design should be general) - Must handle:   - reader crash/forgetting to release (lease expiry is the safety net)   - frequent renewals without starving writers
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-004
Problem File: CON-004-reusable-barrier.md
Editorial File: CON-004-reusable-barrier.md
-------------------- PROBLEM DESCRIPTION --------------------
In parallel programming, a **barrier** is a synchronization point: no thread can proceed past the barrier until **all `N` threads** have arrived.  Design and implement a **reusable** barrier for `N` threads:  - The same threads will hit the barrier multiple times (phases). - The barrier must release...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N <= 10^4` - Many phases; threads can be preempted arbitrarily
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-005
Problem File: CON-005-semaphore-rate-limiter.md
Editorial File: CON-005-semaphore-rate-limiter.md
-------------------- PROBLEM DESCRIPTION --------------------
Design a rate limiter that allows at most **`k` events per second** across multiple threads.  Requirements:  - Threads call `acquire()` before doing an event. - If the rate limit is exceeded, callers must **block** (or wait) until they are allowed. - Use a **semaphore/token** approach with a refill ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 10^6` - Many threads can call `acquire()` simultaneously - Assume wall-clock time can jump; monotonic clock is preferred
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-006
Problem File: CON-006-deadlock-detection-resource-graph.md
Editorial File: CON-006-deadlock-detection-resource-graph.md
-------------------- PROBLEM DESCRIPTION --------------------
In a database or OS, you can model lock waiting as a **wait-for graph**:  - Each node is a thread/transaction. - A directed edge `A -> B` means: “A is waiting for a resource held by B”.  A **deadlock** exists if and only if the graph contains a **cycle**.  Given snapshots of a wait-for graph, detect...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - Graph can be disconnected
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-007
Problem File: CON-007-dining-philosophers-staggered.md
Editorial File: CON-007-dining-philosophers-staggered.md
-------------------- PROBLEM DESCRIPTION --------------------
Classic Dining Philosophers: each philosopher needs two forks (left and right) to eat.  Twist: forks are **asymmetric**:  - A **normal fork** can be held in one hand. - A **two-hand fork** requires both hands to hold (so a philosopher cannot hold any other fork at the same time).  Given:  - `P` phil...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= P <= 10^4` - Fork types known ahead of time - Threads can be paused/preempted arbitrarily
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-008
Problem File: CON-008-threadpool-work-stealing.md
Editorial File: CON-008-threadpool-work-stealing.md
-------------------- PROBLEM DESCRIPTION --------------------
Design a thread pool that uses **work stealing**:  - There are `W` worker threads. - Each worker owns a deque of tasks. - The worker pushes/pops from the **head** (LIFO locally for cache locality). - An idle worker (thief) steals from the **tail** (FIFO stealing for fairness).  You must design the d...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= W <= 10^4` - Total tasks up to `10^6` - Must scale under contention (avoid a single global lock if possible)
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-009
Problem File: CON-009-atomicity-cas-loop.md
Editorial File: CON-009-atomicity-cas-loop.md
-------------------- PROBLEM DESCRIPTION --------------------
You are implementing a concurrent counter without a mutex.  1) Show how to implement `atomicIncrement()` using a **compare-and-swap (CAS)** loop.  2) Explain the **ABA problem**: how it can break CAS-based algorithms even when “the value looks unchanged”.  3) Propose at least one mitigation strategy...
-------------------- PROBLEM CONSTRAINTS --------------------
- Many threads - You must assume preemption can happen between any two instructions
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-010
Problem File: CON-010-lock-free-queue-sketch.md
Editorial File: CON-010-lock-free-queue-sketch.md
-------------------- PROBLEM DESCRIPTION --------------------
Outline the **Michael–Scott lock-free queue** (a classic concurrent FIFO queue):  - Uses atomic `head` and `tail` pointers - Supports `enqueue(x)` and `dequeue()` concurrently by many threads - Must remain correct without a global lock  Additionally, discuss why **memory reclamation** is a hard part...
-------------------- PROBLEM CONSTRAINTS --------------------
- Many threads and high contention - Must be linearizable (operations appear atomic)
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-011
Problem File: CON-011-condvar-spurious-wakeup.md
Editorial File: CON-011-condvar-spurious-wakeup.md
-------------------- PROBLEM DESCRIPTION --------------------
Condition variables can wake up without a matching signal (**spurious wakeup**) and signals can be “missed” if you use them incorrectly (**lost wakeup**).  Show the correct wait-loop pattern for a condition variable, and explain:  - why you must check a predicate in a loop - how to avoid lost wakeup...
-------------------- PROBLEM CONSTRAINTS --------------------
- N/A
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-012
Problem File: CON-012-priority-inversion-scenario.md
Editorial File: CON-012-priority-inversion-scenario.md
-------------------- PROBLEM DESCRIPTION --------------------
Describe a concrete scenario of **priority inversion**:  - A high-priority thread is blocked waiting for a lock held by a low-priority thread. - A medium-priority thread runs and prevents the low-priority thread from making progress. - Result: high-priority thread is indirectly delayed by the medium...
-------------------- PROBLEM CONSTRAINTS --------------------
- N/A (conceptual)
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-013
Problem File: CON-013-fair-ticket-lock.md
Editorial File: CON-013-fair-ticket-lock.md
-------------------- PROBLEM DESCRIPTION --------------------
Implement a fair lock using the **ticket lock** idea:  - `nextTicket` is an atomic counter that hands out ticket numbers. - `nowServing` is an atomic counter indicating which ticket may enter.  A thread:  1. Fetches a ticket number. 2. Spins (or waits) until `nowServing` matches its ticket. 3. On un...
-------------------- PROBLEM CONSTRAINTS --------------------
- Many threads / many cores
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-014
Problem File: CON-014-bounded-retry-backoff.md
Editorial File: CON-014-bounded-retry-backoff.md
-------------------- PROBLEM DESCRIPTION --------------------
When many threads retry at the same time (e.g., lock-free CAS failures, transient network errors), immediate retries can cause a **thundering herd** and reduce throughput.  Design bounded retry logic with **exponential backoff**:  - Start with a small delay (e.g., 1ms) - Double delay after each fail...
-------------------- PROBLEM CONSTRAINTS --------------------
- N/A
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-015
Problem File: CON-015-hazards-signal-handlers.md
Editorial File: CON-015-hazards-signal-handlers.md
-------------------- PROBLEM DESCRIPTION --------------------
In POSIX, signal handlers can interrupt your program at almost any point, even while it holds locks or is inside `malloc()`.  1) Identify why many functions are **async-signal-unsafe** in a handler.  2) Design a minimal-safe handler that:  - performs only async-signal-safe operations - sets a flag (...
-------------------- PROBLEM CONSTRAINTS --------------------
- POSIX signals
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: CON-016
Problem File: CON-016-mvcc-basics.md
Editorial File: CON-016-mvcc-basics.md
-------------------- PROBLEM DESCRIPTION --------------------
Many databases use MVCC to let **readers avoid blocking writers** (and vice versa) by keeping multiple versions of rows/records.  Explain MVCC at a fundamental level:  - What version metadata is stored (timestamps/transaction ids) - How reads pick a visible version (snapshot rules) - How writes crea...
-------------------- PROBLEM CONSTRAINTS --------------------
- N/A (conceptual)
-------------------- EDITORIAL SUMMARY ----------------------
Section not found.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

Reviewing Topic: DP
============================================================
ID: DP-001
Problem File: DP-001-staircase-cracked-steps-maxjump.md
Editorial File: DP-001-staircase-cracked-steps-maxjump.md
-------------------- PROBLEM DESCRIPTION --------------------
You are climbing a staircase with `n` steps (numbered `1` to `n`). You start at step `0` (ground) and want to reach step `n`.  From any step `i`, you may jump to `i+1`, `i+2`, ..., `i+J` (as long as you do not go past `n`).  Some steps are **cracked** and you **cannot land** on them (but you may jum...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= J <= 50` - `0 <= m <= 100000` - Cracked indices are in range `1..n` (if `n` is cracked, answer is `0`)
-------------------- EDITORIAL SUMMARY ----------------------
You need to count how many distinct ways you can reach step `n` from step `0` when you can jump `1..J` steps at a time, but you are not allowed to **land** on cracked steps. Since the number of ways can explode quickly, you must return the answer modulo `1_000_000_007`.  This is a classic “counting ...
-------------------- EDITORIAL CONSTRAINTS ------------------
These details decide whether your solution is correct:  - You start at step `0`, so `dp[0] = 1` (one way to be at the start). - You may jump **over** cracked steps; you just cannot **land** on them. - If step `n` is cracked, answer is `0` (destination is blocked). - Apply modulo `1_000_000_007` at e...
============================================================

ID: DP-002
Problem File: DP-002-capped-coin-change-penalty.md
Editorial File: DP-002-capped-coin-change-penalty.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `k` coin types. Coin type `i` has:  - denomination `d[i]` - maximum usable count `c[i]` - penalty `p[i]`  You want to form an exact sum `target`.  Cost rules:  - Each coin you use contributes `+1` to total cost. - For each coin type `i`, if you use **more than** `floor(c[i]/2)` coins o...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 50` - `1 <= target <= 5000` - `1 <= d[i] <= 5000` - `0 <= c[i] <= 10^9` (effective usage is capped by `target / d[i]`) - `0 <= p[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You must form an exact sum `target` using `k` coin types. Each type has a denomination `d[i]` and a maximum count `c[i]`. The base cost is the total number of coins used. But there is a twist: if you use **more than** `floor(c[i]/2)` coins of a type, you pay a one-time penalty `p[i]` for that type. ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- You must form **exactly** `target`. Not “at least”. - For each type `i`, you may use `0..c[i]` coins. - The penalty `p[i]` is charged:   - **once per type** (not per coin)   - only if `used_i > floor(c[i]/2)` - If `c[i]` is huge (even 10^9), you still cannot use more than `target / d[i]` coins of ...
============================================================

ID: DP-003
Problem File: DP-003-required-weight-knapsack.md
Editorial File: DP-003-required-weight-knapsack.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` items. Item `i` has weight `w[i]` and value `v[i]`. You also have a knapsack with maximum capacity `W`.  Unlike classic knapsack, you must select items such that the **total weight is at least `R`** (required minimum weight) and **at most `W`**.  Your task is to maximize the total ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200` - `1 <= W <= 5000` - `0 <= R <= W` - `1 <= w[i] <= W` - `0 <= v[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` items, each with a weight and a value. You want the **maximum value**, but you are only allowed to choose a subset whose total weight is:  - **at least** `R` (required minimum), and - **at most** `W` (capacity).  This is a 0/1 knapsack variant where the final answer is not necessarily `...
-------------------- EDITORIAL CONSTRAINTS ------------------
- It is **0/1 knapsack**: each item can be taken **at most once**. - You must satisfy **both** constraints:   - `totalWeight <= W` (hard cap)   - `totalWeight >= R` (required minimum) - If no subset can reach weight ≥ `R` within capacity `W`, output `-1`. - Values can sum large, so use 64-bit intege...
============================================================

ID: DP-004
Problem File: DP-004-exact-count-subset-sum.md
Editorial File: DP-004-exact-count-subset-sum.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an integer array `arr` of length `n`, determine whether there exists a subset of **exactly `k` elements** whose sum is exactly `target`.  Print `true` if such a subset exists, otherwise print `false`.  ![Problem Illustration](../images/DP-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200` - `0 <= target <= 5000` - `0 <= k <= n` - `0 <= arr[i] <= 5000`
-------------------- EDITORIAL SUMMARY ----------------------
Given an array `arr`, you must decide if there exists a subset of **exactly `k` elements** whose sum equals `target`.  Return `true` if possible, otherwise `false`.  This is stricter than classic subset sum because “any number of elements” is not allowed—you must hit both:  - exact sum - exact count
-------------------- EDITORIAL CONSTRAINTS ------------------
- Output must be lowercase: `true` or `false`. - If `k = 0`, only the empty subset is allowed:   - answer is `true` iff `target = 0` - Values are non-negative (this is important: bitset DP works cleanly).
============================================================

ID: DP-005
Problem File: DP-005-keyboard-row-edit-distance-shift.md
Editorial File: DP-005-keyboard-row-edit-distance-shift.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given two lowercase strings `a` and `b`. You want to convert `a` into `b` using the following operations:  1. **Insert** one character (cost = 1) 2. **Delete** one character (cost = 1) 3. **Replace** one character `x` with another character `y` (cost depends on keyboard position):    - cost ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= len(a), len(b) <= 2000` - `a` and `b` contain only lowercase English letters `a..z`
-------------------- EDITORIAL SUMMARY ----------------------
Convert string `a` to string `b` with operations:  - insert (cost 1) - delete (cost 1) - replace (cost depends on keyboard row/hand; 0 if same character)  This is a weighted version of Levenshtein edit distance. You must compute the minimum total cost for strings up to length 2000.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: DP-006
Problem File: DP-006-strict-jump-lis-bounded.md
Editorial File: DP-006-strict-jump-lis-bounded.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an integer array `a` of length `n` and two integers `d` and `g` (`d <= g`).  Find the length of the longest subsequence `a[i1], a[i2], ..., a[ik]` (with `i1 < i2 < ... < ik`) such that for every consecutive pair:  `d <= a[i(t+1)] - a[i(t)] <= g`  Return the maximum possible length `k`....
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `-10^9 <= a[i] <= 10^9` - `0 <= d <= g <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Find the longest subsequence (preserving original order) where consecutive chosen values differ by a bounded range:  `d <= next - prev <= g`  This resembles LIS, but instead of “increasing” you need “difference in [d, g]”.  Constraints (`n` up to 100,000) force an `O(n log n)` approach.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Subsequence must preserve indices (`i1 < i2 < ...`). - If `d = 0`, equal consecutive values are allowed. - Negative numbers are allowed in the array. - Answer is at least 1 (pick any single element).
============================================================

ID: DP-007
Problem File: DP-007-auditorium-max-sum-gap-three.md
Editorial File: DP-007-auditorium-max-sum-gap-three.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an integer array `a` of length `n`. You want to select a subset of indices to maximize the sum of selected values, with the constraint:  For any two selected indices `i` and `j` (`i != j`), `|i - j| >= 3`.  In other words, if you pick index `i`, you cannot pick `i-1`, `i-2`, `i+1`, or ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a[0..n-1]`. Pick some indices so that any two picked indices are at least 3 apart, and maximize the sum of the picked values.  Key constraint:  - If you pick `i`, you must skip `i-1`, `i-2`, `i+1`, `i+2`.  Return the maximum possible sum. You are allowed to pick nothing (sum ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- Indices are 0-based conceptually, but input is just a list. - Gap rule: for any two chosen indices `i` and `j`, `|i-j| >= 3`. - You may choose an empty set. That means the answer is at least `0`.   - Example: `[-5, -2]` ⇒ answer `0`. - Values can be negative and large in magnitude, so use 64-bit (...
============================================================

ID: DP-008
Problem File: DP-008-grid-paths-turn-limit.md
Editorial File: DP-008-grid-paths-turn-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
You are in an `m x n` grid, starting at the top-left cell `(0,0)` and wanting to reach the bottom-right cell `(m-1, n-1)`.  You may move only:  - **Right** (increase column by 1), or - **Down** (increase row by 1)  A **turn** occurs when your move direction changes between consecutive moves (Right→D...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m, n <= 100` - `0 <= T <= 50`
-------------------- EDITORIAL SUMMARY ----------------------
Count the number of paths from `(0,0)` to `(m-1,n-1)` in an `m x n` grid using only Right and Down moves, with the additional constraint that the path uses **at most `T` turns**.  A “turn” is a change in direction between consecutive moves. The first move does not count as a turn. Output the count m...
-------------------- EDITORIAL CONSTRAINTS ------------------
- Start: `(0,0)` - End: `(m-1, n-1)` - Moves allowed: Right `(r,c)->(r,c+1)` and Down `(r,c)->(r+1,c)` - Turn happens when direction changes: R→D or D→R - The first move does not count as a turn (no previous direction) - We count paths with **at most** `T` turns (not exactly T) - Use modulo `1_000_0...
============================================================

ID: DP-009
Problem File: DP-009-flooded-campus-min-cost-free.md
Editorial File: DP-009-flooded-campus-min-cost-free.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an `m x n` grid of non-negative costs `cost[i][j]`. You start at the top-left cell `(0,0)` and want to reach the bottom-right cell `(m-1, n-1)` by moving only **Right** or **Down**.  You may choose up to `f` cells to traverse **for free** (their cost becomes 0). Each cell’s cost can be...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m, n <= 200` - `0 <= cost[i][j] <= 10^4` - `0 <= f <= 10`
-------------------- EDITORIAL SUMMARY ----------------------
You need the minimum-cost path from the top-left to bottom-right of a grid, moving only right or down. Each cell has a non-negative cost. You can mark up to `f` cells to be **free** (cost 0). Each cell can be discounted at most once.  Compute the minimum possible total cost.
-------------------- EDITORIAL CONSTRAINTS ------------------
- You may use fewer than `f` free cells if that is optimal. - Freeing `(0,0)` or `(m-1,n-1)` is allowed. - Movement: only right or down. - Costs are non-negative, so taking a free cell is never worse locally, but you must manage the budget globally. - Answer fits in 64-bit because costs up to `10^4`...
============================================================

ID: DP-010
Problem File: DP-010-lcs-with-skips.md
Editorial File: DP-010-lcs-with-skips.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given two lowercase strings `a` and `b`, and an integer `s`.  You may **delete** (skip) characters from `a`, but you are allowed to delete **at most `s` characters from `a`** in total. You can delete any number of characters from `b` (unlimited), as in a standard subsequence match.  Find the...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= |a|, |b| <= 2000` - `0 <= s <= |a|` - Strings consist of lowercase English letters `a..z`
-------------------- EDITORIAL SUMMARY ----------------------
Find the length of the longest common subsequence of strings `a` and `b` **under the constraint** that you delete (skip) **at most `s` characters from `a`**. Deletions from `b` are unlimited (as in normal subsequence matching).  If no common subsequence fits within the skip budget (`a` would need mo...
-------------------- EDITORIAL CONSTRAINTS ------------------
- Skips (deletions) from `a` are **limited** to `s`. - Skips from `b` are unlimited (standard subsequence notion). - Answer `-1` means: even the maximum LCS would require more than `s` deletions from `a`. - Empty strings are allowed.
============================================================

ID: DP-011
Problem File: DP-011-expression-target-mod-minus.md
Editorial File: DP-011-expression-target-mod-minus.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given:  - a digit string `s` (length up to 12) - an integer modulus `M` - a target remainder `K` - a maximum chunk length `Lmax`  You must split `s` into chunks of length `1..Lmax` (from left to right, no reordering) and insert `+` or `-` between chunks to form an expression.  Rules:  - No c...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 12` - `1 <= M <= 50` - `0 <= K < M` - `1 <= Lmax <= |s|`
-------------------- EDITORIAL SUMMARY ----------------------
Given a digit string `s`, modulus `M`, target remainder `K`, and max chunk length `Lmax`, split `s` into chunks of length `1..Lmax` (left to right, no reordering). Insert `+` or `-` between chunks.  Constraints:  - No leading zeros inside a chunk (unless the chunk is exactly `"0"`). - At least one `...
-------------------- EDITORIAL CONSTRAINTS ------------------
- The first chunk has no operator before it. - At least one `-` anywhere in the expression. - Negative intermediate results are fine; always reduce modulo `M`. - `1 <= |s| <= 12`, so exponential brute force is possible but DP is cleaner and less error-prone.
============================================================

ID: DP-012
Problem File: DP-012-balanced-partition-size-limit.md
Editorial File: DP-012-balanced-partition-size-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array `a` of length `n` and an integer `D`. Partition the array into two groups (each element goes to exactly one group) such that:  - The absolute difference of the two group sums is at most `D`. - Among all such valid partitions, minimize the size of the **larger** group.  Return ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 50` - `-500 <= a[i] <= 500` - `0 <= D <= 5000`
-------------------- EDITORIAL SUMMARY ----------------------
Partition an array into two groups so that:  - the absolute difference of group sums is at most `D` - among all such partitions, the **larger group size** is minimized  Return the minimum possible size of the larger group, or `-1` if no valid partition exists.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Both groups are allowed to be empty in principle; the DP will tell if that’s optimal or feasible. - Values may be negative, so sums can be negative; we must offset indices. - We do **not** minimize the difference (it’s constrained), we minimize `max(sizeA, sizeB)`.
============================================================

ID: DP-013
Problem File: DP-013-paint-fence-switch-cost.md
Editorial File: DP-013-paint-fence-switch-cost.md
-------------------- PROBLEM DESCRIPTION --------------------
You must paint a straight fence of `n` posts using exactly one color per post. There are `k` available colors.  Rules:  - Painting any post costs **1** unit regardless of color. - You may not have more than **two consecutive posts** with the same color. - If post `i` (1-indexed) uses a different col...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= k <= 50` - `0 <= s[i] <= 10000` - All costs fit in 64-bit signed integers.
-------------------- EDITORIAL SUMMARY ----------------------
Paint `n` posts using `k` colors. Painting any post costs 1. When two consecutive posts differ in color, you also pay a switch cost `s[i]` for post `i` (1-indexed). You may not place the same color on three consecutive posts. Return the minimum total cost, or `-1` if impossible.  Key constraints: `1...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: DP-014
Problem File: DP-014-constrained-decode-ways.md
Editorial File: DP-014-constrained-decode-ways.md
-------------------- PROBLEM DESCRIPTION --------------------
A digit string encodes letters `1 -> A`, `2 -> B`, ..., `26 -> Z`. You must count how many distinct decodings exist under an extra rule:  - Any digit `0` is valid **only** when immediately preceded by `2`, forming the two-digit code `20`. No other placement of `0` is allowed.  Return the number of v...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` consists of digits `0-9` - Leading zeros invalidate the string
-------------------- EDITORIAL SUMMARY ----------------------
You are given a digit string `s`. Codes map `1 -> A` through `26 -> Z`. A special rule restricts zeros: any `0` is valid **only** when it forms the pair `20`. Count the number of valid decodings modulo `1_000_000_007`; if the string cannot be decoded, the answer is `0`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: DP-015
Problem File: DP-015-stock-trading-weekly-rest-fee.md
Editorial File: DP-015-stock-trading-weekly-rest-fee.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given stock prices for `n` days and a transaction fee `f`. Day `0` is Monday, day `1` is Tuesday, ..., day `6` is Sunday, day `7` is the next Monday, and so on.  Rules:  - You may buy and sell multiple times. - After **every sale on day `i`**, you must **rest until the next Monday** (day ind...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= price[i], f <= 10^9` - Use 64-bit integers to store profits.
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` days of stock prices (`day 0` is Monday). After each sale on day `i`, you must rest until the next Monday (`i - (i % 7) + 7`), during which you cannot buy. Each sale pays `price[i] - fee`. Compute the maximum profit with unlimited transactions under this weekly cooldown.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: DP-016
Problem File: DP-016-exams-with-cooldown-gap.md
Editorial File: DP-016-exams-with-cooldown-gap.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` exams, each with start time `start[i]`, end time `end[i]`, and score `score[i]`. If you take two exams `A` then `B`, you must leave at least `g` units of time between them: `start[B] >= end[A] + g`.  Select a subset of exams maximizing total score while respecting the cooldown gap....
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= g <= 10^9` - `0 <= start[i] < end[i] <= 10^9` - `0 <= score[i] <= 10^9` - Use 64-bit integers for all sums.
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` exams with start time `start[i]`, end time `end[i]`, and score `score[i]`. You can take multiple exams, but between any two you must leave at least `g` units of time: if you finish exam A at `end[A]`, the next exam B must satisfy `start[B] >= end[A] + g`. Maximize the total score.  Cons...
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

Reviewing Topic: GameTheory
============================================================
ID: GMT-001
Problem File: GMT-001-pile-split-choice.md
Editorial File: GMT-001-pile-split-choice.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a single pile of `n` stones. Two players take turns making a move.  In each turn, a player must choose one pile of stones and split it into **two non-empty piles of different sizes**. For example, a pile of size 6 can be split into (1, 5) or (2, 4), but not (3, 3) because the sizes mus...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2000`
-------------------- EDITORIAL SUMMARY ----------------------
You start with a pile of `n` stones. A move consists of splitting a pile into two non-empty piles of **different** sizes. The last player to move wins.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Different Sizes:** 4 -> 1+3 is valid. 4 -> 2+2 is invalid. - **Non-empty:** 4 -> 0+4 is invalid. - **Winning Condition:** If you can make a move to a state that is "Losing" for the opponent, you are in a "Winning" state.
============================================================

ID: GMT-002
Problem File: GMT-002-token-walk-directed-graph.md
Editorial File: GMT-002-token-walk-directed-graph.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a directed acyclic graph (DAG) with `n` nodes labeled from `0` to `n-1`, and `m` directed edges.  A game is played with a single token placed on one of the nodes. Two players take turns moving the token. In each turn, a player must move the token from its current node `u` to an adjacen...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2 * 10^5` - `0 <= m <= 2 * 10^5` - The graph is guaranteed to be a DAG (no cycles).
-------------------- EDITORIAL SUMMARY ----------------------
Given a Directed Acyclic Graph (DAG), determine for every node whether the first player wins or loses if the game starts at that node. Players take turns moving a token along directed edges. A player who cannot move loses. Because the graph is acyclic, the game always ends (no draws).
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Losing State:** A node with `out_degree = 0`. - **Winning State:** A node with at least one neighbor that is a Losing State. - **Losing State (Recursive):** A node where ALL neighbors are Winning States.
============================================================

ID: GMT-003
Problem File: GMT-003-subtract-square-ban-list.md
Editorial File: GMT-003-subtract-square-ban-list.md
-------------------- PROBLEM DESCRIPTION --------------------
Two players are playing a game with a pile of `n` stones. They take turns removing stones from the pile. In each turn, a player must remove `s` stones, where `s` is a **perfect square** (1, 4, 9, 16, ...) and `s` is **not** present in a given set of banned numbers `B`. The player who reduces the pil...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= k <= 100` - Elements of `B` are distinct positive integers.
-------------------- EDITORIAL SUMMARY ----------------------
You have a pile of `n` stones. In each turn, you must remove `s` stones where `s` is a perfect square and `s` is NOT in a banned set `B`. The player who cannot move loses.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Perfect Squares:** 1, 4, 9, 16, 25, ... - **Banned Set:** If 4 is in B, you cannot subtract 4. - **Winning:** You can make a move to a Losing state.
============================================================

ID: GMT-004
Problem File: GMT-004-circular-nim-variant.md
Editorial File: GMT-004-circular-nim-variant.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` piles of stones arranged in a circle, indexed from `0` to `n-1`. Two players take turns making moves. In each turn, a player must choose a pile `i` that has at least one stone (`piles[i] > 0`). The player removes `k` stones from pile `i` (where `1 <= k <= piles[i]`). Then, the play...
-------------------- PROBLEM CONSTRAINTS --------------------
- `3 <= n <= 20` - `0 <= piles[i] <= 15` - The total number of stones in any reachable state will not exceed reasonable limits for the provided test cases.
-------------------- EDITORIAL SUMMARY ----------------------
There are `n` piles arranged in a circle. On each move, pick a pile `i` with at least one stone, remove `k` stones (`1 <= k <= piles[i]`), then add 1 stone to each adjacent pile. A player who cannot move loses; if play can loop forever, the result is a draw. Determine "First", "Second", or "Draw".
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Adjacent:** `(i-1+n)%n` and `(i+1)%n`. - **Draw:** If the game enters a loop of states.
============================================================

ID: GMT-005
Problem File: GMT-005-interval-removal-game.md
Editorial File: GMT-005-interval-removal-game.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a set of disjoint intervals on a line. Two players take turns making a move. In each turn, a player must choose one interval `[L, R]` and remove a sub-interval of **positive length** from it. Removing a sub-interval might split the original interval into two smaller intervals, or reduc...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= L < R <= 10^9` - Intervals are guaranteed to be disjoint.
-------------------- EDITORIAL SUMMARY ----------------------
You are given disjoint intervals on a line. A move selects one interval and removes any sub-interval of positive length, which can shrink the interval or split it into two. The player who cannot move loses. Determine the winner.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Length:** `R - L`. - **Positive Length:** You must remove at least 1 unit.
============================================================

ID: GMT-006
Problem File: GMT-006-divisor-turn-game.md
Editorial File: GMT-006-divisor-turn-game.md
-------------------- PROBLEM DESCRIPTION --------------------
Two players are playing a game with a number `n`. In each turn, a player must replace the current number `n` with one of its **proper divisors** `d` such that `d > 1`. (A proper divisor of `n` is a divisor strictly less than `n`.) The player who cannot make a valid move loses. This happens when the ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
Starting from a number `n`, each move replaces `n` with a proper divisor `d` where `1 < d < n`. If no such divisor exists (i.e., `n` is prime), you lose. Determine if the first player wins.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Proper Divisor:** `d < n`. - **Constraint:** `d > 1`. - **Primes:** Have no valid moves.
============================================================

ID: GMT-007
Problem File: GMT-007-grid-chomp-poison.md
Editorial File: GMT-007-grid-chomp-poison.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an `R x C` grid of chocolate bars. The cell at `(0, 0)` is poisoned. There may be other poisoned cells as well. Two players take turns making a move. In each turn, a player must choose a non-poisoned cell `(r, c)` and eat it, along with all cells `(x, y)` such that `x >= r` and `y >= c...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= R, C <= 8` - `1 <= K <= R * C` - `(0, 0)` is always poisoned.
-------------------- EDITORIAL SUMMARY ----------------------
You play Chomp on an `R x C` grid with poisoned cells. A move chooses a non-poisoned cell `(r, c)` and eats the rectangle `[r..R-1] x [c..C-1]`, but the chosen rectangle cannot include any poisoned cell. The player with no legal move loses. Determine the winner.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Poisoned Cell:** If `(pr, pc)` is poison, you cannot pick `(r, c)` if `pr >= r` and `pc >= c`. - **Loss:** No valid moves available.
============================================================

ID: GMT-008
Problem File: GMT-008-kayles-on-graph.md
Editorial File: GMT-008-kayles-on-graph.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an undirected graph with `n` nodes and `m` edges. Two players take turns making a move. In each turn, a player must choose a node `u` that is currently available (not removed). The player removes `u` and **all its neighbors** from the graph. The player who cannot make a valid move lose...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 15` - `0 <= m <= n * (n - 1) / 2`
-------------------- EDITORIAL SUMMARY ----------------------
On each move, choose a node `u` in the graph and remove `u` and all its neighbors. The player who cannot move loses. Determine whether the first player wins.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Available Node:** A node not yet removed. - **Neighbors:** Neighbors in the original graph (or current? Neighbors are defined by edges. If `v` is removed, edge `u-v` is gone. But "neighbors" usually refers to the set of nodes adjacent to `u` in the current graph. Since we remove `u` and neighbor...
============================================================

ID: GMT-009
Problem File: GMT-009-take-or-split-heap.md
Editorial File: GMT-009-take-or-split-heap.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` heaps of stones. Two players take turns making a move. In each turn, a player must choose one heap with `x` stones (`x > 1`) and perform one of the following actions: 1.  **Remove** `k` stones from the heap, where `1 <= k < x`. The heap size becomes `x - k`. 2.  **Split** the heap ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= heap_size <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given multiple heaps. A move picks a heap with size `x > 1` and either removes `k` stones (`1 <= k < x`) or splits the heap into two non-empty heaps `a + b = x`. The player who cannot move loses. Determine the winner.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Terminal State:** Size 1. - **Valid Moves:** `x > 1`.
============================================================

ID: GMT-010
Problem File: GMT-010-removal-game-strings.md
Editorial File: GMT-010-removal-game-strings.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` strings. Two players take turns making a move. In each turn, a player must choose one string and perform the following operation: 1.  Select a **contiguous block of identical characters** (e.g., "aaa" in "bbaaac"). 2.  Remove this block from the string. 3.  If the removal causes tw...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100` - `1 <= |s| <= 10^5` - Strings consist of characters 'a' and 'b'.
-------------------- EDITORIAL SUMMARY ----------------------
You are given `n` binary strings (`a`/`b`). Players take turns choosing a string, removing a contiguous block of identical characters, and merging neighbors if they become equal. The player who cannot move loses. Determine the winner.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GMT-011
Problem File: GMT-011-blocking-tokens-dag.md
Editorial File: GMT-011-blocking-tokens-dag.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a Directed Acyclic Graph (DAG) with `n` nodes and `m` edges. There are two tokens placed on distinct nodes `u` and `v`. Two players take turns making a move. In each turn, a player must choose **one** of the two tokens and move it along a directed edge to an adjacent node. **Constraint...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 100` - `0 <= m <= 2000` - `1 <= u, v <= n` - `u != v` - The graph is a DAG (no cycles).
-------------------- EDITORIAL SUMMARY ----------------------
Two tokens start on distinct nodes of a DAG. On each turn, choose one token and move it along a directed edge to an unoccupied node. If no legal move exists, the current player loses. Determine the winner.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GMT-012
Problem File: GMT-012-rectangular-chocolate-cut.md
Editorial File: GMT-012-rectangular-chocolate-cut.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a rectangular bar of chocolate of size `R x C` (R rows, C columns). Two players take turns making a cut. In each turn, a player must: 1.  Choose one piece of chocolate currently on the table. 2.  Make a straight cut along a grid line (horizontal or vertical) to split it into two smalle...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= R, C <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a `R x C` chocolate bar. Each move chooses one existing piece and cuts it along a grid line into two rectangles. The game ends when all pieces are `1 x 1`; the player who cannot cut loses. Determine the winner.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GMT-013
Problem File: GMT-013-matrix-removal-game.md
Editorial File: GMT-013-matrix-removal-game.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an `N x M` matrix of integers. Two players, Maximizer (P1) and Minimizer (P2), take turns making a move. In each turn, a player must choose to remove one of the following: 1.  The **first row** (topmost). 2.  The **last row** (bottommost). 3.  The **first column** (leftmost). 4.  The *...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N, M <= 20` - `-10^9 <= Matrix[i][j] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Players alternately remove the first/last row or first/last column of a matrix until a single cell remains. Player 1 (Maximizer) wants that final value as large as possible; Player 2 (Minimizer) wants it as small as possible. Output the final value under optimal play.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GMT-014
Problem File: GMT-014-greedy-coin-split-game.md
Editorial File: GMT-014-greedy-coin-split-game.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `N` coins arranged in a row, each with a value `A[i]`. Two players take turns playing a game. In each turn, the current player (Splitter) must: 1.  Split the current row of coins into two non-empty contiguous segments (Left and Right). 2.  The other player (Chooser) then chooses one se...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= N <= 100` - `1 <= A[i] <= 1000`
-------------------- EDITORIAL SUMMARY ----------------------
A Splitter divides the current contiguous segment into two non-empty parts. The Chooser keeps one part (adds its sum to their score), and the remaining part continues with roles swapped. The last single coin is discarded. Compute the optimal final score difference (Player 1 minus Player 2).
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GMT-015
Problem File: GMT-015-turning-turtles.md
Editorial File: GMT-015-turning-turtles.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a row of `N` coins, represented by a string `S` of length `N`. Each character is either 'H' (Heads) or 'T' (Tails). Two players take turns making a move. In each turn, a player must: 1.  Choose an index `i` (`0 <= i < N`) such that `S[i]` is 'H'. 2.  Flip the coin at `i` from 'H' to 'T...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N <= 10^5` - `1 <= K <= 10^9` - `S` consists of 'H' and 'T'.
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string of 'H'/'T'. On each move, pick an index `i` with 'H', flip it to 'T', and optionally flip one `j` with `i-K <= j < i`. The player who cannot move loses. Determine whether the first player wins.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GMT-016
Problem File: GMT-016-nim-with-move-limit.md
Editorial File: GMT-016-nim-with-move-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `N` heaps of stones. The `i`-th heap has `A[i]` stones. Each heap also has a specific move limit `L[i]`. Two players take turns making a move. In each turn, a player must: 1.  Choose a heap `i` that is not empty. 2.  Remove `k` stones from it, such that `1 <= k <= min(A[i], L[i])`.  Th...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N <= 10^5` - `1 <= A[i], L[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given heaps `A[i]`, each with a per-heap removal limit `L[i]`. A move chooses a heap and removes `k` stones where `1 <= k <= min(A[i], L[i])`. The player with no moves loses. Determine the winner.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

Reviewing Topic: Geometry
============================================================
ID: GEO-001
Problem File: GEO-001-orientation-triplets.md
Editorial File: GEO-001-orientation-triplets.md
-------------------- PROBLEM DESCRIPTION --------------------
Given three 2D points `P1(x1, y1)`, `P2(x2, y2)`, `P3(x3, y3)`, determine whether the ordered triplet is **clockwise**, **counterclockwise**, or **collinear**.  Print one of the words: `clockwise`, `counterclockwise`, or `collinear`.   ``` P1 ●      \       \        ● P2         \          \        ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `-10^9 <= xi, yi <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given three points `P1`, `P2`, `P3`, decide whether the ordered triplet forms a **clockwise turn**, **counterclockwise turn**, or is **collinear**. Print the corresponding word. This is the atomic predicate used inside hulls, segment intersection, and polygon orientation.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GEO-002
Problem File: GEO-002-point-in-polygon-winding.md
Editorial File: GEO-002-point-in-polygon-winding.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a simple polygon with `n` vertices in 2D and a query point `Q`, determine whether `Q` is **inside**, **outside**, or on the **boundary** of the polygon using a winding-number style test.  Print one word: `inside`, `outside`, or `boundary`.   ```          P3(4,4)           ●          / \       ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `3 <= n <= 100000` - `-10^9 <= xi, yi, qx, qy <= 10^9` - Polygon is simple (non-self-intersecting); vertices are distinct.
-------------------- EDITORIAL SUMMARY ----------------------
Given a simple polygon with `n` vertices and a query point `Q`, determine whether `Q` is **inside**, **outside**, or on the **boundary** of the polygon. Output `inside`, `outside`, or `boundary`. Use a winding-number style approach that handles all edge cases deterministically.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Vertices are given in order (CW or CCW). The polygon is simple (no self-intersections). - Output strings must be lowercase: `inside`, `outside`, `boundary`. - Boundary has priority: check it before the winding count.
============================================================

ID: GEO-003
Problem File: GEO-003-segment-intersection-count.md
Editorial File: GEO-003-segment-intersection-count.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `m` line segments in 2D. Count how many **distinct pairs** of segments intersect (including touching at endpoints or overlapping).  Return the total number of intersecting pairs.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 200000` - `-10^9 <= coordinates <= 10^9` - All segments are non-degenerate (endpoints are distinct)
-------------------- EDITORIAL SUMMARY ----------------------
Given `m` non-degenerate line segments in 2D, count how many distinct pairs intersect. Intersection includes touching at endpoints and overlapping collinear segments. Output the total count.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: GEO-004
Problem File: GEO-004-closest-pair-points.md
Editorial File: GEO-004-closest-pair-points.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` points in 2D, find the **minimum squared Euclidean distance** between any pair of distinct points.  Return that squared distance as an integer.
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 200000` - `-10^9 <= xi, yi <= 10^9` - Points are not guaranteed distinct (distance can be 0).
-------------------- EDITORIAL SUMMARY ----------------------
Given `n` points, find the minimum squared Euclidean distance between any two distinct points.  Return that squared distance.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Output is the **squared** distance (integer). - Coordinates fit in 64-bit; squared distance can reach `~(2e9)^2 * 2 ≈ 8e18`, so use 128-bit where needed in C++ or long in Java. - Points may repeat.
============================================================

ID: GEO-005
Problem File: GEO-005-convex-hull-capped.md
Editorial File: GEO-005-convex-hull-capped.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` points in 2D and an angle threshold `theta` (degrees, `0 < theta < 180`):  1. Build the convex hull of the points (include collinear boundary points as needed for a standard hull). 2. For each hull vertex, compute its interior angle (in degrees, using the CCW hull order). 3. Discard any hu...
-------------------- PROBLEM CONSTRAINTS --------------------
- `3 <= n <= 200000` - `-10^9 <= xi, yi <= 10^9` - `0 < theta < 180`
-------------------- EDITORIAL SUMMARY ----------------------
Build the convex hull of `n` points, then drop any hull vertex whose interior angle is **strictly less than** `theta` (degrees). Output the remaining vertices in CCW order; if none remain, output `0`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Output first the count `k`, then the `k` vertices CCW. - If `k = 0`, print just `0`. - `theta` is in degrees; convert to radians for cosine if needed.
============================================================

ID: GEO-006
Problem File: GEO-006-polygon-area-shoelace.md
Editorial File: GEO-006-polygon-area-shoelace.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a simple polygon with `n` vertices listed in order (clockwise or counterclockwise), compute its **signed area**. Output the absolute area.  Use the shoelace formula; avoid floating point by working in twice-the-area and dividing at the end if needed.
-------------------- PROBLEM CONSTRAINTS --------------------
- `3 <= n <= 100000` - `-10^9 <= xi, yi <= 10^9` - Polygon is simple (non-self-intersecting)
-------------------- EDITORIAL SUMMARY ----------------------
Given `n` vertices of a simple polygon (in order, CW or CCW), compute its area using the shoelace formula. Output the absolute area as an integer.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Vertices are in order; polygon is simple (no self-intersections). - Output is the absolute area (no “.0”). - If the polygon degenerates (not in constraints), shoelace still computes signed area; constraints guarantee simplicity.
============================================================

ID: GEO-007
Problem File: GEO-007-rotating-calipers-diameter.md
Editorial File: GEO-007-rotating-calipers-diameter.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a **convex** polygon with `n` vertices in counterclockwise order. Find the maximum squared distance between any pair of its vertices (the squared diameter of the polygon).  Return that maximum squared distance as an integer.
-------------------- PROBLEM CONSTRAINTS --------------------
- `3 <= n <= 100000` - `-10^9 <= xi, yi <= 10^9` - Polygon is convex and vertices are given in CCW order
-------------------- EDITORIAL SUMMARY ----------------------
Given a convex polygon in CCW order, find the maximum squared distance between any two vertices (the polygon’s diameter).
-------------------- EDITORIAL CONSTRAINTS ------------------
- Vertices are CCW, convex, and distinct in position order. - Output is squared distance (integer). - No need for square roots or floating point.
============================================================

ID: GEO-008
Problem File: GEO-008-minimum-enclosing-circle.md
Editorial File: GEO-008-minimum-enclosing-circle.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` points in 2D, find the smallest circle that encloses all the points. Output the center coordinates and the radius.  Return `cx cy r` with values rounded to 6 decimal places.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `-10^9 <= xi, yi <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given `n` points, find the smallest circle that encloses them all. Output center `(cx, cy)` and radius `r`, rounded to 6 decimals.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Output: `cx cy r` with rounding; order doesn’t matter. - If `n = 1`, radius is 0 at that point. - Points may be repeated; still fine.
============================================================

ID: GEO-009
Problem File: GEO-009-half-plane-intersection.md
Editorial File: GEO-009-half-plane-intersection.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `m` half-planes in the form `a*x + b*y <= c`. Compute their intersection polygon. If the intersection is empty, output `EMPTY`. Otherwise output the polygon vertices in counterclockwise order starting from the lowest x (then lowest y) vertex.  Return the vertex count followed by the co...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 100000` - `-10^9 <= a, b, c <= 10^9` - At least one feasible intersection may exist, but can also be empty
-------------------- EDITORIAL SUMMARY ----------------------
Given `m` half-planes `a*x + b*y <= c`, compute their intersection polygon. If empty, print `EMPTY`; otherwise print the vertices of the intersection in CCW order starting from the lowest x (then lowest y) vertex.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Output `EMPTY` for empty intersection. - Otherwise, print `k` then `k` lines of `x y` rounded to 6 decimals. - Half-planes can be in any order; they may be redundant or contradictory.
============================================================

ID: GEO-010
Problem File: GEO-010-weighted-union-area-rectangles.md
Editorial File: GEO-010-weighted-union-area-rectangles.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `m` axis-aligned rectangles. Each rectangle `i` has integer weight `w[i]` (can be negative or positive). Given a threshold `W`, compute the total area of all points covered by rectangles whose **cumulative weight is at least `W`**.  Return that area as an integer.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 100000` - `|w[i]| <= 10^6` - `1 <= W <= 10^6` - `-10^9 <= x1 < x2 <= 10^9` - `-10^9 <= y1 < y2 <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given `m` weighted axis-aligned rectangles and a threshold `W`, compute the total area where the cumulative weight from overlapping rectangles is **at least** `W`. Output the area.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Coordinates and weights are integers; area fits in 64-bit. - `y` intervals are half-open `[y1, y2)` to avoid double counting at edges. - Output just the total area as integer.
============================================================

ID: GEO-011
Problem File: GEO-011-max-overlap-rectangles.md
Editorial File: GEO-011-max-overlap-rectangles.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `m` axis-aligned rectangles, find the **maximum number of rectangles covering any point**. Rectangles are closed: points on edges or corners count as covered.  Return that maximum overlap count.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 100000` - `-10^9 <= x1 < x2 <= 10^9` - `-10^9 <= y1 < y2 <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given `m` axis-aligned rectangles, find the maximum number of rectangles covering any single point (edges count as covered). Output that maximum overlap count.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Rectangles are closed, but using half-open intervals `[y1, y2)` avoids double counting edges; max count remains correct. - Coordinates fit in 64-bit; max overlap fits in `m`.
============================================================

ID: GEO-012
Problem File: GEO-012-largest-empty-circle-rect.md
Editorial File: GEO-012-largest-empty-circle-rect.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a set of points inside an axis-aligned rectangle `[xL, yB]` to `[xR, yT]`, find the largest possible circle that:  - Lies fully inside the rectangle, and - Does not contain any point strictly inside it (points on the boundary are allowed).  Output the maximum possible radius (floating-point, 6...
-------------------- PROBLEM CONSTRAINTS --------------------
- `-10^9 <= xL < xR <= 10^9` - `-10^9 <= yB < yT <= 10^9` - `0 <= n <= 2000` - All points lie inside or on the rectangle
-------------------- EDITORIAL SUMMARY ----------------------
Inside an axis-aligned rectangle `[xL, yB]` to `[xR, yT]`, you have `n` points. Find the largest possible circle that stays entirely within the rectangle and contains no point strictly inside it (points on the boundary are allowed). Output the maximum radius.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Points may be on the boundary; allowed. - If no points, the largest circle is centered at rectangle center with radius = min distance to edges. - Radius 0 is possible if points cover edges and corners.
============================================================

ID: GEO-013
Problem File: GEO-013-point-line-distance.md
Editorial File: GEO-013-point-line-distance.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a line segment `AB` with endpoints `A(x1, y1)` and `B(x2, y2)` and a point `P(px, py)`, compute the shortest distance from `P` to the segment.  Print the distance as a floating-point number rounded to 6 decimals.
-------------------- PROBLEM CONSTRAINTS --------------------
- `-10^9 <= coordinates <= 10^9` - `A` and `B` are distinct
-------------------- EDITORIAL SUMMARY ----------------------
Given segment `AB` and point `P`, find the shortest distance from `P` to the segment. Output as a floating value with 6 decimals.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Input is one line of six integers. - Segment endpoints are distinct. - Output rounded to 6 decimals.
============================================================

ID: GEO-014
Problem File: GEO-014-angle-sorting-polar.md
Editorial File: GEO-014-angle-sorting-polar.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` points (distinct, no point at the origin), sort them by polar angle around the origin (0,0), in counterclockwise order. If two points have the same angle, the closer one (smaller distance to origin) should come first.  Output the points in the required order.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `-10^9 <= xi, yi <= 10^9` - No point is at the origin; points are distinct
-------------------- EDITORIAL SUMMARY ----------------------
Given `n` points (none at the origin), output them sorted by polar angle around the origin in counterclockwise order. Ties (same angle) are broken by distance to the origin (closer first).
-------------------- EDITORIAL CONSTRAINTS ------------------
- No point equals (0,0). - Points are distinct. - Output exactly the points in sorted order, one per line.
============================================================

ID: GEO-015
Problem File: GEO-015-segment-rectangle-intersection.md
Editorial File: GEO-015-segment-rectangle-intersection.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an axis-aligned rectangle with corners `(xL, yB)` (bottom-left) and `(xR, yT)` (top-right), and a line segment with endpoints `P1(x1, y1)` and `P2(x2, y2)`, determine whether the segment intersects or lies within the rectangle.  Intersection counts if the segment touches or crosses the rectang...
-------------------- PROBLEM CONSTRAINTS --------------------
- `-10^9 <= coordinates <= 10^9` - `xL < xR`, `yB < yT` - Segment endpoints may be outside the rectangle
-------------------- EDITORIAL SUMMARY ----------------------
Given axis-aligned rectangle `[xL, yB]` to `[xR, yT]` and a segment `P1P2`, decide if the segment intersects or lies within the rectangle. Touching the boundary counts as intersection. Output `true` or `false`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Rectangle sides inclusive. - Output lowercase `true`/`false`. - Segment endpoints distinct.
============================================================

ID: GEO-016
Problem File: GEO-016-mst-complete-geometry.md
Editorial File: GEO-016-mst-complete-geometry.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` points in 2D. The complete graph has an edge between every pair of points with weight equal to their **Manhattan distance** (`|x1 - x2| + |y1 - y2|`).  Compute the total weight of a Minimum Spanning Tree (MST) of this graph.  Return the MST weight as an integer.
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 200000` - `-10^9 <= xi, yi <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given `n` points, the complete graph has edge weights = Manhattan distance. Find the MST total weight.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Points can have duplicate coordinates? Typically distinct; if duplicates, zero-weight edges connect them; handle naturally. - Output only the MST total weight.
============================================================

Reviewing Topic: Graphs
============================================================
ID: GRP-001
Problem File: GRP-001-campus-map-bfs.md
Editorial File: GRP-001-campus-map-bfs.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected unweighted graph represented by `n` nodes (numbered from 0 to n-1) and an adjacency list, perform a Breadth-First Search (BFS) starting from node 0 and return the order in which nodes are visited.  The graph is represented as an adjacency list where each node may have zero or mor...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - The graph may be disconnected - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Perform a Breadth-First Search (BFS) traversal on an undirected unweighted graph starting from node 0, returning the order in which nodes are visited. The key challenge is to explore the graph level by level, maintaining the correct visitation order based on the adjacency list structure.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Node numbering:** Nodes are numbered from 0 to n-1 (0-indexed) - **Edge representation:** Each edge (u, v) is bidirectional and should be added to both adjacency lists - **Starting point:** Always start BFS from node 0 - **Disconnected graphs:** Only nodes reachable from node 0 appear in output ...
============================================================

ID: GRP-002
Problem File: GRP-002-lab-network-dfs.md
Editorial File: GRP-002-lab-network-dfs.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph represented by `n` nodes (numbered from 0 to n-1) and an adjacency list, perform a Depth-First Search (DFS) in preorder starting from node 0 and return the visited nodes in the order they were first encountered.  DFS explores as far as possible along each branch before back...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - The graph may be disconnected - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Perform a Depth-First Search (DFS) traversal on an undirected graph starting from node 0, returning nodes in preorder (recording when first visited). The challenge is to explore as deeply as possible along each branch before backtracking, maintaining the correct visitation order.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Preorder recording:** Record a node when you first visit it, not when you backtrack - **Recursion vs Iteration:** Can use recursive approach (implicit stack) or iterative (explicit stack) - **Edge bidirectionality:** Each edge (u,v) must be added to both adj[u] and adj[v] - **Visitation order:**...
============================================================

ID: GRP-003
Problem File: GRP-003-hostel-components-count.md
Editorial File: GRP-003-hostel-components-count.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph with `n` nodes (numbered from 0 to n-1) and an adjacency list, count the number of connected components in the graph.  A connected component is a maximal set of nodes where every pair of nodes is connected by a path. Two nodes are in the same component if and only if there ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Count the number of connected components in an undirected graph. A connected component is a maximal set of nodes where every pair is connected by a path. This fundamental graph problem tests understanding of graph traversal and connectivity.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Component definition:** Maximal set of nodes where any two nodes have a path between them - **Isolated nodes:** A node with no edges forms its own component of size 1 - **Disconnected graph:** Multiple components exist when graph isn't fully connected - **Edge representation:** Each edge (u,v) i...
============================================================

ID: GRP-004
Problem File: GRP-004-seminar-bipartite-check-locked.md
Editorial File: GRP-004-seminar-bipartite-check-locked.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph with `n` nodes, determine if the graph can be colored to satisfy bipartite constraints while respecting pre-colored (locked) nodes.  Some nodes are pre-colored either group A (locked value 1) or group B (locked value 2) and cannot change their color. Unlocked nodes (value 0...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - locked[i] ∈ {0, 1, 2} - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Determine if an undirected graph can be 2-colored (bipartite) while respecting pre-colored (locked) nodes. Some nodes are locked to specific colors (group A or B), and we must check if a valid bipartite coloring exists that satisfies all constraints.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Locked values:** 0 = unlocked, 1 = locked to group A, 2 = locked to group B - **Bipartite property:** No two adjacent nodes can have the same color - **Conflict detection:** If a locked node's required color conflicts with its forced color, return false - **Disconnected components:** Handle each...
============================================================

ID: GRP-005
Problem File: GRP-005-robotics-cycle-detector.md
Editorial File: GRP-005-robotics-cycle-detector.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph with `n` nodes (numbered from 0 to n-1) and an adjacency list, detect if the graph contains any cycle.  A cycle is a path of edges and vertices where a vertex is reachable from itself through at least three edges. In other words, starting from a vertex, you can traverse edg...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Detect if an undirected graph contains a cycle using DFS with parent tracking. A cycle exists when we can start from a vertex and return to it through at least three edges without repeating any edge.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Cycle definition:** Path of ≥3 edges returning to starting vertex - **Parent tracking:** Essential to avoid false positives from bidirectional edges - **Back edge:** Edge to a visited node (not parent) indicates a cycle - **Disconnected components:** Check all components by starting DFS from unv...
============================================================

ID: GRP-006
Problem File: GRP-006-lab-directed-cycle-check.md
Editorial File: GRP-006-lab-directed-cycle-check.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed graph with `n` nodes (numbered from 0 to n-1) and an adjacency list, detect if the graph contains any cycle.  A cycle in a directed graph is a path that starts and ends at the same vertex, following the direction of edges. Return `true` if the graph contains at least one cycle, `fal...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - There are no self-loops
-------------------- EDITORIAL SUMMARY ----------------------
Detect if a directed graph contains a cycle using DFS with a recursion stack. Unlike undirected graphs, directed graphs require tracking nodes currently in the DFS path to identify back edges.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Directed edges:** Edge u→v only allows traversal from u to v - **Recursion stack:** Tracks nodes in current DFS path (gray nodes) - **Back edge:** Edge to a node in recursion stack indicates cycle - **Cross/Forward edges:** Edges to visited nodes NOT in stack are OK  Common interpretation mistak...
============================================================

ID: GRP-007
Problem File: GRP-007-course-plan-mandatory-pairs.md
Editorial File: GRP-007-course-plan-mandatory-pairs.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` courses (numbered 0 to n-1) with prerequisite relationships forming a Directed Acyclic Graph (DAG). Additionally, you have pairs of courses that must appear adjacent to each other (in any order) in the final schedule.  Produce a topological ordering of courses that: 1. Respects all...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= p <= 10^5` - `0 <= u, v, a, b < n` - The prerequisite graph is guaranteed to be a DAG (no cycles)
-------------------- EDITORIAL SUMMARY ----------------------
Produce a topological ordering of courses that respects both prerequisite constraints and mandatory adjacency pairs. This combines standard topological sort with the constraint that certain course pairs must appear adjacent in the final schedule.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Prerequisite edges:** Directed edges representing "must come before" - **Adjacency pairs:** Undirected pairs that must be consecutive in output - **Valid ordering:** Satisfies all prerequisites AND all adjacency constraints - **Multiple solutions:** Any valid ordering is acceptable  Common inter...
============================================================

ID: GRP-008
Problem File: GRP-008-shuttle-shortest-stops.md
Editorial File: GRP-008-shuttle-shortest-stops.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an unweighted undirected graph with `n` nodes (numbered 0 to n-1) and a source node `s`, find the shortest distance (in number of edges) from the source to all other nodes.  For each node, output its shortest distance from the source. If a node is unreachable from the source, output `-1` for t...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - `0 <= s < n` - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Find the shortest distance from a source node to all other nodes in an unweighted undirected graph using BFS. Return distances for all nodes, with -1 for unreachable nodes.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Distance definition:** Minimum number of edges from source to target - **Unreachable nodes:** Return -1 for nodes not connected to source - **Source distance:** Always 0 to itself - **BFS guarantee:** First time a node is visited = shortest path
============================================================

ID: GRP-009
Problem File: GRP-009-city-toll-dijkstra.md
Editorial File: GRP-009-city-toll-dijkstra.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a weighted directed graph with `n` nodes (numbered 0 to n-1), find the shortest path from a source node `s` to all other nodes using Dijkstra's algorithm.  Each edge has a non-negative weight representing the toll/cost. Output the minimum cost to reach each node from the source. If a node is u...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - `0 <= w <= 10^6` - `0 <= s < n` - There are no self-loops or negative weights
-------------------- EDITORIAL SUMMARY ----------------------
Compute shortest path distances from a source node to all other nodes in a weighted directed graph with non-negative edge weights using Dijkstra's algorithm.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Non-negative weights:** Dijkstra requires all weights ≥ 0 - **Directed edges:** Edge u→v only allows traversal from u to v - **Unreachable nodes:** Return very large value (10^18) or -1 - **Priority queue:** Min-heap for efficient minimum extraction
============================================================

ID: GRP-010
Problem File: GRP-010-battery-archipelago-analyzer.md
Editorial File: GRP-010-battery-archipelago-analyzer.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a weighted undirected graph with `n` nodes and a battery constraint, find the shortest path from source `s` to destination `d` such that no single edge weight exceeds the battery capacity `B`.  Each edge has a weight representing the energy/distance required. You can only traverse an edge if i...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - `1 <= w <= 10^6` - `0 <= s, d < n` - `1 <= B <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
Find the minimum cost path between a source and destination in a weighted undirected graph, considering only edges with weights less than or equal to a battery capacity `B`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Graph:** Undirected. -   **Constraints:** `N` up to 10^5, `M` up to 2*10^5. -   **Weights:** Up to 10^6. -   **Battery B:** Up to 10^6. -   **Output:** -1 if no path exists.
============================================================

ID: GRP-011
Problem File: GRP-011-library-fire-with-exhaustion.md
Editorial File: GRP-011-library-fire-with-exhaustion.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a 2D grid representing a library where:  - `0` = empty cell - `1` = wall (impassable) - `2` = fire source cell  Additionally, you have a parallel stamina grid where each fire source cell has an initial stamina value (between 1 and 10).  Fire spreads as follows:  - Each minute, active f...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= r, c <= 200` - Cell values: 0 (empty), 1 (wall), 2 (fire source) - Stamina values: 0 to 10 - At least one fire source exists
-------------------- EDITORIAL SUMMARY ----------------------
Simulate fire spread in a grid where fire sources have stamina that decreases with each spread. Compute the number of minutes until no new cells ignite, considering that fire stops spreading when stamina reaches zero.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Fire sources:** Cells with value 2 in grid - **Stamina:** Initial stamina from stamina grid - **Spread rule:** Fire spreads to 4-adjacent cells, stamina decreases by 1 - **Exhaustion:** Fire stops spreading when stamina reaches 0 - **Return -1:** If any empty cell never catches fire
============================================================

ID: GRP-012
Problem File: GRP-012-exam-seating-rooms-vip.md
Editorial File: GRP-012-exam-seating-rooms-vip.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an undirected graph where nodes represent students who prefer to sit together (connected by edges). Some students are designated as VIPs.  **Constraint**: No connected component can contain more than one VIP.  Your task is to remove the minimum number of edges such that no component co...
-------------------- PROBLEM CONSTRAINTS --------------------
---
-------------------- EDITORIAL SUMMARY ----------------------
You are given a graph of students and friendships. Some students are **VIPs**. You must remove the **minimum number of edges** such that no two VIPs belong to the same connected component. After doing so, return the **size of the largest remaining connected component**.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Input:** `n`, `m`, list of edges, list of VIPs. -   **Output:** Integer (max component size). -   **VIPs:** Can be 0 to n. If 0 VIPs, return size of largest component in original graph. -   **Edges:** Undirected.
============================================================

ID: GRP-013
Problem File: GRP-013-robotics-bridges.md
Editorial File: GRP-013-robotics-bridges.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph with `n` nodes (numbered 0 to n-1), find all bridges in the graph.  A **bridge** (or cut edge) is an edge whose removal increases the number of connected components. In other words, removing a bridge disconnects the graph (or a component).  Return a list of all bridges as p...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Find all bridges (critical edges) in an undirected graph using Tarjan's algorithm. A bridge is an edge whose removal increases the number of connected components.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Bridge definition:** Edge whose removal increases component count - **Discovery time:** Time when node is first visited in DFS - **Low value:** Minimum discovery time reachable from subtree - **Bridge condition:** `low[v] > disc[u]` for edge (u,v)
============================================================

ID: GRP-014
Problem File: GRP-014-lab-articulation-points.md
Editorial File: GRP-014-lab-articulation-points.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph with `n` nodes (numbered 0 to n-1), find all articulation points (also called cut vertices) in the graph.  An **articulation point** is a node whose removal increases the number of connected components. In other words, removing an articulation point disconnects the graph (o...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Find all articulation points (cut vertices) in an undirected graph using Tarjan's algorithm. An articulation point is a vertex whose removal increases the number of connected components.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Articulation point:** Vertex whose removal increases component count - **Root special case:** Root is articulation point iff it has ≥2 children in DFS tree - **Non-root condition:** `low[v] >= disc[u]` for edge (u,v) - **Discovery/Low:** Same as bridge algorithm
============================================================

ID: GRP-015
Problem File: GRP-015-shuttle-seating-assignment-feasibility.md
Editorial File: GRP-015-shuttle-seating-assignment-feasibility.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` tasks (numbered 0 to n-1) with directed dependencies (represented as edges where `u → v` means task `u` must be completed before task `v`), determine: 1. Whether a valid ordering of tasks exists (i.e., the graph is a DAG with no cycles) 2. How many nodes had zero in-degree initially (i.e.,...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Determine if a valid seating order exists given precedence constraints using Kahn's algorithm for topological sort. Return true if a topological ordering exists (DAG), false if cycles exist.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Directed edges:** u→v means u must come before v - **Cycle detection:** If processed < n nodes, cycle exists - **Indegree:** Number of incoming edges to a node - **Queue:** Nodes with indegree 0 are ready to process
============================================================

ID: GRP-016
Problem File: GRP-016-campus-carpool-pairing.md
Editorial File: GRP-016-campus-carpool-pairing.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph with `n` nodes (numbered 0 to n-1) and `m` edges, determine if the graph is a **forest**.  A **forest** is a graph with no cycles. Equivalently, it's a collection of trees where each tree is a connected acyclic graph. An isolated node (with no edges) is considered a tree of...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= m <= 2*10^5` - `0 <= u, v < n` - There are no self-loops or multiple edges
-------------------- EDITORIAL SUMMARY ----------------------
Determine if adding a new edge creates a cycle in an undirected graph using Union-Find. A graph is a forest (acyclic) if no cycles exist. Return true if the graph remains a forest after adding the edge.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Forest:** Graph with no cycles (collection of trees) - **Cycle detection:** If find(u) == find(v), adding (u,v) creates cycle - **Union-Find:** Efficiently tracks connected components - **Return:** true if remains forest, false if cycle created
============================================================

ID: GRP-017
Problem File: GRP-017-festival-maze-shortest-path.md
Editorial File: GRP-017-festival-maze-shortest-path.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a 2D grid representing a festival maze with the following cells: - `S`: Start position (exactly one) - `E`: Exit position (exactly one) - `F`: Food stall (at least one) - `#`: Wall (impassable) - `.`: Open cell (passable)  You can move 4-directionally (up, down, left, right) through no...
-------------------- PROBLEM CONSTRAINTS --------------------
---
-------------------- EDITORIAL SUMMARY ----------------------
Find shortest path in a grid maze where you can pass through at most K walls. Use state-space BFS where each state is (row, col, walls_remaining). Return minimum steps to reach destination or -1 if impossible.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **State:** (row, col, walls_remaining) - **Transition:** Move to adjacent cell, decrement walls_remaining if wall - **Goal:** Reach destination with any walls_remaining ≥ 0 - **BFS guarantee:** First time reaching destination = shortest path
============================================================

ID: GRP-018
Problem File: GRP-018-robotics-weighted-reachability.md
Editorial File: GRP-018-robotics-weighted-reachability.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a weighted undirected graph with `n` nodes (numbered 0 to n-1), edges with positive weights, and a threshold `T`, count how many nodes are reachable from node 0 using only edges with weight `<= T`.  An edge (u, v, w) can be traversed if and only if `w <= T`. Count all nodes that can be reached...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= m <= 2*10^5` - `0 <= u, v < n` - `1 <= w <= 10^9` - `0 <= T <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Find all nodes reachable from a source using only edges with weight ≤ threshold. Use BFS/DFS with edge filtering to traverse only valid edges. Return list of reachable nodes.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Edge filtering:** Only traverse edges with weight ≤ threshold - **Directed edges:** Respect edge direction - **Source included:** Source is always reachable - **Return:** List/set of all reachable node IDs
============================================================

Reviewing Topic: GraphsBasics
============================================================
ID: GRB-001
Problem File: GRB-001-bfs-shortest-path-unweighted.md
Editorial File: GRB-001-bfs-shortest-path-unweighted.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an undirected, unweighted graph with `n` nodes (numbered from `0` to `n-1`) and `m` edges. You need to find the shortest path distance from a source node `s` to all other nodes in the graph.  In an unweighted graph, each edge has the same weight (you can think of it as weight 1). The s...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= s < n` - `0 <= u, v < n` - No self-loops or multiple edges between the same pair of nodes
-------------------- EDITORIAL SUMMARY ----------------------
You are given an undirected, unweighted graph with `n` nodes and `m` edges. You need to find the shortest distance from a starting node `s` to all other nodes. If a node is unreachable, its distance is `-1`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Graph Type:** Undirected. If `u-v` is an edge, you can go `u->v` and `v->u`. -   **Unweighted:** All edges have weight 1. -   **Disconnected Components:** Nodes not reachable from `s` will remain `-1` in the `dist` array, which matches the required output. -   **Self-loops/Multi-edges:** Const...
============================================================

ID: GRB-002
Problem File: GRB-002-dfs-connected-components.md
Editorial File: GRB-002-dfs-connected-components.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an undirected graph with `n` nodes (0 to `n-1`) and `m` edges. Count the number of connected components and label each node with its component id.  Use depth-first search (DFS) to explore the graph.  ![Problem Illustration](../images/GRB-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an undirected graph. Your task is to count how many connected components it has. You must also assign a 1-based component id to every node.
-------------------- EDITORIAL CONSTRAINTS ------------------
- Component ids must be 1-based, assigned in discovery order. - Isolated nodes still form a component of size 1. - The graph is undirected, so each edge is bidirectional.  Common interpretation mistake:  - ❌ Assume the graph is connected and skip the outer loop. - ✅ Always iterate over all nodes and...
============================================================

ID: GRB-003
Problem File: GRB-003-dijkstra-binary-heap.md
Editorial File: GRB-003-dijkstra-binary-heap.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a directed graph with non-negative edge weights. Compute the shortest distance from a source node `s` to every node.  If a node is unreachable, its distance should be `-1`.  ![Problem Illustration](../images/GRB-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= w <= 10^9` - `0 <= s < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a directed graph with **non-negative** edge weights. Find the shortest path distance from a source node `s` to all other nodes. If a node is unreachable, the distance is `-1`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Weights:** Non-negative. This is crucial for Dijkstra. -   **Large Distances:** Sum of weights can exceed 2^31-1. Use 64-bit integers (`long` in Java/C++, `Number` is safe in JS up to 2^53). -   **Unreachable:** Output `-1`.
============================================================

ID: GRB-004
Problem File: GRB-004-bellman-ford.md
Editorial File: GRB-004-bellman-ford.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a directed graph that may contain negative edge weights. Compute shortest distances from a source node `s`.  If a negative cycle is reachable from `s`, output `NEGATIVE CYCLE`.  ![Problem Illustration](../images/GRB-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10000` - `0 <= m <= 50000` - `-10^9 <= w <= 10^9` - `0 <= s < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a directed graph with edges that can have **negative weights**. Find the shortest path distance from a source node `s` to all other nodes. If the graph contains a **negative cycle** reachable from `s`, output `NEGATIVE CYCLE`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Negative Weights:** Allowed. -   **Negative Cycle:** A cycle where the sum of edge weights is negative. -   **Reachable:** The cycle must be reachable from `s`. An unreachable negative cycle doesn't affect the shortest path from `s`. -   **Infinity:** Use a value larger than any possible path ...
============================================================

ID: GRB-005
Problem File: GRB-005-topo-sort-kahn.md
Editorial File: GRB-005-topo-sort-kahn.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed acyclic graph (DAG), output any valid topological ordering of its nodes.  ![Problem Illustration](../images/GRB-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= u, v < n` - The input graph is guaranteed to be a DAG
-------------------- EDITORIAL SUMMARY ----------------------
You are given a **Directed Acyclic Graph (DAG)**. You need to find a **linear ordering** of its nodes such that for every directed edge `u -> v`, node `u` comes before node `v` in the ordering. This is called a Topological Sort.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **DAG Guarantee:** The problem states the graph is a DAG, so a solution always exists. -   **Multiple Solutions:** Any valid topological sort is accepted. -   **Disconnected Components:** Kahn's algorithm naturally handles disconnected components (it just picks any 0-indegree node from any compo...
============================================================

ID: GRB-006
Problem File: GRB-006-detect-cycle-directed.md
Editorial File: GRB-006-detect-cycle-directed.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed graph, determine whether it contains a cycle.  ![Problem Illustration](../images/GRB-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a **Directed Graph**. Determine if it contains at least one cycle. A cycle is a path that starts and ends at the same node, following the direction of edges.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Self-loops:** `u -> u` is a cycle of length 1. The algorithm detects this (`u` is Gray, neighbor `u` is Gray). -   **Disconnected Components:** The outer loop ensures we check all components. -   **Directed:** `u -> v` is different from `v -> u`. A cycle must follow arrows.
============================================================

ID: GRB-007
Problem File: GRB-007-mst-kruskal.md
Editorial File: GRB-007-mst-kruskal.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a connected, undirected weighted graph, compute the total weight of its minimum spanning tree (MST) using Kruskal's algorithm.  ![Problem Illustration](../images/GRB-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `n-1 <= m <= 200000` - `0 <= w <= 10^9` - The graph is connected
-------------------- EDITORIAL SUMMARY ----------------------
Given a connected, undirected, weighted graph, find the **Minimum Spanning Tree (MST)**. An MST is a subset of edges that connects all vertices together, without any cycles, and with the minimum possible total edge weight. You must use **Kruskal's Algorithm**.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Connected Graph:** The input is guaranteed to be connected, so an MST always exists. -   **Weights:** Can be large, so use 64-bit integers (`long` in Java/C++) for the sum. -   **Multiple Edges:** Kruskal's handles them naturally (duplicates or heavier parallel edges are skipped).
============================================================

ID: GRB-008
Problem File: GRB-008-mst-prim.md
Editorial File: GRB-008-mst-prim.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a connected, undirected weighted graph, compute the total weight of its minimum spanning tree (MST) using Prim's algorithm.  ![Problem Illustration](../images/GRB-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `n-1 <= m <= 200000` - `0 <= w <= 10^9` - The graph is connected
-------------------- EDITORIAL SUMMARY ----------------------
Given a connected, undirected, weighted graph, find the **Minimum Spanning Tree (MST)** using **Prim's Algorithm**.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Connected:** Graph is guaranteed connected. -   **Weights:** Non-negative. -   **Start Node:** You can start Prim's from *any* node (usually 0). The MST weight will be the same.
============================================================

ID: GRB-009
Problem File: GRB-009-bipartite-check-bfs.md
Editorial File: GRB-009-bipartite-check-bfs.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an undirected graph, determine whether it is bipartite. If it is bipartite, output a valid 2-coloring. Otherwise, output `false`.  ![Problem Illustration](../images/GRB-009/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
Given an undirected graph, determine if it is **Bipartite**. -   A graph is bipartite if its nodes can be divided into two disjoint sets (colors) such that every edge connects a node in one set to a node in the other set. -   If it is bipartite, output `true` and the color of each node (0 or 1). -  ...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Disconnected Graph:** You must handle all components. -   **Output Format:** If false, just print `false`. If true, print `true` then the colors. -   **Valid Colors:** 0 and 1.
============================================================

ID: GRB-010
Problem File: GRB-010-articulation-points-colored.md
Editorial File: GRB-010-articulation-points-colored.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an undirected graph where each edge is colored `R` (red) or `B` (blue). A node is **critical** if removing it disconnects the graph into components such that at least one component contains a red edge and at least one (different) component contains a blue edge.  Return all critical nod...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= u, v < n` - `c` is `R` or `B`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an undirected graph with edges colored either **Red (R)** or **Blue (B)**. A node is **critical** if its removal splits the graph into two or more components such that: 1.  At least one component contains a **Red** edge. 2.  At least one *other* component contains a **Blue** edge.  Fin...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Edge Colors:** Edges are strictly R or B. -   **Components:** A single node with no edges does *not* contain a Red or Blue edge. -   **Root Node:** Special case for the root of the DFS tree. It needs >1 child to be an articulation point.
============================================================

ID: GRB-011
Problem File: GRB-011-bridges-capacity-threshold.md
Editorial File: GRB-011-bridges-capacity-threshold.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an undirected graph where each edge has a capacity `c`. An edge is **critical** if:  1. It is a bridge (removing it increases the number of connected components), and 2. Its capacity is strictly less than a threshold `T`.  Find all such edges.  ![Problem Illustration](../images/GRB-011...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `0 <= c <= 10^9` - `0 <= T <= 10^9` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an undirected graph where each edge has a **capacity**. You need to find all edges that are **critical**. An edge is critical if: 1.  It is a **Bridge** (removing it disconnects the graph). 2.  Its capacity is strictly less than a threshold `T`.  Return these edges in the order they ap...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Input Order:** Output must preserve the relative order of edges from the input. -   **Multiple Edges:** The problem implies a simple graph or standard multigraph handling. Tarjan's handles multigraphs if implemented carefully (don't go back to parent via the *same* edge index). -   **Disconnec...
============================================================

ID: GRB-012
Problem File: GRB-012-dsu-basics.md
Editorial File: GRB-012-dsu-basics.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain a set of `n` nodes under two operations:  - `union u v`: connect the sets containing `u` and `v` - `find u v`: report whether `u` and `v` are in the same set  Answer all queries in order.  ![Problem Illustration](../images/GRB-012/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= q <= 200000` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are managing `N` elements, initially in separate sets. You need to process `Q` queries: 1.  **Union(u, v):** Merge the set containing `u` and the set containing `v`. 2.  **Find(u, v):** Check if `u` and `v` are currently in the same set.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Output:** Only print for `find` queries. -   **Dynamic:** Queries are processed online (one by one).
============================================================

ID: GRB-013
Problem File: GRB-013-two-sat-amo.md
Editorial File: GRB-013-two-sat-amo.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a 2-SAT formula with `n` boolean variables `x1..xn`. Each clause is of the form `(a OR b)` where `a` and `b` are literals. Additionally, you are given several **at-most-one** constraints: within each subset, at most one variable can be true. Determine whether the formula is satisfiable...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - Total size of all groups `<= 200000`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a boolean formula with two types of constraints: 1.  **2-SAT Clauses:** `(a OR b)` 2.  **At-Most-One (AMO) Groups:** For a given set of variables, at most one can be true.  Determine if the formula is satisfiable and provide a valid assignment.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Literals:** Input uses `1..N` and `-1..-N`. Map `-i` to node `N+i`. -   **AMO Size:** Sum of group sizes is small (200,000), but naive pairwise edges for a large group is O(K^2).     -   **Optimization:** For large groups, O(K^2) is too slow. We need the **Commander Variable** or **Prefix/Suff...
============================================================

ID: GRB-014
Problem File: GRB-014-shortest-path-dag.md
Editorial File: GRB-014-shortest-path-dag.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a weighted directed acyclic graph (DAG), compute shortest distances from a source node `s`.  If a node is unreachable, its distance should be `-1`.  ![Problem Illustration](../images/GRB-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= m <= 200000` - `-10^9 <= w <= 10^9` - The graph is a DAG
-------------------- EDITORIAL SUMMARY ----------------------
Given a **Directed Acyclic Graph (DAG)** with weighted edges (possibly negative), find the shortest path distance from a source node `s` to all other nodes. If a node is unreachable, output `-1`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Negative Weights:** Allowed! Standard Dijkstra fails here, but DAG property makes it solvable in linear time. -   **Unreachable:** Output `-1`. -   **Infinity:** Use a sufficiently large number (e.g., `1e18` for 64-bit integers).
============================================================

ID: GRB-015
Problem File: GRB-015-floyd-warshall.md
Editorial File: GRB-015-floyd-warshall.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a directed weighted graph with up to 500 nodes, compute the shortest path distance between every pair of nodes using the Floyd-Warshall algorithm.  If a negative cycle exists, output `NEGATIVE CYCLE`.  ![Problem Illustration](../images/GRB-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 500` - Edge weights are in `[-10^9, 10^9]`
-------------------- EDITORIAL SUMMARY ----------------------
Given a directed weighted graph (represented as an adjacency matrix), compute the shortest path distance between **every pair of nodes**. -   If a **negative cycle** exists, output `NEGATIVE CYCLE`. -   Otherwise, output the `N x N` distance matrix.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Input Format:** `-1` represents infinity (no edge). Convert this to a large constant (e.g., `1e15`) internally. -   **Output Format:** Convert large constants back to `-1`. -   **Constraints:** N <= 500. O(N^3) is ~1.25 * 10^8 operations, which fits within 2 seconds in C++/Java. Python might b...
============================================================

ID: GRB-016
Problem File: GRB-016-euler-tour-flatten.md
Editorial File: GRB-016-euler-tour-flatten.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a rooted tree with `n` nodes. Produce the entry time `tin[u]` and exit time `tout[u]` for each node using a DFS Euler tour. The subtree of `u` corresponds to the contiguous range `[tin[u], tout[u]]` in the Euler order.  ![Problem Illustration](../images/GRB-016/problem-illustration.png...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= u, v, r < n`
-------------------- EDITORIAL SUMMARY ----------------------
Given a rooted tree, perform a DFS traversal (Euler Tour) to compute two values for each node `u`: 1.  `tin[u]`: Entry time (when DFS first visits `u`). 2.  `tout[u]`: Exit time (when DFS finishes `u`'s subtree).  This "flattens" the tree into an array such that the subtree of `u` corresponds exactl...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Timer:** Starts at 0. -   **Tout Definition:** `tout[u]` should be the maximum `tin` value in the subtree of `u`. -   **Root:** Given in input.
============================================================

Reviewing Topic: Greedy
============================================================
ID: GRD-001
Problem File: GRD-001-campus-shuttle-driver-swaps.md
Editorial File: GRD-001-campus-shuttle-driver-swaps.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `n` shuttle trips that need to be covered by drivers. Each trip has a specific time interval `[start, end]`. Two drivers, A and B, are available with their own availability intervals: - Driver A is available during interval `[A_start, A_end]` - Driver B is available during interval `[B_star...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= start < end <= 10^9` - `1 <= A_start < A_end <= 10^9` - `1 <= B_start < B_end <= 10^9` - All trips are non-overlapping (no two trips happen at the same time)
-------------------- EDITORIAL SUMMARY ----------------------
You are given a schedule of `n` shuttle trips, each with a start and end time. Two drivers, A and B, have specific availability windows. You need to assign every trip to a driver who is available for the entire duration of that trip. The goal is to minimize the number of times you switch drivers bet...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Chronological Order:** The trips are guaranteed to be sorted by their start times. - **Non-overlapping:** No two trips occur at the same time; `end` of one trip <= `start` of the next. - **Availability:** A driver is available for a trip `[s, e]` if and only if `DriverStart <= s` AND `e <= Drive...
============================================================

ID: GRD-002
Problem File: GRD-002-lab-kit-distribution.md
Editorial File: GRD-002-lab-kit-distribution.md
-------------------- PROBLEM DESCRIPTION --------------------
A lab has `k` different types of equipment kits, with `q[i]` units available for kit type `i`. There are `m` students who each need exactly one kit (any type is acceptable).  Your task is to distribute kits to students with two objectives:  1. **Primary**: Fulfill as many student requests as possibl...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k, m <= 10^5` - `0 <= q[i] <= 10^9` - Total kits available may be less than, equal to, or greater than `m`
-------------------- EDITORIAL SUMMARY ----------------------
You have `k` types of lab kits with varying quantities. You need to distribute these kits to `m` students. Each student needs exactly one kit of any type. Your goals are, in order: 1. Maximize the number of students who receive a kit. 2. Minimize the number of kit types that run out completely (reac...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Fulfilled Count:** This is simply `min(m, sum(quantities))`. You can't give more than you have, and you can't give more than needed. - **Zeroed Types:** A type counts as "zeroed" if its final quantity is exactly 0. - **Tie-breaking:** If multiple types have the same maximum quantity, picking any...
============================================================

ID: GRD-003
Problem File: GRD-003-festival-stall-placement.md
Editorial File: GRD-003-festival-stall-placement.md
-------------------- PROBLEM DESCRIPTION --------------------
You are organizing a festival along a straight road and have received `n` stall placement requests. Each request specifies a start and end coordinate `[start, end]` where the vendor wants to place their stall.  However, there's a safety regulation: no two stalls can be placed within distance `d` of ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= d <= 10^9` - `0 <= start < end <= 10^9` - Positions are integers
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` requests to place stalls at a festival. Each request specifies a desired interval `[start, end]`. Due to safety regulations, any two placed stalls must be separated by a minimum distance `d`. Your goal is to select the maximum number of requests that satisfy this safety constraint.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Distance Measurement:** The distance is between the *end* of the earlier stall and the *start* of the later stall. `later.start - earlier.end >= d`. - **Coordinates:** Intervals are inclusive `[start, end]`. - **Sorting:** The input is not guaranteed to be sorted.
============================================================

ID: GRD-004
Problem File: GRD-004-library-power-backup.md
Editorial File: GRD-004-library-power-backup.md
-------------------- PROBLEM DESCRIPTION --------------------
A library server needs continuous power for `T` hours. You have `n` backup batteries, where battery `i` has a capacity of `c[i]` hours.  Each hour, you must draw power from exactly one battery until it is depleted. When a battery runs out, you switch to another battery (if available).  Your goal is ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= c[i] <= 10^9` - `1 <= T <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You need to power a server for `T` hours using a set of `n` batteries, each with a specific capacity. You can only use one battery at a time. When one runs out, you must switch to another. Your goal is to minimize the number of switches required to keep the server running for the full duration.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Swaps vs. Count:** The problem asks for *swaps*. If you use 1 battery, that's 0 swaps. If you use `k` batteries, that's `k-1` swaps. - **Impossible Case:** If the sum of all battery capacities is less than `T`, return -1. - **Exact vs. Excess:** It's okay to have more capacity than `T`. You just...
============================================================

ID: GRD-005
Problem File: GRD-005-shuttle-overtime-minimizer.md
Editorial File: GRD-005-shuttle-overtime-minimizer.md
-------------------- PROBLEM DESCRIPTION --------------------
You manage shuttle driver shifts where each shift `i` has:  - A standard length `l[i]` hours (no overtime cost for these hours) - An overtime cost `p[i]` per hour beyond the standard length  You must cover a total of `H` hours using these shifts. Shifts can be partially used, but any hours beyond th...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= l[i], p[i] <= 10^9` - `1 <= H <= 10^12` - Total standard hours (sum of all `l[i]`) may be less than, equal to, or greater than `H`
-------------------- EDITORIAL SUMMARY ----------------------
You need to cover `H` total hours of service using `n` driver shifts. Each shift has a "standard" duration (free) and an "overtime" rate (cost per hour). You can use as much overtime as needed. The goal is to minimize the total overtime cost.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Standard Hours:** These are essentially "free" towards the total `H`. Always use them first. - **Overtime Limit:** The problem implies no limit on overtime hours per shift. You can extend a shift as much as needed. - **Excess Standard Hours:** If the sum of standard hours $\ge H$, the cost is 0....
============================================================

ID: GRD-006
Problem File: GRD-006-robotics-component-bundling-loss-quality.md
Editorial File: GRD-006-robotics-component-bundling-loss-quality.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `n` robot parts, where each part `i` has:  - Weight `w[i]` - Quality score `q[i]`  You can bundle two parts together using the following rules:  - **Weight calculation**: When bundling parts with weights `w_big` and `w_small` (where `w_big >= w_small`), the new weight is: `w_big + w_small -...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2*10^5` - `1 <= w[i] <= 10^9` - `1 <= q[i] <= 100` - `1 <= T <= 100`
-------------------- EDITORIAL SUMMARY ----------------------
You have a collection of parts, each with a weight and a quality score. You need to merge them all into a single component. Merging two parts combines their weights (with some loss) and degrades their quality. Specifically: - New Weight = $W_1 + W_2 - \lfloor 0.1 \times \min(W_1, W_2) \rfloor$ - New...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Single Component:** You must merge *all* parts into one. - **Impossible Case:** If at any step you cannot find two parts to merge that result in $Q \ge T$, then the task is impossible. Return -1. - **Loss Calculation:** The 10% loss is calculated on the *smaller* weight of the pair. `floor(0.1 *...
============================================================

ID: GRD-007
Problem File: GRD-007-campus-wifi-expansion.md
Editorial File: GRD-007-campus-wifi-expansion.md
-------------------- PROBLEM DESCRIPTION --------------------
You need to connect `n` buildings on campus with network cables. Some buildings may already have cable connections between them (at no additional cost).  For buildings that aren't connected, laying a new cable between buildings `i` and `j` costs `|h[i] - h[j]|`, where `h[i]` is the height of buildin...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= h[i] <= 10^9` - `0 <= m < n` - `0 <= u, v < n`
-------------------- EDITORIAL SUMMARY ----------------------
You need to connect `n` buildings into a single network. You are given the heights of all buildings. - Existing connections between some buildings are free. - New connections between any two buildings `i` and `j` cost `|height[i] - height[j]|`. Find the minimum cost to connect all buildings.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Graph Type:** This is a Minimum Spanning Tree (MST) problem. - **Dense Graph:** If we consider *every* pair of buildings, there are $O(N^2)$ edges. With $N=10^5$, this is too many ($10^{10}$). We need a smarter way to pick candidate edges. - **Existing Edges:** These have weight 0. They should b...
============================================================

ID: GRD-008
Problem File: GRD-008-exam-proctor-allocation.md
Editorial File: GRD-008-exam-proctor-allocation.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `n` exam sessions, where each session `i` occurs during time interval `[start[i], end[i]]`. Each proctor can supervise up to `r` simultaneously occurring exams.  Your task is to find the minimum number of proctors needed to cover all exam sessions.  ![Problem Illustration](../images/GRD-008...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= r <= 10^9` - `0 <= start < end <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given `n` exam intervals `[start, end]`. A single proctor can supervise up to `r` exams simultaneously. Find the minimum number of proctors required to cover all exams.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Intervals:** `[start, end]` usually means the exam is active during this time. - **Boundary Conditions:** Does an exam ending at 7 overlap with one starting at 7?   - Standard interpretation: Yes, if closed intervals `[s, e]`.   - Or No, if half-open `[s, e)`.   - **Clarification:** For "maximum...
============================================================

ID: GRD-009
Problem File: GRD-009-shuttle-refuel-with-refund.md
Editorial File: GRD-009-shuttle-refuel-with-refund.md
-------------------- PROBLEM DESCRIPTION --------------------
A shuttle travels a circular route with `n` stops. At each stop `i`:  - You can refuel and gain `gain[i]` units of fuel - Traveling to the next stop costs `cost[i]` units of fuel  You have a special coupon that can refund the fuel cost for exactly one segment (one `cost[i]` value). This means for th...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= gain[i], cost[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have a circular route with `n` stops. At each stop, you gain some fuel and spend some fuel to reach the next stop. You have a **single-use coupon** that refunds the cost of one segment (makes it free). Find a starting stop such that you can complete the full circle.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Coupon Strategy:** You should use the coupon on the edge that saves you the most fuel? Not necessarily. You use it on an edge that *allows* you to complete the cycle. But intuitively, refunding the largest cost is best for the *total* balance. - **Circular Route:** Indices wrap around: `n-1` goe...
============================================================

ID: GRD-010
Problem File: GRD-010-library-merge-queues.md
Editorial File: GRD-010-library-merge-queues.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `k` sorted queues of book IDs (integers). You need to merge them into a single sorted stream with a constraint: **no book ID can appear more than twice consecutively** in the output.  If a book ID would appear for the third time in a row, skip it and move to the next available different ID....
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 100` - Total elements across all queues `<= 2*10^5` - All queues are sorted in non-decreasing order - Book IDs are integers in range `[1, 10^9]`
-------------------- EDITORIAL SUMMARY ----------------------
You have `k` sorted queues of book IDs. You need to merge them into a single sorted stream, but you cannot output the same book ID more than twice in a row. If the smallest available ID violates this rule, you must skip it and pick the next smallest valid ID.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Sorted Input:** All individual queues are sorted. This allows us to use the "Merge K Sorted Lists" approach. - **Constraint:** "Consecutive" means immediately adjacent in the output list. - **Tie-breaking:** If multiple queues have the same value, any one can be picked. - **Exhaustion:** If we o...
============================================================

ID: GRD-011
Problem File: GRD-011-campus-event-ticket-caps.md
Editorial File: GRD-011-campus-event-ticket-caps.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `n` ticket requests for campus events. Each request `i` has:  - Quantity `q[i]` (number of tickets requested) - Deadline `d[i]` (last day to process this request)  You can process at most **one request per day** (day 1, day 2, ...). Partial fulfillment counts as processing a request (and us...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= q[i], d[i] <= 10^5`
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` requests to process. Each request has a **value** (quantity of tickets) and a **deadline**. You can process at most one request per day. Your goal is to select a set of requests to process such that each is completed by its deadline, maximizing the total value (tickets sold).
-------------------- EDITORIAL CONSTRAINTS ------------------
- **One per day:** You consume 1 unit of time per request. - **Deadline:** `d[i]` means the request must be processed on day `d[i]` or earlier. - **Processing Time:** Implicitly 1 day.
============================================================

ID: GRD-012
Problem File: GRD-012-workshop-task-cooldown-priority.md
Editorial File: GRD-012-workshop-task-cooldown-priority.md
-------------------- PROBLEM DESCRIPTION --------------------
You have tasks labeled A-Z with counts `c[i]` and priority levels `p[i]` in {1, 2, 3} where higher numbers indicate higher priority.  **Cooldown rule**: Between two identical tasks, at least `k` different tasks must be executed.  **Priority interrupt rule**: When a higher-priority task is scheduled,...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 26` - `1 <= total tasks <= 10^5` - `0 <= k <= 10^5` - `1 <= priority <= 3` - Tasks are uppercase letters A-Z
-------------------- EDITORIAL SUMMARY ----------------------
You need to schedule tasks with specific counts and priority levels. - **Cooldown:** After executing task X, you must wait `k` slots before executing X again. - **Priority Interrupt:** If you execute a higher-priority task, it "resets" the cooldown timer for all lower-priority tasks currently waitin...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Ready Time:** If a task executes at $T$, and cooldown is $k$, it is ready at $T + k + 1$. - **Reset Rule:** If task $H$ executes at $T$, any task $L$ in the cooldown queue with $P_L < P_H$ has its ready time updated to $\max(\text{current\_ready}, T + k + 1)$. - **Idle:** If no task is ready, we...
============================================================

ID: GRD-013
Problem File: GRD-013-auditorium-seat-refunds.md
Editorial File: GRD-013-auditorium-seat-refunds.md
-------------------- PROBLEM DESCRIPTION --------------------
An auditorium has seats organized in rows numbered 1 to `r`. Initially, all rows are fully occupied with `capacity[i]` seats in row `i`.  You receive `n` refund requests, where each request specifies a seat ID that includes the row number. When processing refunds, you want to minimize the highest oc...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= r <= 10^5` - `1 <= capacity[i] <= 10^5` - `0 <= n <= sum(capacity[i])` - `1 <= row <= r`
-------------------- EDITORIAL SUMMARY ----------------------
You have an auditorium with `r` rows, each having a specific capacity. Initially, all seats are full. You receive `n` refund requests, each targeting a specific seat in a specific row. Your goal is to determine the **highest row number** that remains occupied (has at least one person) after processi...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Optimization:** You can move people from higher rows to fill empty seats in lower rows created by refunds. - **Goal:** Empty the highest rows. - **Input:** The refunds tell you exactly which seats become empty initially.
============================================================

ID: GRD-014
Problem File: GRD-014-festival-bandwidth-split.md
Editorial File: GRD-014-festival-bandwidth-split.md
-------------------- PROBLEM DESCRIPTION --------------------
You're managing `n` performance stages at a festival, all sharing a total bandwidth of `B` units. Each stage `i` requires a minimum bandwidth of `b[i]` units to operate. If a stage doesn't get its minimum bandwidth, it cannot run at all.  Unused bandwidth is wasted (you can't save it or redistribute...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= B <= 10^12` - `1 <= b[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` stages, each requiring a minimum bandwidth `b[i]`. You have a total bandwidth budget `B`. You want to maximize the **count** of stages that can run. As a secondary goal, minimize wasted bandwidth.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Maximize Count:** This is the primary objective. - **Does Greedy Minimize Waste?**   - The problem asks to minimize waste *among solutions with maximum stages*.   - Greedy picks [2, 4] -> Sum 6. Waste 1.   - Alternative [2, 5] -> Sum 7. Waste 0.   - The problem example says: "Best choice: Stages...
============================================================

ID: GRD-015
Problem File: GRD-015-robotics-median-after-batches-stale.md
Editorial File: GRD-015-robotics-median-after-batches-stale.md
-------------------- PROBLEM DESCRIPTION --------------------
Numbers arrive in batches from robot sensors. A value becomes **"stale"** once it has appeared more than `t` times in total across all batches seen so far. Stale values must be excluded from median calculations.  After processing each batch, report the median of all **non-stale** values seen so far....
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 1000` - `1 <= t <= 10^5` - Total numbers across all batches `<= 2*10^5` - Values are integers in range `[-10^9, 10^9]`
-------------------- EDITORIAL SUMMARY ----------------------
You receive batches of numbers. You need to calculate the running median after each batch. However, there's a twist: if any number appears more than `t` times in total, it becomes "stale" and must be completely excluded from the median calculation.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Staleness:** A value $x$ is stale if $Freq(x) > t$. Once stale, *all* instances of $x$ are ignored. - **Median:**   - Odd $N$: Middle element.   - Even $N$: $\lfloor (Mid1 + Mid2) / 2 \rfloor$. - **NA:** If 0 valid elements, output "NA".
============================================================

ID: GRD-016
Problem File: GRD-016-shuttle-schedule-delay-minimizer.md
Editorial File: GRD-016-shuttle-schedule-delay-minimizer.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `n` shuttle trips to schedule. Each trip `i` has: - Planned start time `s[i]` - Duration `d[i]`  Trips must be executed sequentially (one at a time). If a trip starts later than its planned time, it incurs a delay. This delay propagates: if trip `i` is delayed by `x` time units, all subsequ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `0 <= s[i], d[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` tasks (shuttle trips), each with a planned start time `s[i]` and a duration `d[i]`. You must execute them one by one. If a task starts later than `s[i]`, it incurs a delay of `actual_start - s[i]`. Your goal is to find an ordering of tasks that minimizes the **sum of all delays**.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Start Time:** You can start at $T=0$. - **Sequential:** $Start_{next} = Start_{curr} + Duration_{curr}$. - **Delay:** $\max(0, Start - PlannedStart)$. - **Objective:** Minimize Sum of Delays.
============================================================

Reviewing Topic: Hashing
============================================================
ID: HSH-001
Problem File: HSH-001-polynomial-hash-prefixes.md
Editorial File: HSH-001-polynomial-hash-prefixes.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a lowercase string `s`, compute the polynomial rolling hash for all prefixes using base `B` and modulus `M`.  The polynomial hash for a string is computed as: - `hash("") = 0` - `hash(s[0..i]) = (hash(s[0..i-1]) * B + s[i]) mod M`  where `s[i]` is treated as its ASCII value.  Return an array c...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 2*10^5` - `1 <= B <= 10^9 + 6` - `1 <= M <= 10^9 + 7` - String contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s` and two integers `B` (base) and `M` (modulus). Your task is to compute the polynomial rolling hash for every prefix of the string. The hash of a prefix $s[0 \dots i]$ is defined recursively: - $H_0 = s[0] \pmod M$ - $H_i = (H_{i-1} \times B + s[i]) \pmod M$
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`, integers `B` and `M`. - **Output:** Array of integers where the $i$-th element is the hash of $s[0 \dots i]$. - **Indexing:** 0-based. - **Modulo:** All calculations must be modulo `M` to prevent overflow.
============================================================

ID: HSH-002
Problem File: HSH-002-substring-equality-queries.md
Editorial File: HSH-002-substring-equality-queries.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and `q` queries, each query asks whether two substrings of `s` are equal.  Each query is specified as `(l1, r1, l2, r2)` where:  - First substring: `s[l1..r1]` (inclusive, 0-indexed) - Second substring: `s[l2..r2]` (inclusive, 0-indexed)  For each query, output `true` if the two s...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 2*10^5` - `1 <= q <= 2*10^5` - `0 <= l1 <= r1 < |s|` - `0 <= l2 <= r2 < |s|` - `r1 - l1 == r2 - l2` (substring lengths must match)
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s` and multiple queries. Each query provides two pairs of indices `(l1, r1)` and `(l2, r2)`, representing two substrings `s[l1..r1]` and `s[l2..r2]`. Your task is to determine if these two substrings are identical for each query.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Double Hashing:** Use two sets of (Base, Mod) to minimize collisions. A collision happens when two different strings have the same hash. With two hashes, the probability is negligible ($ \approx 10^{-18}$). - **Indices:** 0-based inclusive. - **Constraints:** $N, Q \le 2 \cdot 10^5$. An $O(N \cd...
============================================================

ID: HSH-003
Problem File: HSH-003-lcs-hash-two-strings.md
Editorial File: HSH-003-lcs-hash-two-strings.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two strings `a` and `b`, find the length of their longest common substring using binary search combined with polynomial hashing.  A common substring is a contiguous sequence of characters that appears in both strings.  ![Problem Illustration](../images/HSH-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |a|, |b| <= 10^5` - Strings contain only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given two strings, `a` and `b`. Your task is to find the length of the longest substring that appears in both `a` and `b`. A substring is a contiguous sequence of characters.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Two strings `a` and `b`. - **Output:** Integer representing the maximum length. - **Constraints:** Lengths up to $10^5$. $O(N^2)$ DP solution will TLE. We need $O(N \log N)$.
============================================================

ID: HSH-004
Problem File: HSH-004-palindrome-substring-queries.md
Editorial File: HSH-004-palindrome-substring-queries.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and `q` queries, answer whether substring `s[l..r]` is a palindrome using hash-based comparisons.  For each query `(l, r)`, determine if the substring from index `l` to `r` (inclusive, 0-indexed) reads the same forwards and backwards.  ![Problem Illustration](../images/HSH-004/pro...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 2*10^5` - `1 <= q <= 2*10^5` - `0 <= l <= r < |s|`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s` and multiple queries. Each query consists of a range `[l, r]`. You need to determine if the substring `s[l..r]` is a palindrome (reads the same forwards and backwards).
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`, queries `(l, r)`. - **Output:** Boolean for each query. - **Constraints:** $N, Q \le 2 \cdot 10^5$. $O(1)$ per query is required. - **Double Hashing:** Highly recommended to avoid collisions.
============================================================

ID: HSH-005
Problem File: HSH-005-count-distinct-substrings-hash.md
Editorial File: HSH-005-count-distinct-substrings-hash.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, count the number of distinct substrings (including the empty string) using polynomial hashing.  A substring is a contiguous sequence of characters within the string. Two substrings are considered the same if they have identical characters in the same order.  ![Problem Illustratio...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 10^5` - String contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s`. Your task is to count the total number of **distinct** substrings, including the empty string. For example, in "aaa", the substrings are "", "a", "a", "a", "aa", "aa", "aaa". Distinct ones: "", "a", "aa", "aaa". Count = 4.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`. - **Output:** Integer count. - **Constraints:** $|s| \le 10^5$. - **Warning:** $O(N^2)$ approach using hashing is acceptable for $N=10^3$, but for $N=10^5$, $O(N^2)$ will TLE (Time Limit Exceeded).   - *Wait*, the problem constraints say $|s| \le 10^5$.   - The "Notes" secti...
============================================================

ID: HSH-006
Problem File: HSH-006-minimal-rotation-hash.md
Editorial File: HSH-006-minimal-rotation-hash.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, find its lexicographically smallest rotation using hashing and binary search for comparison.  A rotation of a string is obtained by moving some prefix to the end. For example, rotations of "abc" are: "abc", "bca", "cab".  ![Problem Illustration](../images/HSH-006/problem-illustra...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 2*10^5` - String contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s`. You need to find the **lexicographically smallest rotation** of `s`. A rotation is formed by moving a prefix to the end. Example: "bba" -> "bab" -> "abb". Smallest is "abb".
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`. - **Output:** The smallest rotation string. - **Constraints:** $|s| \le 2 \cdot 10^5$. $O(N^2)$ is too slow. $O(N \log N)$ or $O(N)$ is required. - **Note:** Booth's Algorithm solves this in $O(N)$, but the problem specifically asks for Hashing ($O(N \log N)$).
============================================================

ID: HSH-007
Problem File: HSH-007-detect-period-string.md
Editorial File: HSH-007-detect-period-string.md
-------------------- PROBLEM DESCRIPTION --------------------
Determine the smallest period `p` of string `s`. The period is the smallest positive integer `p` such that `s` can be represented as the repetition of a substring of length `p`.  If no such period exists (i.e., the string cannot be formed by repeating a substring), return the length of the string.  ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 2*10^5` - String contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s`. You need to find the smallest length `p` such that `s` is composed of the prefix `s[0..p-1]` repeated multiple times. If no such `p` exists (other than the string itself), return the length of `s`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`. - **Output:** Smallest period length. - **Constraints:** $|s| \le 2 \cdot 10^5$. - **Divisors:** We only need to check $P$ that are divisors of $N$.
============================================================

ID: HSH-008
Problem File: HSH-008-max-repeated-block-length.md
Editorial File: HSH-008-max-repeated-block-length.md
-------------------- PROBLEM DESCRIPTION --------------------
Find the longest length `L` such that there exist two non-overlapping substrings of length `L` that are equal.  Given a string `s`, determine the maximum length of a substring that appears at least twice without overlapping.  ![Problem Illustration](../images/HSH-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 10^5` - String contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s`. Find the maximum length `L` such that there are two **non-overlapping** substrings of length `L` that are identical. Non-overlapping means if the first substring is at indices `[i, i+L-1]` and the second at `[j, j+L-1]`, then the intervals must not intersect (i.e., `i+L <...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`. - **Output:** Integer `L`. - **Constraints:** $|s| \le 10^5$. - **Non-overlapping:** `end1 < start2`.
============================================================

ID: HSH-009
Problem File: HSH-009-substring-hash-under-edits.md
Editorial File: HSH-009-substring-hash-under-edits.md
-------------------- PROBLEM DESCRIPTION --------------------
Support two types of operations on a string `s`:  1. **Update**: Change character at position `i` to character `c` 2. **Query**: Return the polynomial hash of substring `s[l..r]`  Use a data structure (Segment Tree or Fenwick Tree) to handle updates and queries efficiently.  ![Problem Illustration](...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s|, q <= 2*10^5` - `0 <= i, l, r < |s|` - Character `c` is a lowercase English letter
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s`. You need to support two operations: 1. **Update:** Change the character at index `i` to `c`. 2. **Query:** Return the polynomial rolling hash of the substring `s[l..r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`, list of operations. - **Output:** Hashes for query operations. - **Constraints:** $N, Q \le 2 \cdot 10^5$. - **Indexing:** 0-based.
============================================================

ID: HSH-010
Problem File: HSH-010-two-string-concat-equal.md
Editorial File: HSH-010-two-string-concat-equal.md
-------------------- PROBLEM DESCRIPTION --------------------
Given four strings `a`, `b`, `c`, `d`, determine if `a + b == c + d` (concatenation) without explicitly creating the concatenated strings, using polynomial hashing.  ![Problem Illustration](../images/HSH-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |a|, |b|, |c|, |d| <= 10^5` - Strings contain only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given four strings: `a`, `b`, `c`, and `d`. Determine if the concatenation `a + b` is equal to `c + d`. The catch is to do this efficiently without explicitly creating the large concatenated strings (though for $N=10^5$, explicit creation is feasible, the goal is to learn the hashing techniq...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Four strings `a`, `b`, `c`, `d`. - **Output:** Boolean `true` or `false`. - **Constraints:** Lengths up to $10^5$. - **Note:** Standard string concatenation in Java/Python/C++ takes linear time $O(|a|+|b|)$. This is acceptable here, but the hashing approach is $O(|a|+|b|)$ to compute ha...
============================================================

ID: HSH-011
Problem File: HSH-011-rolling-hash-collision.md
Editorial File: HSH-011-rolling-hash-collision.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a base `B`, modulus `M`, and length `L`, find two different strings of length `L` that produce the same polynomial hash value (a hash collision).  Return any pair of distinct strings that collide under the given hash parameters.  ![Problem Illustration](../images/HSH-011/problem-illustration.p...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= L <= 8` - `1 <= B <= 10^9` - `1 <= M <= 10^9 + 7` - Strings contain only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given hash parameters: Base `B`, Modulus `M`, and a target length `L`. Your task is to find **two distinct strings** of length `L` that have the same polynomial hash value. A collision occurs when $Hash(S_1) \equiv Hash(S_2) \pmod M$ but $S_1 \neq S_2$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $B, M, L$. - **Output:** Two distinct strings $S_1, S_2$. - **Constraints:** $L \le 8$. $M \le 10^9$. - **Strategy:** Since $L$ is small, we can iterate or randomize. Given $M$ can be up to $10^9$, storing $10^9$ integers is impossible (4GB RAM). But we only need $\sqrt{M}$ entries. A H...
============================================================

ID: HSH-012
Problem File: HSH-012-subarray-hash-equality.md
Editorial File: HSH-012-subarray-hash-equality.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an integer array and queries, treat the array as a "string" where each element is a character. Build a rolling hash to support equality checks between subarrays.  Each query asks: are subarrays `a[l1..r1]` and `a[l2..r2]` equal?  ![Problem Illustration](../images/HSH-012/problem-illustration.p...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2*10^5` - `1 <= q <= 2*10^5` - `-10^9 <= a[i] <= 10^9` - `0 <= l1 <= r1 < n` - `0 <= l2 <= r2 < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of integers `arr` and multiple queries. Each query consists of two ranges `[l1, r1]` and `[l2, r2]`. You need to determine if the subarray `arr[l1..r1]` is identical to `arr[l2..r2]`. This is essentially "Substring Equality" but for arrays of numbers instead of characters.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Array of size $N$, $Q$ queries. - **Output:** Boolean for each query. - **Constraints:** $N, Q \le 2 \cdot 10^5$. - **Values:** $-10^9 \dots 10^9$. - **Strategy:** Use double hashing to avoid collisions.
============================================================

ID: HSH-013
Problem File: HSH-013-2d-rolling-hash.md
Editorial File: HSH-013-2d-rolling-hash.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a matrix `A` (size `n × m`) and a smaller matrix `B` (size `p × q`), determine if `B` appears as a submatrix in `A` using 2D rolling hash.  ![Problem Illustration](../images/HSH-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= p <= n <= 1000` - `1 <= q <= m <= 1000` - `0 <= A[i][j], B[i][j] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a large matrix `A` ($N \times M$) and a smaller pattern matrix `B` ($P \times Q$). Determine if `B` exists as a submatrix within `A`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Matrix A ($N \times M$), Matrix B ($P \times Q$). - **Output:** Boolean. - **Constraints:** $N, M \le 1000$. Values up to $10^9$. - **Time Limit:** 2000ms. $O(NM)$ is required. Naive $O(NMPQ)$ is too slow ($10^{12}$ ops).
============================================================

ID: HSH-014
Problem File: HSH-014-longest-pal-prefix-after-append.md
Editorial File: HSH-014-longest-pal-prefix-after-append.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and a character `c`, append `c` to the end of `s` to create a new string. Find the length of the longest prefix of this new string that is also a palindrome.  ![Problem Illustration](../images/HSH-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 10^5` - String `s` and character `c` are lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s` and a character `c`. 1. Append `c` to `s` to form a new string `T = s + c`. 2. Find the length of the longest prefix of `T` that is a palindrome.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`, char `c`. - **Output:** Integer length. - **Constraints:** $|s| \le 10^5$. - **Note:** The new string has length $N+1$.
============================================================

ID: HSH-015
Problem File: HSH-015-count-pairs-equal-double-hash.md
Editorial File: HSH-015-count-pairs-equal-double-hash.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and length `L`, count the number of pairs of substrings of length `L` that have equal hash values under two different moduli (assume collisions are negligible with double hashing).  Return the count of such pairs.  ![Problem Illustration](../images/HSH-015/problem-illustration.png...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 10^5` - `1 <= L <= |s|` - String contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s` and a length `L`. Find the number of pairs of indices $(i, j)$ such that $i < j$ and the substring starting at $i$ with length $L$ is "equal" to the substring starting at $j$ with length $L$. Equality is determined by checking if their **Double Hashes** match.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s`, integer `L`. - **Output:** Long integer (count of pairs). - **Constraints:** $N \le 10^5$. - **Note:** The number of pairs can be up to $N(N-1)/2 \approx 5 \cdot 10^9$, so use 64-bit integer (`long` in Java/C++) for the result.
============================================================

ID: HSH-016
Problem File: HSH-016-hash-near-anagram-indexing.md
Editorial File: HSH-016-hash-near-anagram-indexing.md
-------------------- PROBLEM DESCRIPTION --------------------
Group words where two words belong to the same group if they become anagrams after deleting exactly one character from each (you can choose any character to delete).  Return the number of distinct groups formed.  ![Problem Illustration](../images/HSH-016/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` - `1 <= word length <= 30` - Words contain only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a list of words. Two words are considered "connected" if they can become anagrams of each other by removing exactly one character from each. Find the number of connected groups (connected components) of words.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** List of $N$ words. - **Output:** Number of groups. - **Constraints:** $N=10^5$, Length $L=30$. - **Anagram:** Two strings are anagrams if sorting them results in the same string. - **Strategy:** Sort the reduced forms to canonicalize them.
============================================================

Reviewing Topic: Heaps
============================================================
ID: HEP-001
Problem File: HEP-001-running-median-with-delete-threshold.md
Editorial File: HEP-001-running-median-with-delete-threshold.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain a multiset of integers under three operations:  - `ADD x`: insert `x` into the multiset - `DEL x`: remove one occurrence of `x` if it exists - `MEDIAN`: report the median (lower middle if size is even)  If the multiset is empty, output `EMPTY`. If the multiset size is less than a given thre...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= q <= 100000` - `-10^9 <= x <= 10^9` - `0 <= T <= 100000`
-------------------- EDITORIAL SUMMARY ----------------------
You need to maintain a multiset of integers supporting `ADD`, `DEL`, and `MEDIAN` operations. - `ADD x`: Insert `x`. - `DEL x`: Remove one instance of `x`. - `MEDIAN`: Return the median if the size is at least `T`. If empty, return `EMPTY`. If size < `T`, return `NA`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Operations list. - **Output:** Strings for `MEDIAN` queries. - **Constraints:** $Q \le 10^5$, Values up to $10^9$. - **Median Definition:** Lower middle. If sorted array is `[1, 2, 3, 4]`, median is `2`.
============================================================

ID: HEP-002
Problem File: HEP-002-merge-k-streams-rate-limit.md
Editorial File: HEP-002-merge-k-streams-rate-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `k` sorted streams. In each round, every stream can contribute at most `r` elements. After a stream has contributed `r` elements in the current round, it is blocked until the next round. Within a round, always output the smallest available element among the unblocked streams.  Return t...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 100000` - `0 <= total elements <= 200000` - `1 <= r <= 100000` - `-10^9 <= value <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `k` sorted streams of numbers. You need to merge them into a single sorted sequence, but with a twist: - In each "round", a stream can contribute at most `r` elements. - Once a stream hits this limit for the round, it's "blocked" until the next round. - Within a round, you always pick the s...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `k` streams, limit `r`. - **Output:** Merged list. - **Constraints:** Total elements $N \le 200,000$. $k \le 10^5$. - **Edge Case:** Some streams can be empty initially.
============================================================

ID: HEP-003
Problem File: HEP-003-top-k-frequent-decay.md
Editorial File: HEP-003-top-k-frequent-decay.md
-------------------- PROBLEM DESCRIPTION --------------------
You receive events with timestamps. Each event adds 1 to the count of a key. Every `d` seconds, counts decay by half. At query time `t`, the effective count for a key is:  ``` count * 0.5^(floor((t - last_update) / d)) ```  Return the top `k` keys by effective count at each query. Break ties by lexi...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= q <= 100000` - `1 <= d <= 10^9` - `1 <= k <= 100000` - `0 <= t <= 10^9` - `1 <= |key| <= 20` (lowercase letters)
-------------------- EDITORIAL SUMMARY ----------------------
You need to track the frequency of keys in a system where counts decay over time. - `ADD key t`: Increment count of `key` by 1 at time `t`. - `QUERY t`: Return the top `k` keys with the highest effective counts at time `t`. - **Decay Rule:** Every `d` seconds, the count halves.   - Formula: $Count_{...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Operations with timestamps. Timestamps are non-decreasing. - **Output:** List of keys. - **Constraints:** $Q \le 10^5$, $d \le 10^9$. - **Tie-breaking:** If counts are equal, use lexicographical order (smaller string first). - **Floating Point:** Use `double` for counts.
============================================================

ID: HEP-004
Problem File: HEP-004-rope-connect-maximize-priority.md
Editorial File: HEP-004-rope-connect-maximize-priority.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` ropes. Each rope has a strength and a priority class:  - Class 1: critical - Class 2: standard - Class 3: spare  You may repeatedly connect two ropes into one. The new strength is:  ``` strength = s1 + s2 - penalty ```  Penalty rules:  - 0 if both ropes are in the same class - 1 if...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= strength <= 10^9` - Priority class is 1, 2, or 3
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` ropes, each with a strength and a priority class (1, 2, or 3). You merge them until one remains. - Merge rule: `NewStrength = S1 + S2 - Penalty`. - Penalty: $|Class1 - Class2|$. - New Class: `min(Class1, Class2)`. - Goal: Maximize the final strength.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Arrays of strengths and priorities. - **Output:** Long integer. - **Constraints:** $N \le 10^5$, Strength $\le 10^9$. Sum exceeds $2^{31}-1$, use `long`.
============================================================

ID: HEP-005
Problem File: HEP-005-meeting-rooms-min-idle-setup.md
Editorial File: HEP-005-meeting-rooms-min-idle-setup.md
-------------------- PROBLEM DESCRIPTION --------------------
You must assign meetings to `k` rooms. Each meeting is a time interval `[start, end]`. After a meeting ends, the room requires `s` units of setup time before it can host the next meeting. If two meetings `i` and `j` are in the same room, then:  ``` end_i + s <= start_j ```  The slack between consecu...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= k <= n` - `0 <= s <= 10^6` - `0 <= start <= end <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `k` rooms and `n` meetings. Each meeting has a start and end time. After a meeting ends, a room needs `s` setup time. If a room finishes meeting $i$ at $end_i$, it is ready at $end_i + s$. If it takes meeting $j$ starting at $start_j$, the **slack** is $start_j - (end_i + s)$. Goal: Assign ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Meetings list, `k`, `s`. - **Output:** Total slack. - **Constraints:** $N \le 10^5$, $K \le N$. - **Guarantee:** A valid schedule exists (so we don't need to check if $K$ is sufficient, just optimize assignment).
============================================================

ID: HEP-006
Problem File: HEP-006-task-scheduler-energy.md
Editorial File: HEP-006-task-scheduler-energy.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `n` tasks. Task `i` has a duration `d_i` and an energy gain `g_i`. You start with energy `E`. You may execute tasks in any order, but you can only start a task if your current energy is at least its duration. After completing a task, your energy becomes:  ``` E = E - d_i + g_i ```  Each tas...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= E <= 10^9` - `1 <= d_i, g_i <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` tasks, each with a `duration` (cost) and a `gain` (reward). You start with energy `E`. To start a task, you need `E >= duration`. After finishing, `E = E - duration + gain`. Find the maximum number of tasks you can complete.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: HEP-007
Problem File: HEP-007-sliding-window-kth-smallest.md
Editorial File: HEP-007-sliding-window-kth-smallest.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `arr` of length `n`, a window size `w`, and an integer `k`, output the `k`-th smallest element in every contiguous window of size `w`.  ![Problem Illustration](../images/HEP-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= w <= n` - `1 <= k <= w` - `-10^9 <= arr[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have an array `arr` of size `n`. Consider a sliding window of size `w`. For each window position, find the `k`-th smallest element. Return the list of `k`-th smallest elements.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `n`, `w`, `k`, array `arr`. - **Output:** Array of size `n-w+1`. - **Constraints:** $N \le 2 \times 10^5$. $W \le N$. - **Values:** Integers, can be negative.
============================================================

ID: HEP-008
Problem File: HEP-008-huffman-merge-limit.md
Editorial File: HEP-008-huffman-merge-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` frequencies, build a Huffman-like tree where you may merge at most `m` nodes at a time (`2 <= m <= 5`). The cost of each merge is the sum of merged values, and that sum is pushed back into the pool. The total cost is the sum of all merge costs.  If `(n - 1) % (m - 1) != 0`, pad the list wi...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `2 <= m <= 5` - `0 <= frequency <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given `n` frequencies. You want to merge them into a single node using an `m`-ary tree structure. - In each step, you can merge up to `m` nodes. - The cost of a merge is the sum of the values of the nodes being merged. - The new node (sum) is added back to the pool. - Goal: Minimize the tota...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `n`, `m`, array `freq`. - **Output:** Total cost. - **Constraints:** $N \le 10^5$, $M \le 5$. Values up to $10^9$. Use `long`.
============================================================

ID: HEP-009
Problem File: HEP-009-dynamic-median-of-medians.md
Editorial File: HEP-009-dynamic-median-of-medians.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain multiple groups of numbers. Each group has its own median (lower middle if even). You must support the following operations:  - `NEW id m` followed by `m` integers: create a new group - `ADD id x`: insert `x` into group `id` - `MERGE id1 id2`: merge group `id2` into `id1` - `QUERY`: output ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= q <= 100000` - `1 <= id <= 100000` - Total elements across all groups `<= 100000` - `-10^9 <= value <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You need to manage multiple groups of numbers and support: 1. `NEW id m ...`: Create a group `id` with initial numbers. 2. `ADD id x`: Add `x` to group `id`. 3. `MERGE id1 id2`: Merge group `id2` into `id1`. 4. `QUERY`: Find the median of the medians of all non-empty groups.  The "median" of a group...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Operations. `id` are strings or ints? Example uses `1`, `2`. Assume strings or convert to int. - **Output:** Median or `EMPTY`. - **Constraints:** Total elements $10^5$. $Q \le 10^5$. - **Median Definition:** Lower median for even size.
============================================================

ID: HEP-010
Problem File: HEP-010-topk-products-index-gap.md
Editorial File: HEP-010-topk-products-index-gap.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given two arrays `A` and `B`, each sorted in non-increasing order. Find the `k` largest products `A[i] * B[j]` subject to the constraint:  ``` |i - j| >= d ```  Indices are 0-based. If fewer than `k` valid pairs exist, return all of them. Output products in descending order.  ![Problem Illus...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, m <= 100000` - `1 <= k <= min(100000, n * m)` - `0 <= d < max(n, m)` - `-10^9 <= A[i], B[j] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have two sorted arrays `A` and `B` (non-increasing). Find the top `k` products `A[i] * B[j]` such that `|i - j| >= d`. Return the products in descending order.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `n, m, k, d`, Arrays `A`, `B`. - **Output:** List of products. - **Constraints:** $N, M \le 10^5$. $K$ up to $10^5$. - **Values:** Can be negative? Yes. - **Negative Values:**   - If values are negative, "largest product" logic changes.   - `(-10) * (-10) = 100`.   - The problem says "A...
============================================================

ID: HEP-011
Problem File: HEP-011-k-closest-stream-weight.md
Editorial File: HEP-011-k-closest-stream-weight.md
-------------------- PROBLEM DESCRIPTION --------------------
You receive a stream of points. Each point `(x, y)` has a positive weight `w`. The weighted distance is:  ``` (x^2 + y^2) / w ```  Maintain the `k` points with the smallest weighted distance. Each `ADD` assigns an increasing id starting from 1. For each `QUERY`, output the ids of the current `k` clo...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= q <= 100000` - `1 <= k <= 100000` - `-10^6 <= x, y <= 10^6` - `1 <= w <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
You receive a stream of points `(x, y)` with weight `w`. Weighted distance $D = (x^2 + y^2) / w$. Maintain the `k` points with the smallest $D$. On `QUERY`, return IDs of these `k` points sorted by distance (asc). IDs are 1-based, assigned sequentially.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `ADD` and `QUERY`. - **Output:** IDs. - **Tie-Breaking:**   - For `QUERY` output: Ascending distance. If tie, smaller ID first.   - For Heap maintenance: If new distance == max distance in heap, do we replace?     - We want the `k` smallest.     - If tie, we prefer smaller ID?     - The...
============================================================

ID: HEP-012
Problem File: HEP-012-merge-intervals-max-payload.md
Editorial File: HEP-012-merge-intervals-max-payload.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` intervals, each with a payload value. When two intervals overlap, they should be merged into a single interval `[minStart, maxEnd]`. The merged payload is the maximum payload among all intervals in that merged group.  Return the merged intervals sorted by start time.  ![Problem Ill...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `-10^9 <= start <= end <= 10^9` - `0 <= payload <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` intervals `[start, end]` with a `payload`. Merge overlapping intervals into one. The new interval spans from the minimum start to the maximum end of the overlapping group. The new payload is the **maximum** payload of any interval in the group. Return the merged intervals sorted by star...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `n`, list of `[start, end, payload]`. - **Output:** Count `m`, list of merged intervals. - **Constraints:** $N \le 10^5$. Coordinates up to $10^9$. - **Overlap:** `[1, 2]` and `[2, 3]` overlap at 2. Merge them.
============================================================

ID: HEP-013
Problem File: HEP-013-project-selection-risk-budget.md
Editorial File: HEP-013-project-selection-risk-budget.md
-------------------- PROBLEM DESCRIPTION --------------------
You have `n` projects. Project `i` has cost `c_i`, profit `p_i`, and risk `r_i`. You start with capital `C` and risk budget `R`. You may select at most `k` projects. A project can be selected only if:  - `c_i <= current capital` - `current risk + r_i <= R`  When you select a project, your capital in...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= k <= n` - `0 <= C, R <= 10^12` - `1 <= c_i, p_i, r_i <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `n` projects, each with: - `cost`: Minimum capital required to start. - `profit`: Capital gained after completion. - `risk`: Risk incurred.  You start with initial capital `C` and risk budget `R`. You can select at most `k` projects. Constraints to select a project: 1. `current_capital >= c...
-------------------- EDITORIAL CONSTRAINTS ------------------
1. `current_capital >= cost` 2. `current_risk + risk <= R`  Goal: Maximize final capital. Note: Capital increases by `profit`. Risk increases by `risk`.
============================================================

ID: HEP-014
Problem File: HEP-014-scheduler-cooling-priority.md
Editorial File: HEP-014-scheduler-cooling-priority.md
-------------------- PROBLEM DESCRIPTION --------------------
You have task types with counts and priority weights. In each time slot, you may execute one task whose cooldown has expired. After executing a task of type `X`, you cannot execute `X` again for the next `k` time slots.  You are given a total time limit `T`. Maximize the total priority score of exec...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 26` - `0 <= k <= 100000` - `1 <= T <= 100000` - `1 <= count <= 100000` - `1 <= priority <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have `m` task types. Each has a `count` (available units) and a `priority` (score per unit). You have `T` time slots. In each slot, you can run one task or idle. Constraint: If you run task type `X` at time `t`, you cannot run `X` again until `t + k + 1`. Goal: Maximize total priority score with...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: HEP-015
Problem File: HEP-015-median-two-heaps-merge.md
Editorial File: HEP-015-median-two-heaps-merge.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given the contents of a max-heap and a min-heap (as arrays). Treat them as two multisets. Compute the median of all elements after merging both sets.  If the total number of elements is odd, the median is the middle element. If it is even, the median is the average of the two middle elements...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n, m <= 200000` - `-10^9 <= value <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given two arrays representing the contents of a Max-Heap and a Min-Heap. Merge all elements into a single collection. Find the median of the merged collection. - If total size is odd, return the middle element. - If total size is even, return the average of the two middle elements.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Two arrays. - **Output:** Float/Double. - **Constraints:** Values can be negative. - **Empty Input:** Handle $N=0, M=0$. (Though constraints say $N, M \ge 0$, usually at least 1 element total for median).
============================================================

ID: HEP-016
Problem File: HEP-016-priority-queue-decrease-key.md
Editorial File: HEP-016-priority-queue-decrease-key.md
-------------------- PROBLEM DESCRIPTION --------------------
Implement a priority queue that supports:  - `INSERT id value` - `DECREASE id delta` (decrease the key of `id` by `delta`) - `EXTRACT` (remove and output the minimum key)  If `EXTRACT` is called on an empty queue, output `EMPTY`. If multiple ids have the same key, return the lexicographically smalle...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= q <= 100000` - `1 <= value, delta <= 10^9` - `1 <= |id| <= 20` (alphanumeric)
-------------------- EDITORIAL SUMMARY ----------------------
Implement a Min-Priority Queue supporting: 1. `INSERT id value`: Add element. 2. `DECREASE id delta`: Reduce value of existing element by `delta`. 3. `EXTRACT`: Remove and return element with minimum value.    - Tie-breaker: Lexicographically smallest `id`.    - If empty, return `EMPTY`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `INSERT`, `DECREASE`, `EXTRACT`. - **Output:** `value id` or `EMPTY`. - **Tie-Breaking:** If values equal, smaller `id` string comes first. - **Constraints:** IDs are alphanumeric. Values fit in integer.
============================================================

Reviewing Topic: LinkedLists
============================================================
ID: LNK-001
Problem File: LNK-001-lab-roster-append.md
Editorial File: LNK-001-lab-roster-append.md
-------------------- PROBLEM DESCRIPTION --------------------
Implement a singly linked list that supports two operations:  - `push_back value`: append `value` to the end of the list - `to_array`: output all elements in order  For each `to_array` operation, print the current list contents.  ![Problem Illustration](../images/LNK-001/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You need to implement a basic singly linked list that supports two operations: appending a value to the end (`push_back`) and converting the current list to an array (`to_array`). The challenge is to perform the append operation efficiently, ideally in O(1) time, while maintaining the correct order ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Empty List:** If the list is empty, `to_array` should return an empty array (or print an empty line). - **First Element:** When appending to an empty list, both `head` and `tail` must point to the new node. - **Subsequent Elements:** When appending to a non-empty list, the current `tail.next` sh...
============================================================

ID: LNK-002
Problem File: LNK-002-campus-badge-search.md
Editorial File: LNK-002-campus-badge-search.md
-------------------- PROBLEM DESCRIPTION --------------------
Given the head of a singly linked list and a target value, return the 0-based index of the first occurrence of the target. If the target does not appear, return `-1`.  ![Problem Illustration](../images/LNK-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a singly linked list where each node contains an integer value. You need to find the 0-based index of the **first** occurrence of a specific `target` value. If the target is not found in the list, return `-1`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **0-based Indexing:** The head node is at index 0. - **First Occurrence:** If the target appears multiple times (like `5` in the example), return the index of the *first* one you encounter. - **Not Found:** If the traversal reaches `null` without finding the target, return `-1`.  Common interpreta...
============================================================

ID: LNK-003
Problem File: LNK-003-lab-swap-neighbors-skip-threshold.md
Editorial File: LNK-003-lab-swap-neighbors-skip-threshold.md
-------------------- PROBLEM DESCRIPTION --------------------
Swap nodes in pairs in a singly linked list with two constraints:  - If either node in a pair has a negative value, do not swap that pair - You can perform at most `K` swaps total; after `K` swaps are used, all remaining pairs stay as-is  Return the new head and the number of swaps actually performe...
-------------------- PROBLEM CONSTRAINTS --------------------
---
-------------------- EDITORIAL SUMMARY ----------------------
You need to swap adjacent nodes in a linked list (like `1->2` becoming `2->1`), but with two specific rules: 1. **Negative Skip:** If either node in a pair has a negative value, you cannot swap them. 2. **Swap Limit:** You can perform at most `K` swaps. Once you reach this limit, stop swapping.  Ret...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Pairs are Disjoint:** We look at (Node 1, Node 2), then (Node 3, Node 4). We do *not* look at (Node 2, Node 3). - **K Limit:** If `K=0`, no swaps happen. - **Negative Check:** If `Node 1` is `-5` and `Node 2` is `10`, we skip. If both are positive, we swap (if `K > 0`). - **Return Value:** You m...
============================================================

ID: LNK-004
Problem File: LNK-004-hostel-cleanup-deduplicate-two.md
Editorial File: LNK-004-hostel-cleanup-deduplicate-two.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a sorted singly linked list, remove extra duplicates so that each distinct value appears at most twice. Return the head of the modified list.  ![Problem Illustration](../images/LNK-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a **sorted** singly linked list. Your task is to remove duplicate nodes such that each distinct value appears **at most twice**. The relative order of the remaining nodes must be preserved.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Sorted Input:** The list is guaranteed to be sorted non-decreasingly. This is crucial because it means duplicates are adjacent. - **At Most Two:** If a value appears once, keep it. If twice, keep both. If 3+ times, keep first two. - **In-Place:** Ideally, you should modify the existing list poin...
============================================================

ID: LNK-005
Problem File: LNK-005-shuttle-route-alternating-reverse.md
Editorial File: LNK-005-shuttle-route-alternating-reverse.md
-------------------- PROBLEM DESCRIPTION --------------------
Starting at position `l` (1-indexed), reverse every other contiguous block of length `k` in the list. The pattern is:  - Reverse `k` nodes - Skip `k` nodes - Reverse `k` nodes - ...  If the final block has fewer than `k` nodes and it is a reverse turn, reverse that smaller block. Nodes before positi...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= l <= n <= 100000` - `1 <= k <= 100000` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list representing a sequence of stops. Starting from a specific position `l` (1-indexed), you need to modify the list by reversing every other block of `k` nodes.  The pattern is: 1. **Reverse** the next `k` nodes. 2. **Skip** the next `k` nodes. 3. Repeat.  If the last block ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **1-based Indexing:** The `l` parameter is 1-based. If `l=1`, start processing from the head. - **Partial Blocks:** If you have 3 nodes left and `k=5`, and it's a "reverse" turn, you reverse all 3. - **Skip Logic:** If you have 3 nodes left and `k=5`, and it's a "skip" turn, you just skip them (do...
============================================================

ID: LNK-006
Problem File: LNK-006-lab-loop-detector-entry-length.md
Editorial File: LNK-006-lab-loop-detector-entry-length.md
-------------------- PROBLEM DESCRIPTION --------------------
Detect whether a singly linked list has a cycle. If a cycle exists, return:  - `entry_index`: 0-based index of the cycle entry node - `cycle_length`: number of nodes in the cycle - `max_value_in_cycle`: maximum node value within the cycle  If no cycle exists, return `-1 0 0`.  ![Problem Illustration...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integer - `-1 <= pos < n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list that might contain a cycle. If a cycle exists, you need to determine: 1. The **index** where the cycle begins (0-based). 2. The **length** of the cycle (number of nodes in the loop). 3. The **maximum value** among all nodes in the cycle.  If no cycle exists, return `{-1, ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **0-based Indexing:** The head is at index 0. - **No Cycle:** Return `-1 0 0`. - **Max Value:** Only consider nodes *inside* the cycle, not the "tail" leading up to it.  Common interpretation mistake:  - ❌ **Wrong:** Assuming the meeting point is the start of the cycle. - ✅ **Correct:** The meetin...
============================================================

ID: LNK-007
Problem File: LNK-007-seminar-weighted-middle.md
Editorial File: LNK-007-seminar-weighted-middle.md
-------------------- PROBLEM DESCRIPTION --------------------
Each node contains a positive weight. Return the node value where the cumulative weight from the head first reaches at least half of the total weight (weighted median node).  If the total weight is odd, use the ceiling of half (i.e., `(total + 1) / 2`).  ![Problem Illustration](../images/LNK-007/pro...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= weight <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list where each node has a positive weight. You need to find the "weighted middle" node. This is defined as the first node where the sum of weights from the head up to that node is at least half of the total weight of the entire list.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Positive Weights:** All weights are $\ge 1$. - **Target Calculation:** If total is odd (e.g., 9), half is 4.5. The problem says use `(total + 1) / 2`, which gives 5. This is the standard integer ceiling for "at least half". - **Return Value:** Return the **value** of the node, not the index or t...
============================================================

ID: LNK-008
Problem File: LNK-008-lab-playlist-merge-parity.md
Editorial File: LNK-008-lab-playlist-merge-parity.md
-------------------- PROBLEM DESCRIPTION --------------------
Merge two sorted linked lists into one list. In the output, all even-valued nodes must appear before all odd-valued nodes, while preserving the relative order among evens and among odds.  ![Problem Illustration](../images/LNK-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n, m <= 100000` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given two sorted linked lists. You need to merge them into a single list such that: 1. All **even** numbers come before all **odd** numbers. 2. The relative order of even numbers is preserved (stable). 3. The relative order of odd numbers is preserved (stable). 4. You process the first list,...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Order of Processing:** The example suggests we process List 1 then List 2. It does *not* imply a sorted merge of values (e.g. 1 vs 2). It implies "Stable concatenation of filtered views". - **Empty Lists:** Handle cases where one or both lists are empty. - **All Evens/Odds:** Handle cases where ...
============================================================

ID: LNK-009
Problem File: LNK-009-robotics-chunk-reverse-offset-count.md
Editorial File: LNK-009-robotics-chunk-reverse-offset-count.md
-------------------- PROBLEM DESCRIPTION --------------------
Reverse nodes in groups of size `k`, but start grouping at position `s` (1-indexed). Nodes before position `s` remain unchanged. From `s` onward, reverse each full group of size `k`; any leftover tail with fewer than `k` nodes stays as-is.  Return three outputs:  - The new head of the list - `revers...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - `1 <= k <= max(1, n)` - `1 <= s <= max(1, n)` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list. Starting from a 1-based index `s`, you need to reverse nodes in groups of size `k`. - Nodes before `s` are untouched. - From `s`, reverse every full group of `k`. - If a group has fewer than `k` nodes (at the end), leave it as is. - Return the modified list, the count of...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **1-based Indexing:** `s=1` means start at the head. - **Full Groups Only:** Unlike some variations where the tail is reversed, here the problem says "reverse each full group... leftover tail... stays as-is". - **Sum Calculation:** Sum the values of nodes *inside* the reversed groups. Do not inclu...
============================================================

ID: LNK-010
Problem File: LNK-010-shuttle-id-stable-partition.md
Editorial File: LNK-010-shuttle-id-stable-partition.md
-------------------- PROBLEM DESCRIPTION --------------------
Stable-partition the list so that nodes with value less than `x` come first, then nodes equal to `x`, then nodes greater than `x`. Preserve the original relative order within each group.  ![Problem Illustration](../images/LNK-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list and a pivot value `x`. You need to reorder the list so that: 1. All nodes with values **less than** `x` come first. 2. All nodes with values **equal to** `x` come next. 3. All nodes with values **greater than** `x` come last. 4. The relative order of nodes within each gro...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Pivot Existence:** The value `x` might not exist in the list. The logic still holds (empty `Equal` list). - **Stability:** If the input has two `5`s, the first `5` must appear before the second `5` in the output. - **Memory:** Do not create new nodes. Re-link existing ones.  Common interpretatio...
============================================================

ID: LNK-011
Problem File: LNK-011-exam-seating-intersection-sum.md
Editorial File: LNK-011-exam-seating-intersection-sum.md
-------------------- PROBLEM DESCRIPTION --------------------
Two singly linked lists may intersect (share nodes). Return the sum of values in the shared suffix. If there is no intersection, return `0`.  ![Problem Illustration](../images/LNK-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n, m <= 100000` - Node values fit in 32-bit signed integer - `-1 <= ia < n`, `-1 <= ib < m`
-------------------- EDITORIAL SUMMARY ----------------------
You are given two singly linked lists, List A and List B. They might intersect at some node and share all subsequent nodes (forming a 'Y' shape). Your task is to: 1. Determine if they intersect. 2. If they do, calculate the sum of values of all nodes in the shared suffix (starting from the intersect...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Reference Equality:** Intersection is defined by reference (memory address), not value. Two nodes with value `3` are distinct unless they are literally the same object. - **No Intersection:** If the lists never merge, return 0. - **Suffix Sum:** Include the intersection node itself in the sum.  ...
============================================================

ID: LNK-012
Problem File: LNK-012-hostel-number-remove-mth.md
Editorial File: LNK-012-hostel-number-remove-mth.md
-------------------- PROBLEM DESCRIPTION --------------------
Remove the M-th node from the start of a singly linked list (1-indexed). If `M` is larger than the list length, return the original list.  ![Problem Illustration](../images/LNK-012/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= M <= 100000` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list representing a sequence of items. You need to remove the **M-th** node from the beginning (1-based index). - If `M=1`, remove the head. - If `M` is greater than the list length, do nothing. - Return the head of the modified list.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **1-based Indexing:** `M=1` means the first node. - **Out of Bounds:** If `M > length`, return original list. - **Edge Case:** `M=1` requires updating the head.  Common interpretation mistake:  - ❌ **Wrong:** Confusing "M-th from start" with "M-th from end" (a common LeetCode problem). - ✅ **Corre...
============================================================

ID: LNK-013
Problem File: LNK-013-shuttle-ticket-rotate-blocks.md
Editorial File: LNK-013-shuttle-ticket-rotate-blocks.md
-------------------- PROBLEM DESCRIPTION --------------------
Rotate the list to the right by `k` places, but only within each block of size `b`. The list is partitioned into consecutive blocks of length `b` (the final block may be shorter). Rotate each block independently by `k % blockSize`, then concatenate the blocks in order.  ![Problem Illustration](../im...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - `1 <= b <= max(1, n)` - `0 <= k <= 10^9` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list. You need to divide it into consecutive blocks of size `b`. For each block, rotate its nodes to the right by `k` positions. - If the last block has fewer than `b` nodes, rotate it by `k` relative to its actual size. - Concatenate the rotated blocks to form the final list.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Independent Rotations:** Rotating block 1 does not affect block 2. - **Last Block:** If `N=5, b=3`, the second block has size 2. Rotate it by `k % 2`. - **Large K:** `k` can be very large, so always use modulo arithmetic.  Common interpretation mistake:  - ❌ **Wrong:** Rotating the entire list f...
============================================================

ID: LNK-014
Problem File: LNK-014-robotics-palindrome-one-skip.md
Editorial File: LNK-014-robotics-palindrome-one-skip.md
-------------------- PROBLEM DESCRIPTION --------------------
Determine whether a singly linked list can become a palindrome after deleting at most one node. Deleting zero nodes is allowed.  ![Problem Illustration](../images/LNK-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list. Determine if it can become a palindrome by removing **at most one** node. - If it's already a palindrome, return `true`. - If removing one node makes it a palindrome, return `true`. - Otherwise, return `false`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **At Most One:** 0 deletions is fine. - **Empty List:** Is a palindrome. - **Single Node:** Is a palindrome.  Common interpretation mistake:  - ❌ **Wrong:** Trying to modify the linked list in-place and restore it. - ✅ **Correct:** Converting to an ArrayList/Vector is O(N) space but makes the logi...
============================================================

ID: LNK-015
Problem File: LNK-015-workshop-odd-even-grouping-stable.md
Editorial File: LNK-015-workshop-odd-even-grouping-stable.md
-------------------- PROBLEM DESCRIPTION --------------------
Reorder the list so that nodes with odd values appear first, followed by nodes with even values, preserving the original order within each group.  ![Problem Illustration](../images/LNK-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a linked list. You need to reorder it such that: 1. All nodes with **odd values** appear first. 2. All nodes with **even values** appear second. 3. The relative order of nodes within the odd group and within the even group must remain unchanged (stable).
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Parity of Value:** We are checking `val % 2`, NOT the index (odd/even positions). - **Stability:** Order must be preserved. - **Empty Groups:** If there are no odd numbers, the list starts with evens.  Common interpretation mistake:  - ❌ **Wrong:** Odd/Even *indices* (LeetCode "Odd Even Linked L...
============================================================

ID: LNK-016
Problem File: LNK-016-lecture-notes-subtract-forward-freq.md
Editorial File: LNK-016-lecture-notes-subtract-forward-freq.md
-------------------- PROBLEM DESCRIPTION --------------------
Two linked lists represent non-negative integers in forward order (most significant digit first). Subtract the smaller number from the larger number, and return:  - `sign`: 1 if the result is positive, 0 if the result is zero - The resulting number as a linked list in forward order - An array of len...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, m <= 100000` - Digits are in [0, 9] - No leading zeros except the number zero itself
-------------------- EDITORIAL SUMMARY ----------------------
You are given two non-negative integers represented as linked lists in **forward order** (most significant digit first). You need to: 1. Subtract the smaller number from the larger number. 2. Determine the sign of the result (1 if positive, 0 if zero). 3. Return the result as a linked list (forward ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Forward Order:** You cannot subtract easily from head to tail. You need to process from tail to head. - **Comparison:** You must first determine which number is larger to ensure `Larger - Smaller`. - **Leading Zeros:** If the result is `007`, return `7`. If result is `0`, return `0` (list with o...
============================================================

Reviewing Topic: MathAdvanced
============================================================
ID: MTH-001
Problem File: MTH-001-polynomial-multiplication-fft.md
Editorial File: MTH-001-polynomial-multiplication-fft.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two polynomials A(x) and B(x) represented as arrays of their coefficients, compute their product polynomial C(x) = A(x) × B(x) using the Fast Fourier Transform (FFT) algorithm. Return the coefficients of the resulting polynomial modulo 1,000,000,007.  A polynomial is represented as an array wh...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, m <= 100000` - `0 <= A[i], B[i] <= 1000000006` - The degree of the resulting polynomial will be at most `n + m - 2` - All coefficients must be output modulo `10^9 + 7`
-------------------- EDITORIAL SUMMARY ----------------------
You are given two polynomials, $A(x)$ and $B(x)$, represented by their coefficients. You need to compute their product $C(x) = A(x) \times B(x)$ and return the coefficients of $C(x)$ modulo $1,000,000,007$. - Input: Two arrays of coefficients. - Output: One array of coefficients representing the pro...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Coefficients:** Input is given from lowest degree ($x^0$) to highest ($x^{n-1}$). - **Modulo:** The problem asks for the result modulo $10^9 + 7$. Since standard FFT uses complex numbers which have precision issues, we typically use **Number Theoretic Transform (NTT)** for modular arithmetic. - ...
============================================================

ID: MTH-002
Problem File: MTH-002-convolution-ntt.md
Editorial File: MTH-002-convolution-ntt.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two sequences A and B, compute their convolution using the Number Theoretic Transform (NTT) modulo a prime number 998244353. The convolution C of two sequences is defined as:  C[k] = Σ(i=0 to k) A[i] × B[k-i]  You must pad the sequences to the next power of 2 for efficient NTT computation.  ![...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, m <= 100000` - `0 <= A[i], B[i] <= 998244352` - The output length will be `n + m - 1` - All operations must be performed modulo 998244353 (a prime suitable for NTT)
-------------------- EDITORIAL SUMMARY ----------------------
You are given two sequences $A$ and $B$. You need to compute their **convolution** $C$ modulo $998244353$. - $C[k] = \sum_{i=0}^k A[i] \times B[k-i]$ - This is equivalent to multiplying two polynomials $A(x)$ and $B(x)$ and returning the coefficients of the product.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Modulus:** $998244353$ is a special prime. It equals $119 \times 2^{23} + 1$. This means $P-1$ is divisible by a large power of 2 ($2^{23}$), allowing us to use NTT for arrays up to size $2^{23} \approx 8 \times 10^6$. - **Primitive Root:** For this prime, $g=3$ is a primitive root. This plays t...
============================================================

ID: MTH-003
Problem File: MTH-003-inverse-polynomial.md
Editorial File: MTH-003-inverse-polynomial.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a polynomial P(x) with P[0] ≠ 0 modulo a prime number, compute the inverse polynomial Q(x) such that P(x) × Q(x) ≡ 1 (mod x^n) under the given modulus.  The inverse polynomial Q(x) satisfies the property that when multiplied with P(x) and taken modulo x^n, the result is 1.  Use Newton iteratio...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 100000` - `1 <= n <= 100000` - `P[0] ≠ 0 (mod MOD)` - `MOD` is a prime number (typically 998244353) - `0 <= P[i] < MOD`
-------------------- EDITORIAL SUMMARY ----------------------
Given a polynomial $P(x)$, find another polynomial $Q(x)$ such that $P(x) \cdot Q(x) \equiv 1 \pmod{x^n}$. - The coefficients are in a finite field modulo a prime $MOD$. - $P[0]$ is non-zero (guaranteeing an inverse exists). - Output the first $n$ coefficients of $Q(x)$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Modulus:** The problem typically uses $998244353$, which supports NTT. - **Degree:** If input $P$ has degree $K$, and we need inverse mod $x^N$, we only care about the first $N$ terms of $P$. - **Output:** Exactly $N$ coefficients.
============================================================

ID: MTH-004
Problem File: MTH-004-multipoint-evaluation.md
Editorial File: MTH-004-multipoint-evaluation.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a polynomial P(x) and a set of points x_i, compute P(x_i) for all points using divide-and-conquer with product tree and remainder tree.  ![Problem Illustration](../images/MTH-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= d <= 100000` - `1 <= n <= 100000` - `-10^9 <= coefficients, x_i <= 10^9` - All outputs modulo 10^9 + 7
-------------------- EDITORIAL SUMMARY ----------------------
You are given a polynomial $P(x)$ of degree $d$ and a set of $n$ points $x_1, x_2, \dots, x_n$. You need to compute $P(x_i)$ for all $i$. - Naive evaluation takes $O(n \cdot d)$. - The goal is to do this faster, specifically $O(n \log^2 n)$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Modulus:** $10^9+7$. This is NOT NTT-friendly. - **Strategy:** Since the problem is "Hard" and constraints are $10^5$, standard $O(N \log^2 N)$ usually assumes NTT. With $10^9+7$, we strictly need **3-modulus NTT + CRT** or **Split FFT**. - **However:** For the sake of a clean editorial, we will...
============================================================

ID: MTH-005
Problem File: MTH-005-lagrange-interpolation-mod.md
Editorial File: MTH-005-lagrange-interpolation-mod.md
-------------------- PROBLEM DESCRIPTION --------------------
Given k points (x_i, y_i) with distinct x_i values, find the value of the unique interpolating polynomial of degree at most k-1 at a query point X, all modulo a prime.  ![Problem Illustration](../images/MTH-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 200000` - `0 <= x_i, y_i, X < MOD` - All x_i are distinct - MOD is prime (typically 10^9 + 7)
-------------------- EDITORIAL SUMMARY ----------------------
Given $k$ points $(x_i, y_i)$ where all $x_i$ are distinct, find the value of the unique polynomial $P(x)$ of degree at most $k-1$ evaluated at a query point $X$. All calculations are modulo a prime $MOD$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Distinct x:** The denominator in Lagrange formula is never zero. - **Modulus:** All operations (add, sub, mul, div) are modulo $MOD$. Division means multiplying by modular inverse. - **Constraints:** $k \le 200,000$. An $O(k^2)$ solution will TLE. We need $O(k)$ or $O(k \log k)$. - **Special Cas...
============================================================

ID: MTH-006
Problem File: MTH-006-determinant-gaussian.md
Editorial File: MTH-006-determinant-gaussian.md
-------------------- PROBLEM DESCRIPTION --------------------
Compute the determinant of an n × n matrix modulo a prime using Gaussian elimination with partial pivoting. Track row swaps to maintain correct sign.  ![Problem Illustration](../images/MTH-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 1000` - `0 <= matrix[i][j] < MOD` - MOD is prime (typically 10^9 + 7)
-------------------- EDITORIAL SUMMARY ----------------------
Given an $n \times n$ matrix, compute its determinant modulo a prime $MOD$. - The determinant is a scalar value that describes properties of the matrix (e.g., invertibility). - Naive calculation using cofactor expansion is $O(n!)$. - We need an efficient $O(n^3)$ approach.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Modulo:** All arithmetic is modulo $MOD$. - **Division:** "Dividing" row $i$ by $A[i][i]$ means multiplying by modular inverse. - **Zero Pivot:** If $A[i][i]$ is 0, swap with a lower row $k$ where $A[k][i] \neq 0$. If no such row exists, determinant is 0. - **Sign:** Keep track of row swaps. If ...
============================================================

ID: MTH-007
Problem File: MTH-007-matrix-exp-linear-recurrence.md
Editorial File: MTH-007-matrix-exp-linear-recurrence.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a linear recurrence relation of order k with coefficients and initial terms, compute the nth term modulo a prime using matrix exponentiation.  ![Problem Illustration](../images/MTH-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 50` - `0 <= n <= 10^18` - `0 <= c_i, a_i < MOD` - MOD is prime (typically 10^9 + 7)
-------------------- EDITORIAL SUMMARY ----------------------
Given a linear recurrence relation $a_n = c_0 a_{n-1} + c_1 a_{n-2} + \dots + c_{k-1} a_{n-k}$ and initial terms $a_0, \dots, a_{k-1}$, find the $n$-th term modulo $MOD$. - $n$ can be up to $10^{18}$. - $k$ is small ($\le 50$).
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Coefficients:** The problem gives $c_0, \dots, c_{k-1}$ corresponding to $a_{n-1}, \dots, a_{n-k}$. - **Base Cases:** If $n < k$, just return $a_n$ directly. - **Matrix Size:** $k \times k$. - **Complexity:** Matrix multiplication is $O(k^3)$. Exponentiation is $O(\log n)$. Total $O(k^3 \log n)$...
============================================================

ID: MTH-008
Problem File: MTH-008-fwht-xor-convolution.md
Editorial File: MTH-008-fwht-xor-convolution.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two arrays A and B of length 2^k, compute their XOR convolution using the Fast Walsh-Hadamard Transform (FWHT). The XOR convolution C is defined as: C[i⊕j] += A[i] × B[j].  ![Problem Illustration](../images/MTH-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= k <= 17` - `0 <= A[i], B[i] <= 10^9` - Array length is power of 2 - Output modulo 10^9 + 7
-------------------- EDITORIAL SUMMARY ----------------------
Given two arrays $A$ and $B$ of size $2^k$, compute their **XOR convolution** $C$. - $C[k] = \sum_{i \oplus j = k} A[i] \times B[j]$. - Output the result modulo $10^9+7$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input Size:** $N = 2^k$. - **Modulo:** $10^9+7$. Note that in the inverse transform, we divide by $N$. Division means multiplication by modular inverse. - **Negative Numbers:** $u-v$ can be negative. Always add $MOD$ before taking modulo.
============================================================

ID: MTH-009
Problem File: MTH-009-subset-convolution-and-or.md
Editorial File: MTH-009-subset-convolution-and-or.md
-------------------- PROBLEM DESCRIPTION --------------------
Perform subset convolution under bitwise AND or OR operations using zeta and Möbius transforms on the subset lattice.  ![Problem Illustration](../images/MTH-009/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 20` - `0 <= A[i], B[i] <= 10^9` - op = 0 (AND) or 1 (OR) - Output modulo 10^9 + 7
-------------------- EDITORIAL SUMMARY ----------------------
Given two arrays $A$ and $B$ of size $2^n$, compute their **Subset Convolution**. - **OR Convolution:** $C[k] = \sum_{i | j = k} A[i] \times B[j]$. - **AND Convolution:** $C[k] = \sum_{i \& j = k} A[i] \times B[j]$. - **Disjoint Subset Convolution:** $C[k] = \sum_{i | j = k, i \& j = 0} A[i] \times ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $n$ (bits), $op$ (0 for AND, 1 for OR). - **OR Convolution:** Use SOS DP (Zeta Transform). - **AND Convolution:** Use SOS DP on inverted bits (or super-set sum). - **Modulo:** $10^9+7$.
============================================================

ID: MTH-010
Problem File: MTH-010-berlekamp-massey.md
Editorial File: MTH-010-berlekamp-massey.md
-------------------- PROBLEM DESCRIPTION --------------------
Given the first 2k terms of a linearly recurrent sequence, use the Berlekamp-Massey algorithm to find the minimal recurrence relation and compute the nth term.  ![Problem Illustration](../images/MTH-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 4000` - `0 <= n <= 10^18` - `0 <= sequence[i] < MOD` - MOD is prime
-------------------- EDITORIAL SUMMARY ----------------------
Given the first $m$ terms of a sequence, find the **shortest linear recurrence** that generates it. Then, use this recurrence to find the $n$-th term. - Input: $S_0, S_1, \dots, S_{m-1}$. - Output: $S_n \pmod{MOD}$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Sequence $S$ of length $m$. Target index $n$. - **Output:** $S_n$. - **Constraint:** $m \le 4000$. This allows $O(m^2)$ for finding the recurrence. - **Large N:** Once we have the recurrence of length $L$, we can compute $S_n$ in $O(L^2 \log n)$ or $O(L \log L \log n)$ using Kitamasa me...
============================================================

ID: MTH-011
Problem File: MTH-011-minimal-polynomial-matrix.md
Editorial File: MTH-011-minimal-polynomial-matrix.md
-------------------- PROBLEM DESCRIPTION --------------------
Compute the minimal polynomial of an n × n matrix using the Krylov sequence method combined with Berlekamp-Massey algorithm on the generated vector sequence.  ![Problem Illustration](../images/MTH-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200` - `0 <= matrix[i][j] < MOD` - MOD is prime (typically 10^9 + 7)
-------------------- EDITORIAL SUMMARY ----------------------
Given an $n \times n$ matrix $A$, find its **minimal polynomial** $\mu_A(x)$. - $\mu_A(x)$ is the monic polynomial of lowest degree such that $\mu_A(A) = 0$ (the zero matrix). - It divides the characteristic polynomial $\chi_A(x) = \det(xI - A)$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Random Vector:** A single random vector usually works if the field is large enough. - **Output:** Coefficients of the polynomial. - **Degree:** Can be up to $n$. - **Constraint:** $n \le 200$. $O(n^3)$ is acceptable ($8 \times 10^6$).
============================================================

ID: MTH-012
Problem File: MTH-012-convolution-multi-mod-crt.md
Editorial File: MTH-012-convolution-multi-mod-crt.md
-------------------- PROBLEM DESCRIPTION --------------------
Compute convolution of two arrays when the final modulus is not NTT-friendly. Use Chinese Remainder Theorem (CRT) to combine results from multiple NTT-friendly primes.  ![Problem Illustration](../images/MTH-012/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, m <= 100000` - `0 <= A[i], B[i] <= 10^9` - `1 <= MOD <= 10^9 + 9` - MOD may not support NTT
-------------------- EDITORIAL SUMMARY ----------------------
Compute the convolution of two large arrays $A$ and $B$ modulo an arbitrary integer $M$ (which may not be prime or NTT-friendly). - Standard NTT only works for specific primes like $998244353$. - FFT uses floating point numbers, which can lose precision for large results. - The solution is to comput...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Primes:** Use $P_1 = 998244353$, $P_2 = 1004535809$, $P_3 = 469762049$. All are of form $c \cdot 2^k + 1$ with $2^{20} | (P-1)$, supporting NTT size up to $10^6$. - **Max Value:** If $N=10^5$ and values are $10^9$, max convolution value is $10^5 \times 10^9 \times 10^9 = 10^{23}$. - **Product of...
============================================================

ID: MTH-013
Problem File: MTH-013-invert-vandermonde.md
Editorial File: MTH-013-invert-vandermonde.md
-------------------- PROBLEM DESCRIPTION --------------------
Given n distinct values x_i, efficiently compute the inverse of the n × n Vandermonde matrix V where V[i][j] = x_i^j. Use this to solve polynomial interpolation problems.  ![Problem Illustration](../images/MTH-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2000` - `0 <= x_i < MOD` - All x_i are distinct - MOD is prime
-------------------- EDITORIAL SUMMARY ----------------------
Given $n$ distinct points $x_0, \dots, x_{n-1}$, compute the inverse of the Vandermonde matrix $V$ where $V_{ij} = x_i^j$. - Standard matrix inversion is $O(n^3)$. - We need a faster approach, ideally $O(n^2)$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $n$ distinct values $x_i$. - **Output:** The $n \times n$ inverse matrix. - **Modulo:** $10^9+7$. - **Constraints:** $n \le 2000$. $O(n^2)$ is required.
============================================================

ID: MTH-014
Problem File: MTH-014-largest-eigenvalue-power.md
Editorial File: MTH-014-largest-eigenvalue-power.md
-------------------- PROBLEM DESCRIPTION --------------------
Approximate the largest eigenvalue (by absolute value) of a real matrix using the power iteration method. Continue until convergence within a specified tolerance.  ![Problem Illustration](../images/MTH-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 500` - `1 <= maxIter <= 10000` - `10^-10 <= epsilon <= 10^-3` - Matrix entries in range [-1000, 1000]
-------------------- EDITORIAL SUMMARY ----------------------
Find the **largest eigenvalue** (by absolute value) of a square matrix $A$ using the **Power Iteration** method. - Start with a random vector $v$. - Repeatedly apply $v_{new} = A v_{old}$. - Normalize $v$ at each step to prevent overflow. - The Rayleigh Quotient $\frac{v^T A v}{v^T v}$ converges to ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Matrix $A$, max iterations, tolerance $\epsilon$. - **Output:** A single float. - **Normalization:** Divide vector by its norm (Euclidean or Max-norm) at each step. Max-norm ($L_\infty$) is cheaper and sufficient. - **Convergence Check:** If $|\lambda_{new} - \lambda_{old}| < \epsilon$,...
============================================================

Reviewing Topic: NumberTheory
============================================================
ID: NUM-001
Problem File: NUM-001-classroom-gcd-prefix-queries.md
Editorial File: NUM-001-classroom-gcd-prefix-queries.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array `a`. For each query `r`, return the greatest common divisor of the prefix `a[0..r]` (inclusive). Preprocess once to answer all queries efficiently.  ![Problem Illustration](../images/NUM-001/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= q <= 200000` - `-10^9 <= a[i] <= 10^9` - `0 <= r < n`
-------------------- EDITORIAL SUMMARY ----------------------
Given an array of numbers, efficiently answer multiple queries asking for the Greatest Common Divisor (GCD) of the prefix ending at index $r$. - Input: Array $A$, multiple queries $r$. - Output: $\text{GCD}(A[0], A[1], \dots, A[r])$ for each query.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $N, Q \le 200,000$. This means an $O(N \cdot Q)$ solution will time out. We need $O(N)$ precomputation and $O(1)$ per query. - **Values:** Integers can be negative. GCD is always positive. $\text{gcd}(a, b) = \text{gcd}(|a|, |b|)$. - **Zero:** $\text{gcd}(x, 0) = |x|$. $\text{gcd}...
============================================================

ID: NUM-002
Problem File: NUM-002-coprime-pair-count.md
Editorial File: NUM-002-coprime-pair-count.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an integer `N`, count the number of ordered pairs `(i, j)` such that `1 <= i < j <= N` and `gcd(i, j) = 1`.  ![Problem Illustration](../images/NUM-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N <= 100000`
-------------------- EDITORIAL SUMMARY ----------------------
Count the number of pairs $(i, j)$ such that $1 \le i < j \le N$ and $\text{gcd}(i, j) = 1$. - Input: Integer $N$. - Output: Total count of such pairs.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $N \le 100,000$. An $O(N^2)$ solution (checking every pair) will time out ($10^{10}$ ops). We need something close to $O(N)$. - **Pairs:** Ordered pairs $(i, j)$ with $i < j$. This means for a fixed $j$, we want to count $i < j$ such that $\text{gcd}(i, j) = 1$. - **Definition:** ...
============================================================

ID: NUM-003
Problem File: NUM-003-modular-inverse-existence.md
Editorial File: NUM-003-modular-inverse-existence.md
-------------------- PROBLEM DESCRIPTION --------------------
For each query `(a, m)`, determine whether `a` has a modular inverse modulo `m`. An inverse exists if and only if `gcd(a, m) = 1`.  ![Problem Illustration](../images/NUM-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= q <= 100000` - `1 <= a, m <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given pairs $(a, m)$, determine if $a$ has a modular multiplicative inverse modulo $m$. - Input: Multiple queries $(a, m)$. - Output: `true` if inverse exists, `false` otherwise. - Condition: Inverse exists $\iff \text{gcd}(a, m) = 1$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $Q \le 100,000$, $a, m \le 10^9$. - **Efficiency:** We need an algorithm faster than $O(m)$. The Euclidean algorithm is $O(\log(\min(a, m)))$, which is extremely fast. - **Output:** Boolean string "true" or "false".
============================================================

ID: NUM-004
Problem File: NUM-004-minimal-base-representation.md
Editorial File: NUM-004-minimal-base-representation.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an integer `x` (>= 2), find the smallest base `b` (2 <= b <= 36) such that the sum of digits of `x` in base `b` is minimized. If multiple bases yield the same minimal digit sum, choose the smallest base. Output `b` and the minimal digit sum.  ![Problem Illustration](../images/NUM-004/problem-i...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= x <= 10^12` - `2 <= b <= 36`
-------------------- EDITORIAL SUMMARY ----------------------
Given an integer $x$, find the base $b$ ($2 \le b \le 36$) that minimizes the sum of digits of $x$ in that base. - Input: Integer $x$. - Output: The optimal base $b$ and the minimal digit sum. - Tie-breaking: If multiple bases yield the same sum, choose the smallest base.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $x \le 10^{12}$. - **Base Range:** $2 \le b \le 36$. - **Digit Sum:** Sum of values of digits. E.g., in base 16, 'A' counts as 10.
============================================================

ID: NUM-005
Problem File: NUM-005-factorials-missing-primes.md
Editorial File: NUM-005-factorials-missing-primes.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` and a prime `p`, compute:  ``` product of all integers in [1..n] that are NOT divisible by p, modulo p ```  Return the result modulo `p`.  ![Problem Illustration](../images/NUM-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^12` - `2 <= p <= 10^6` and `p` is prime
-------------------- EDITORIAL SUMMARY ----------------------
Compute the product of all integers in $[1, n]$ that are **not divisible** by a given prime $p$, modulo $p$. - Input: Large integer $n$, small prime $p$. - Output: The product modulo $p$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $n \le 10^{12}$, $p \le 10^6$. - **Recursion:** The problem asks for product of numbers **not divisible by p**. This is NOT the same as $n! / p^k$. - **Wait:** The problem asks for product of integers in $[1, n]$ not divisible by $p$.   - This is exactly the first step of Lucas Th...
============================================================

ID: NUM-006
Problem File: NUM-006-distinct-prime-factors-prefix.md
Editorial File: NUM-006-distinct-prime-factors-prefix.md
-------------------- PROBLEM DESCRIPTION --------------------
For each integer `x`, let `f(x)` be the number of distinct prime factors of `x`. Precompute `f(1..N)` and answer range sum queries:  ``` sum_{x=l..r} f(x) ```  ![Problem Illustration](../images/NUM-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N <= 1000000` - `1 <= q <= 100000` - `1 <= l <= r <= N`
-------------------- EDITORIAL SUMMARY ----------------------
Let $f(x)$ be the number of distinct prime factors of $x$. - Precompute $f(x)$ for all $x$ up to $N$. - Answer queries for the sum of $f(x)$ in range $[l, r]$. - Input: $N$, $Q$, and queries. - Output: Range sums.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $N \le 10^6$, $Q \le 10^5$. - **Function:** $f(x)$ counts **distinct** primes. $f(12) = f(2^2 \cdot 3) = 2$. - **Prefix Sum:** Use 1-based indexing for convenience. $P[i] = P[i-1] + f(i)$.
============================================================

ID: NUM-007
Problem File: NUM-007-lcm-of-ranges.md
Editorial File: NUM-007-lcm-of-ranges.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, answer queries asking for `lcm(a[l..r])` modulo `MOD`. Each query has `r - l <= 20`, so ranges are short.  ![Problem Illustration](../images/NUM-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= q <= 100000` - `1 <= a[i] <= 10^9` - `1 <= MOD <= 10^9+7` - `0 <= l <= r < n`, and `r - l <= 20`
-------------------- EDITORIAL SUMMARY ----------------------
Given an array $A$, answer queries for the Least Common Multiple (LCM) of the subarray $A[l \dots r]$ modulo $M$. - Constraint: The range length $r - l + 1$ is small ($\le 21$). - Input: Array $A$, queries $(l, r)$, modulus $M$. - Output: $\text{lcm}(A[l], \dots, A[r]) \pmod M$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Range Length:** Small ($\le 21$). This is the key constraint. We don't need a Segment Tree. - **Modulo:** The result must be modulo $M$. - **LCM Definition:** $\text{lcm}(a, b) = (a \cdot b) / \text{gcd}(a, b)$. For multiple numbers, $\text{lcm}(S) = \prod p_i^{\max(e_i)}$. - **Caution:** We can...
============================================================

ID: NUM-008
Problem File: NUM-008-lattice-points-on-segment.md
Editorial File: NUM-008-lattice-points-on-segment.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two endpoints `(x1, y1)` and `(x2, y2)` with integer coordinates, count the number of integer lattice points on the closed line segment between them.  ![Problem Illustration](../images/NUM-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `|x1|, |y1|, |x2|, |y2| <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given two points $(x_1, y_1)$ and $(x_2, y_2)$ on a 2D grid, count the number of integer coordinates (lattice points) that lie exactly on the line segment connecting them. - Input: Coordinates $x_1, y_1, x_2, y_2$. - Output: Integer count.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** Coordinates up to $10^9$. - **Negative Coordinates:** The formula works with absolute differences $|\Delta x|$ and $|\Delta y|$. - **Vertical/Horizontal Lines:**   - If $x_1=x_2$, count is $|y_1 - y_2| + 1$.   - If $y_1=y_2$, count is $|x_1 - x_2| + 1$.   - This is consistent with...
============================================================

ID: NUM-009
Problem File: NUM-009-modular-exponent-digit-stream.md
Editorial File: NUM-009-modular-exponent-digit-stream.md
-------------------- PROBLEM DESCRIPTION --------------------
Compute `a^e mod m`, where `e` is given as a decimal digit string that may be very large. You must process the exponent as a string.  ![Problem Illustration](../images/NUM-009/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= a, m <= 10^9` - `1 <= |e| <= 100000` - `e` has no leading zeros unless `e` is "0"
-------------------- EDITORIAL SUMMARY ----------------------
Compute $a^e \pmod m$, where the exponent $e$ is a very large number given as a string of decimal digits. - Input: Integers $a, m$, string $e$. - Output: $a^e \pmod m$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $|e| \le 100,000$. This means $e \approx 10^{100000}$. - **Euler's Theorem:** We could compute $e \pmod{\phi(m)}$ to reduce the exponent, but calculating $\phi(m)$ requires factorization, which is hard for large $m$. - **Direct Approach:** It's better to process digits left-to-rig...
============================================================

ID: NUM-010
Problem File: NUM-010-sum-divisors-range.md
Editorial File: NUM-010-sum-divisors-range.md
-------------------- PROBLEM DESCRIPTION --------------------
For each integer `n`, let `sigma(n)` be the sum of its positive divisors. Given `L` and `R`, compute:  ``` Sigma = sum_{n=L..R} sigma(n) mod 1000000007 ```  ![Problem Illustration](../images/NUM-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= L <= R <= 1000000` - Modulus is fixed at `1000000007`
-------------------- EDITORIAL SUMMARY ----------------------
Compute the sum of $\sigma(n)$ for all $n$ in the range $[L, R]$, modulo $10^9+7$. - $\sigma(n)$ is the sum of all positive divisors of $n$. - Input: $L, R$. - Output: $\sum_{n=L}^R \sigma(n) \pmod{10^9+7}$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $R \le 10^6$. - **Range:** $[L, R]$. We can compute $S(R) - S(L-1)$, where $S(x) = \sum_{i=1}^x \sigma(i)$. - **Modulo:** Result modulo $10^9+7$.
============================================================

ID: NUM-011
Problem File: NUM-011-ways-climb-jump-set.md
Editorial File: NUM-011-ways-climb-jump-set.md
-------------------- PROBLEM DESCRIPTION --------------------
You are climbing `n` stairs. You may take jumps only from a given set `J`. Count the number of distinct ways to reach exactly stair `n`, modulo `1000000007`.  ![Problem Illustration](../images/NUM-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= m <= 20` - `1 <= J[i] <= 100000`
-------------------- EDITORIAL SUMMARY ----------------------
Count the number of ways to reach the $n$-th stair starting from 0, given a set of allowed jump sizes $J$. - Input: Target $n$, jump sizes $J$. - Output: Number of ways modulo $10^9+7$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $n \le 10^5$, $|J| \le 20$. - **Modulo:** $10^9+7$. - **Order Matters:** $1+3$ is different from $3+1$.
============================================================

ID: NUM-012
Problem File: NUM-012-minimal-split-equal-product.md
Editorial File: NUM-012-minimal-split-equal-product.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an integer `x`, split its decimal digits into two non-empty parts (preserving order in each part). Interpret each part as a decimal integer (leading zeros allowed). Among all splits with non-zero product, return the minimal product.  ![Problem Illustration](../images/NUM-012/problem-illustrati...
-------------------- PROBLEM CONSTRAINTS --------------------
- `10 <= x <= 10^12` - At least one split yields a non-zero product
-------------------- EDITORIAL SUMMARY ----------------------
Given a number $x$, split its digits into two non-empty parts (left and right) such that their product is minimized but non-zero. - Input: Integer $x$. - Output: Minimal non-zero product. - Example: $1234 \to 1 \times 234 = 234$, $12 \times 34 = 408$, $123 \times 4 = 492$. Minimum is 234. - Note: Th...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $x$ up to $10^{12}$ (12 digits). - **Splits:** $N-1$ possible split positions for an $N$-digit number. - **Non-Zero:** If a split results in a product of 0 (e.g., `102` -> `1` and `02`), we ignore it unless ALL splits are zero (but problem says "At least one split yields a non-zero prod...
============================================================

ID: NUM-013
Problem File: NUM-013-count-strings-exact-vowels.md
Editorial File: NUM-013-count-strings-exact-vowels.md
-------------------- PROBLEM DESCRIPTION --------------------
Count the number of strings of length `n` over lowercase English letters that contain exactly `k` vowels. Return the answer modulo `1000000007`.  Vowels are `a, e, i, o, u`.  ![Problem Illustration](../images/NUM-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 1000000` - `0 <= k <= n`
-------------------- EDITORIAL SUMMARY ----------------------
Count the number of strings of length $n$ that contain exactly $k$ vowels. - Alphabet: 26 lowercase English letters. - Vowels: `a, e, i, o, u` (5). - Consonants: 21. - Output: Count modulo $10^9+7$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $n \le 10^6$. We need $O(n)$ or $O(1)$ if precomputed. - **Modulo:** $10^9+7$. - **Formula:** $\binom{n}{k} \times 5^k \times 21^{n-k}$.
============================================================

ID: NUM-014
Problem File: NUM-014-maximum-points-line-segment-limit.md
Editorial File: NUM-014-maximum-points-line-segment-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` points, find the maximum number of points that can lie on a single line segment whose length is at most `L`. The segment can be placed anywhere but must be collinear with the points it covers.  ![Problem Illustration](../images/NUM-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2000` - `1 <= L <= 10^6` - `-10^6 <= x, y <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
Given $n$ points on a 2D plane and a maximum length $L$, find the maximum number of collinear points that can be covered by a single line segment of length at most $L$. - Input: Points $(x_i, y_i)$, Length $L$. - Output: Max count.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $n \le 2000$. $O(n^2 \log n)$ is acceptable. - **Collinearity:** Three points are collinear if slopes match. - **Length:** Euclidean distance. - **Single Point:** A segment of length 0 covers 1 point. Max is at least 1.
============================================================

ID: NUM-015
Problem File: NUM-015-crt-existence-value.md
Editorial File: NUM-015-crt-existence-value.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `k` congruences:  ``` x ≡ a_i (mod m_i) ```  Determine if a solution exists. If it does, output the smallest non-negative solution. Moduli are not guaranteed to be coprime.  ![Problem Illustration](../images/NUM-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 10` - `1 <= m_i <= 10^9` - `0 <= a_i < m_i`
-------------------- EDITORIAL SUMMARY ----------------------
Solve a system of $k$ linear congruences: $x \equiv a_1 \pmod{m_1}$ $x \equiv a_2 \pmod{m_2}$ $\dots$ $x \equiv a_k \pmod{m_k}$ - Moduli $m_i$ are **not necessarily coprime**. - Determine if a solution exists. If yes, find the smallest non-negative $x$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Coprimality:** Standard CRT requires $\text{gcd}(m_i, m_j) = 1$. Here, we must handle $\text{gcd} > 1$. - **Condition:** $x \equiv a_1 \pmod{m_1}$ and $x \equiv a_2 \pmod{m_2}$ has a solution iff $a_1 \equiv a_2 \pmod{\text{gcd}(m_1, m_2)}$. - **Overflow:** Intermediate moduli can grow up to $\t...
============================================================

ID: NUM-016
Problem File: NUM-016-count-surjective-functions.md
Editorial File: NUM-016-count-surjective-functions.md
-------------------- PROBLEM DESCRIPTION --------------------
Count the number of surjective (onto) functions from an n-element set to a k-element set. Return the result modulo `1000000007`.  ![Problem Illustration](../images/NUM-016/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= n <= 30`
-------------------- EDITORIAL SUMMARY ----------------------
Count the number of surjective (onto) functions from a set of size $n$ to a set of size $k$. - A function is surjective if every element in the codomain is mapped to by at least one element in the domain. - Input: $n, k$. - Output: Count modulo $10^9+7$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** $n, k \le 30$. Small enough for simple iteration, but logic works for larger. - **Modulo:** $10^9+7$. - **Formula:** $k! \cdot S(n, k)$, where $S(n, k)$ is Stirling number of second kind. - **Inclusion-Exclusion:** $\sum_{i=0}^k (-1)^i \binom{k}{i} (k-i)^n$.
============================================================

Reviewing Topic: Probabilistic
============================================================
ID: PRB-001
Problem File: PRB-001-coin-flip-streak-probability.md
Editorial File: PRB-001-coin-flip-streak-probability.md
-------------------- PROBLEM DESCRIPTION --------------------
A fair coin is flipped `n` times. Compute the probability of getting at least one streak of `k` consecutive heads.  ![Problem Illustration](../images/PRB-001/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 60` - `1 <= k <= n`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the probability that in a sequence of n fair coin flips, there is at least one streak of k consecutive heads.  |            |                     | | ---------- | ------------------- | | **Input**  | Integers n and k    | | **Output** | Probability (float) |
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** N ≤ 60, K ≤ N. O(N) solution required. - **Precision:** Float output with error tolerance ≤ 10⁻⁶. - **Interpretation:** "At least one streak of k consecutive heads" means the pattern H^k (k heads in a row) appears as a substring anywhere in the sequence.
============================================================

ID: PRB-002
Problem File: PRB-002-expected-steps-random-walk-1d.md
Editorial File: PRB-002-expected-steps-random-walk-1d.md
-------------------- PROBLEM DESCRIPTION --------------------
A random walk starts at position 0 on the integer line. Each step moves +1 with probability `p`, and -1 with probability `1-p`. The walk stops when it reaches `+a` or `-b` (absorbing boundaries). Compute the expected number of steps until absorption.  ![Problem Illustration](../images/PRB-002/proble...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= a, b <= 200` - `0 < p < 1`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the expected number of steps for a 1D random walk starting at 0 to reach either +a or -b.  |                |                                                | | -------------- | ---------------------------------------------- | | **Step**       | +1 with probability p, -1 with probability 1...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Constraints:** a, b ≤ 200. System of equations size ≈ 400. - **Precision:** Float output. - **Symmetric Case:** If p = 0.5, the formula is E[x] = D_x (N - D_x)? No, for simple symmetric walk starting at k in [0, N], it's $k(N-k)$. Here start is relative. - **General Case:** If p ≠ 0.5, the formu...
============================================================

ID: PRB-003
Problem File: PRB-003-reservoir-sampling-k.md
Editorial File: PRB-003-reservoir-sampling-k.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a stream of integers `1..n` and need to select `k` items uniformly at random using reservoir sampling. Use the following deterministic RNG for reproducibility:  ``` state = seed state = (state * 6364136223846793005 + 1) mod 2^64 rand() = state ```  For each item `i` (1-indexed):  - If ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= k <= n <= 10^6` - `0 <= seed < 2^64`
-------------------- EDITORIAL SUMMARY ----------------------
Select k items uniformly at random from a stream of n items, where n might be unknown or very large.  | | | |---|---| | **Method** | Use a specific Linear Congruential Generator (LCG) for randomness to ensure deterministic output for testing | | **Input** | n, k, seed | | **Output** | The final k it...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **RNG:** You MUST implement the 64-bit LCG exactly as specified.   - `state = (state * 6364136223846793005 + 1) mod 2^64`.   - In C++/Java, standard `long` (64-bit) overflow behavior handles the modulo automatically.   - In Python/JS, you need to manually mask with `(1 << 64) - 1` or use BigInt. -...
============================================================

ID: PRB-004
Problem File: PRB-004-monte-carlo-pi.md
Editorial File: PRB-004-monte-carlo-pi.md
-------------------- PROBLEM DESCRIPTION --------------------
You sampled `N` random points in the unit square and counted how many fell inside the quarter circle of radius 1. Given `N` and `C` (count inside), compute:  - The estimate of π: `pi_hat = 4 * C / N` - A 95% confidence half-width: `err = 1.96 * sqrt(p*(1-p)/N) * 4` where `p = C/N`  ![Problem Illustr...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N <= 10^6` - `0 <= C <= N`
-------------------- EDITORIAL SUMMARY ----------------------
Given the results of a Monte Carlo simulation (N total points, C points inside a quarter circle), calculate:  1. The estimated value of $\pi$ ($\hat{\pi}$). 2. The 95% confidence interval half-width (margin of error) for this estimate.  | | | |---|---| | **Input** | N, C | | **Output** | π̂, error |
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Formula:**   - $\hat{\pi} = 4 \times \frac{C}{N}$.   - Standard Error of $\hat{p}$ is $\sqrt{\frac{p(1-p)}{N}}$.   - Since $\hat{\pi} = 4\hat{p}$, the error scales by 4.   - 95% Confidence Interval uses Z-score ≈ 1.96$.   - Error Half-Width = $1.96 \times 4 \times \sqrt{\frac{\hat{p}(1-\hat{p})}...
============================================================

ID: PRB-005
Problem File: PRB-005-bloom-filter-fpr.md
Editorial File: PRB-005-bloom-filter-fpr.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a Bloom filter with `m` bits, `k` hash functions, and `n` inserted items, compute the false positive probability using the standard approximation:  ``` P = (1 - exp(-k * n / m))^k ```  ![Problem Illustration](../images/PRB-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m, n <= 10^6` - `1 <= k <= 20`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the theoretical false positive probability of a Bloom Filter.  | | | |---|---| | **Parameters** | m bits, k hash functions, n inserted elements | | **Formula** | P = (1 - e^(-kn/m))^k | | **Input** | m, k, n | | **Output** | Probability (float) |
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Formula Derivation:**   - Prob a specific bit is 0 after 1 hash: $1 - 1/m$.   - Prob a specific bit is 0 after $kn$ hashes: $(1 - 1/m)^{kn} \approx e^{-kn/m}$.   - Prob a specific bit is 1: $1 - e^{-kn/m}$.   - False Positive: All k hashes for a new element hit 1s.   - P \approx (1 - e^{-kn/m})^...
============================================================

ID: PRB-006
Problem File: PRB-006-min-cut-random-contraction.md
Editorial File: PRB-006-min-cut-random-contraction.md
-------------------- PROBLEM DESCRIPTION --------------------
Karger's randomized contraction algorithm succeeds in finding the global min-cut with probability at least:  ``` P_success = 2 / (n * (n - 1)) ```  Given `n` and a target confidence `P`, compute the minimum number of independent trials needed so that the overall success probability is at least `P`. ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 10^9` - `0 < P < 1`
-------------------- EDITORIAL SUMMARY ----------------------
Karger's algorithm finds the global min-cut of a graph with n vertices with probability $p_{success} \ge \frac{2}{n(n-1)}$. Given n and a desired confidence level P (e.g., 0.99), calculate the minimum number of independent trials t required to ensure the probability of finding the min-cut is at leas...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Formula:** $p_{success} = \frac{2}{n(n-1)}$. - **Logarithms:** Use natural log (`Math.log` in Java/JS, `math.log` in Python, `log` in C++). - **Rounding:** Since t must be an integer, take the ceiling. - **Constraints:** n up to 10⁹. $p_{success}$ can be very small.   - If p is very small, $\ln(...
============================================================

ID: PRB-007
Problem File: PRB-007-skip-list-expected-height.md
Editorial File: PRB-007-skip-list-expected-height.md
-------------------- PROBLEM DESCRIPTION --------------------
A skip list promotes each node to the next level independently with probability `p`. Given `n` inserted elements, approximate the expected maximum height of the skip list using:  ``` H = log(n) / log(1/p) ```  Output `H`.  ![Problem Illustration](../images/PRB-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^6` - `0 < p < 1`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the expected maximum height of a Skip List with n elements, where each element is promoted to the next level with probability p.  | | | |---|---| | **Formula** | H ≈ log₁/ₚ(n) | | **Input** | n, p | | **Output** | H (float) |
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Formula:** H = \frac{\ln(n)}{\ln(1/p)}$. - **Base Change:** $\log_b(x) = \frac{\ln(x)}{\ln(b)}$. Here base b = 1/p. - **Precision:** Use `double`. - **Constraints:** n \le 10^6$. Calculation is O(1).
============================================================

ID: PRB-008
Problem File: PRB-008-quickselect-expected-comparisons.md
Editorial File: PRB-008-quickselect-expected-comparisons.md
-------------------- PROBLEM DESCRIPTION --------------------
For randomized Quickselect on `n` distinct elements to find the `k`-th smallest, compute the expected number of comparisons assuming the pivot is chosen uniformly at random from the current subarray.  Let `E(n, k)` be the expected comparisons. Use the recurrence:  ``` E(1, k) = 0 E(n, k) = (n - 1) +...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2000` - `1 <= k <= n`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the expected number of comparisons performed by Randomized Quickselect to find the k-th smallest element in an array of size n.  | | | |---|---| | **Algorithm** | Pick random pivot, partition (cost n-1), recurse on the side containing k | | **Input** | n, k | | **Output** | Expected compar...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Recurrence:**   $E(n, k) = (n-1) + \frac{1}{n} \sum_{i=1}^{n} \text{cost\_subproblem}(i)$.   - If i = = k$: Done. Cost 0.   - If i > k: Recurse Left. Size i-1, target k. Cost E(i-1, k)$.   - If i < k: Recurse Right. Size n-i, target k-i$. Cost E(n-i, k-i)$. - **Base Case:** $E(1, 1) = 0$ (0 comp...
============================================================

ID: PRB-009
Problem File: PRB-009-treap-priority-invariants.md
Editorial File: PRB-009-treap-priority-invariants.md
-------------------- PROBLEM DESCRIPTION --------------------
For a treap built from `n` distinct keys with random priorities, expected values match those of a random BST. Compute:  - Expected depth of a node: `E_depth = 2 * H_n - 2` - Expected total path length (sum of depths): `E_path = 2 * (n + 1) * H_n - 4n`  where `H_n` is the `n`-th harmonic number.  ![P...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the expected depth of a node and the expected total path length (sum of depths of all nodes) in a Treap with n nodes.  A Treap is a binary tree that is a BST by keys and a Heap by random priorities. The structure is isomorphic to a randomly built BST.  | | | |---|---| | **Formulas** | E[de...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Harmonic Number:** $H_n = \sum_{i=1}^n \frac{1}{i}$. - **Formulas:**   - $E[\text{depth}]$ usually refers to the average depth of a node chosen uniformly at random, or the expected depth of the *last* inserted node?   - The problem statement says "Expected depth of a node: $2H_n - 2$". This matc...
============================================================

ID: PRB-010
Problem File: PRB-010-markov-chain-absorption.md
Editorial File: PRB-010-markov-chain-absorption.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a Markov chain with some absorbing states (a state with probability 1 of staying in itself). From a given start state, compute:  - Expected number of steps to absorption - Absorption probabilities for each absorbing state  ![Problem Illustration](../images/PRB-010/problem-illustration....
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 20` - Matrix rows sum to 1
-------------------- EDITORIAL SUMMARY ----------------------
Given a Markov Chain with n states, some of which are absorbing (once entered, cannot leave). Starting from state s, calculate:  1. The expected number of steps until absorption. 2. The probability of being absorbed into each specific absorbing state.  | | | |---|---| | **Input** | Transition matrix...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Absorbing State:** A state i where P_ii = 1. - **Constraints:** n \le 20$. Matrix inversion is O(n^3), perfectly fine. - **Output Format:**   - First line: Expected steps (scalar).   - Second line: Probabilities for _all_ absorbing states, sorted by their original index.   - If start state is ab...
============================================================

ID: PRB-011
Problem File: PRB-011-coupon-collector-expected.md
Editorial File: PRB-011-coupon-collector-expected.md
-------------------- PROBLEM DESCRIPTION --------------------
With `N` equally likely coupons, compute the expected number of draws to collect all coupons:  ``` E = N * (1 + 1/2 + 1/3 + ... + 1/N) ```  ![Problem Illustration](../images/PRB-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= N <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the expected number of trials to collect all N distinct coupons, assuming each trial yields a coupon uniformly at random with replacement.  | | | |---|---| | **Formula** | E = N × Σ(1/i) for i=1 to N | | **Input** | N | | **Output** | Expected trials (float) |
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Formula:** E = N H_N = N (1 + 1/2 + \dots + 1/N)$. - **Constraints:** N \le 10^6$. O(N) loop is acceptable. - **Precision:** Use `double`.
============================================================

ID: PRB-012
Problem File: PRB-012-poisson-approx-binomial.md
Editorial File: PRB-012-poisson-approx-binomial.md
-------------------- PROBLEM DESCRIPTION --------------------
Approximate `P(X = k)` for `X ~ Binomial(n, p)` using the Poisson approximation with `lambda = n * p`:  ``` P_approx = e^{-lambda} * lambda^k / k! ```  Also output the Le Cam error bound on total variation:  ``` err = min(1, 2 * n * p^2) ```  ![Problem Illustration](../images/PRB-012/problem-illustr...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^6` - `0 < p <= 0.01` - `0 <= k <= n`
-------------------- EDITORIAL SUMMARY ----------------------
Approximate the probability of observing exactly k successes in n trials, where each trial succeeds with small probability p, using the Poisson distribution.  | | | |---|---| | **Binomial parameters** | n, p | | **Poisson parameter** | $\lambda = np$ | | **Approximation** | $P(X=k) \approx \frac{e^{...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Formulas:**   - $\lambda = n \cdot p$.   - $P_{approx} = e^{-\lambda} \cdot \frac{\lambda^k}{k!}$.   - $Error = \min(1.0, 2 \cdot n \cdot p^2)$. (Or just $2np^2$ if small). - **Precision:**   - $k!$ can overflow 64-bit integers for k > 20$.   - Use `double` for intermediate calculations or compu...
============================================================

ID: PRB-013
Problem File: PRB-013-random-walk-hitting-prob-2d.md
Editorial File: PRB-013-random-walk-hitting-prob-2d.md
-------------------- PROBLEM DESCRIPTION --------------------
A simple symmetric random walk starts at `(0,0)` on the 2D integer grid. At each step, it moves one unit north, south, east, or west with equal probability.  Given a target `(a, b)` and a time horizon `T`, compute the probability that the walk hits `(a, b)` at least once within `T` steps.  ![Problem...
-------------------- PROBLEM CONSTRAINTS --------------------
- `|a|, |b| <= 10` - `1 <= T <= 500`
-------------------- EDITORIAL SUMMARY ----------------------
Calculate the probability that a 2D symmetric random walk starting at $(0,0)$ reaches a target $(a,b)$ within T steps.  | | | |---|---| | **Moves** | N, S, E, W with prob 0.25 each | | **Input** | a, b, T | | **Output** | Probability (float) |
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Absorbing State:** Treat the target $(a,b)$ as absorbing. Once reached, the walk stays there (or we just count it as a success and stop tracking). - **Bounded Grid:** Since max steps is T, the walk cannot go beyond coordinates $[-T, T]$. - **Constraints:** T \le 500$. Grid size roughly $1000 \ti...
============================================================

ID: PRB-014
Problem File: PRB-014-randomized-mst-verification.md
Editorial File: PRB-014-randomized-mst-verification.md
-------------------- PROBLEM DESCRIPTION --------------------
A randomized verification algorithm detects an incorrect MST weight with probability at least `1 / n^2` per independent trial. Given `n` and a desired confidence `C`, compute the minimum number of trials needed so that the probability of detecting an incorrect MST is at least `C`.  ![Problem Illustr...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 10^9` - `0 < C < 1`
-------------------- EDITORIAL SUMMARY ----------------------
We have a randomized algorithm that detects if a Minimum Spanning Tree (MST) is incorrect with probability p = 1/n^2$ in a single trial. We need to find the minimum number of trials t such that the probability of detecting an error (if one exists) is at least C.  | | | |---|---| | **Input** | n, C |...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Probability p:** The problem states p = 1/n^2$. - **Confidence C:** A value between 0 and 1 (exclusive). E.g., 0.99. - **Constraints:** n can be up to 10⁹, so p can be very small (10⁻¹⁸). - **Precision:** Standard floating point `double` is usually sufficient, but be careful with `log(1-C)` if C...
============================================================

ID: PRB-015
Problem File: PRB-015-median-uniforms-clt.md
Editorial File: PRB-015-median-uniforms-clt.md
-------------------- PROBLEM DESCRIPTION --------------------
Let `n` i.i.d. random variables be uniformly distributed on [0,1]. Using the CLT approximation for the sample median, output the approximate mean and variance of the median.  For uniform distribution, the asymptotic variance is:  ``` Var(median) ≈ 1 / (4n) ```  and the mean is 0.5.  ![Problem Illust...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 1000`
-------------------- EDITORIAL SUMMARY ----------------------
Given n independent random variables uniformly distributed on $[0,1]$, we want to find the approximate mean and variance of their sample median using the Central Limit Theorem (CLT) for quantiles.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Integer n (sample size). - **Output:** Two floats: Mean and Variance. - **Approximation:** We are using the asymptotic approximation, which becomes very accurate as n increases. - **Formula:**   - Mean $\mu \approx 0.5$   - Variance $\sigma^2 \approx \frac{1}{4n}$
============================================================

ID: PRB-016
Problem File: PRB-016-permutation-cycle-structure.md
Editorial File: PRB-016-permutation-cycle-structure.md
-------------------- PROBLEM DESCRIPTION --------------------
For a uniformly random permutation of `n` elements:  - The expected number of cycles of length exactly `k` is `1/k` - The expected length of the longest cycle is approximately `0.624330 * n`  Given `n` and `k`, output both values.  ![Problem Illustration](../images/PRB-016/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= n <= 100000`
-------------------- EDITORIAL SUMMARY ----------------------
For a random permutation of n elements, we need to find:  1. The expected number of cycles of length exactly k. 2. The expected length of the longest cycle.  | | | |---|---| | **Input** | n, k | | **Output** | Expected cycles of length k, Expected longest cycle |
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** n (total elements), k (target cycle length). - **Output:** Two values.   1. Expected count of cycles of length k.   2. Expected length of the longest cycle. - **Constants:** The problem gives the Golomb-Dickman constant $\lambda \approx 0.624330$ for the second part. - **Constraint:** k...
============================================================

Reviewing Topic: ProbabilisticDS
============================================================
ID: PDS-001
Problem File: PDS-001-bloom-filter-design.md
Editorial File: PDS-001-bloom-filter-design.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an expected number of items `n` and a target false positive rate `f`, choose the Bloom filter parameters:  ``` m = ceil(-(n * ln f) / (ln 2)^2) k = round((m / n) * ln 2) ```  Then compute the expected false positive rate using:  ``` FPR = (1 - exp(-k * n / m))^k ```  Output `m`, `k`, and `FPR`...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^6` - `0 < f < 1`
-------------------- EDITORIAL SUMMARY ----------------------
We need to design a Bloom Filter by calculating the optimal bit array size ($m$) and number of hash functions ($k$) to store $n$ items with a target false positive rate $f$. We then need to verify the design by computing the actual expected false positive rate.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Inputs:**   - $n$: Number of items expected to be inserted.   - $f$: Desired False Positive Rate (e.g., 0.01 for 1%). - **Outputs:**   - $m$: Size of bit array (integer).   - $k$: Number of hash functions (integer).   - $FPR$: The calculated error rate using these integer $m$ and $k$. - **Formul...
============================================================

ID: PDS-002
Problem File: PDS-002-counting-bloom-filter.md
Editorial File: PDS-002-counting-bloom-filter.md
-------------------- PROBLEM DESCRIPTION --------------------
A counting Bloom filter uses counters instead of bits. With `m` counters, `k` hash functions, and `n` insertions, approximate the overflow probability of a counter of `c` bits using a Poisson model.  Let `lambda = k * n / m`, and the counter maximum be `MAX = 2^c - 1`. Then:  ``` P_overflow = 1 - su...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 10^6` - `1 <= k <= 20` - `1 <= c <= 10` - `1 <= n <= 10^6`
-------------------- EDITORIAL SUMMARY ----------------------
We need to calculate the probability that any counter in a Counting Bloom Filter overflows. - A Counting Bloom Filter replaces bits with $c$-bit counters. - We have $m$ counters, $k$ hash functions, and $n$ items inserted. - We model the number of items hashing to a specific counter using a Poisson ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Inputs:**   - $m$: Number of counters.   - $k$: Hash functions.   - $c$: Bits per counter.   - $n$: Items inserted. - **Output:** Probability of overflow for a *single* counter. - **Model:** Poisson approximation.   - The probability that a specific counter is incremented $i$ times is $P(X=i) = ...
============================================================

ID: PDS-003
Problem File: PDS-003-cuckoo-hashing-success.md
Editorial File: PDS-003-cuckoo-hashing-success.md
-------------------- PROBLEM DESCRIPTION --------------------
Use the following approximation for the failure probability of cuckoo hashing with two hash functions:  ``` P_fail = exp(-((1 - alpha)^2 * m) / 2) ```  where `alpha` is the load factor and `m` is the table size. Compute the success probability:  ``` P_success = 1 - P_fail ```  ![Problem Illustration...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 10^6` - `0 < alpha < 1`
-------------------- EDITORIAL SUMMARY ----------------------
We need to calculate the probability that Cuckoo Hashing succeeds in constructing a valid hash table without entering an infinite loop of evictions. - Cuckoo Hashing uses 2 hash functions. - An item can be placed in either $H_1(x)$ or $H_2(x)$. - If both are full, we kick out an existing item to its...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Inputs:**   - $m$: Table size (buckets).   - $\alpha$: Load factor ($n/m$). - **Output:** Success probability. - **Formula:**   - The problem statement gives: $P_{fail} = \exp(-((1 - \alpha)^2 * m) / 2)$.   - This looks like a bound related to the size of the largest component or the probability...
============================================================

ID: PDS-004
Problem File: PDS-004-count-min-sketch.md
Editorial File: PDS-004-count-min-sketch.md
-------------------- PROBLEM DESCRIPTION --------------------
Given desired error `epsilon` and failure probability `delta`, compute parameters for a Count-Min Sketch:  ``` w = ceil(e / epsilon) d = ceil(ln(1 / delta)) ```  Output `w` and `d`.  ![Problem Illustration](../images/PDS-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 < epsilon < 1` - `0 < delta < 1`
-------------------- EDITORIAL SUMMARY ----------------------
We need to calculate the dimensions of a Count-Min Sketch (width $w$ and depth $d$) to satisfy specific error guarantees. - **Goal:** Estimate the frequency of items in a stream. - **Guarantee:** With probability at least $1 - \delta$, the estimated count $\hat{c}_x$ satisfies $c_x \le \hat{c}_x \le...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Inputs:**   - $\epsilon$ (epsilon): Error factor (e.g., 0.01).   - $\delta$ (delta): Failure probability (e.g., 0.01). - **Outputs:**   - $w$: Number of columns.   - $d$: Number of rows. - **Constants:** $e \approx 2.71828$.
============================================================

ID: PDS-005
Problem File: PDS-005-misra-gries.md
Editorial File: PDS-005-misra-gries.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a stream of `n` integers and a parameter `k`, run the Misra-Gries algorithm with `k-1` counters. Output the set of candidate items after processing the stream.  If no candidates remain, print an empty line.  ![Problem Illustration](../images/PDS-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^6` - `2 <= k <= 1000` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
We need to identify all elements in a stream of $n$ items that appear more than $n/k$ times. - We must use the **Misra-Gries** algorithm. - We are allowed to maintain at most $k-1$ counters. - The output should be the set of candidate items remaining in the counters after processing the stream.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $n$: Stream length.   - $k$: Parameter (threshold $n/k$).   - Stream: List of integers. - **Output:**   - Sorted list of keys remaining in the map. - **Algorithm:**   - Maintain a map of size at most $k-1$.   - If item $x$ in map: increment count.   - Else if map size < $k-1$: add $...
============================================================

ID: PDS-006
Problem File: PDS-006-hyperloglog-estimate.md
Editorial File: PDS-006-hyperloglog-estimate.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `m` HyperLogLog registers (m is a power of two) and their maximum values, compute the cardinality estimate:  ``` E = alpha_m * m^2 / sum(2^{-register[i]}) ```  Use `alpha_m` as:  - 0.673 if m = 16 - 0.697 if m = 32 - 0.709 if m = 64 - otherwise: 0.7213 / (1 + 1.079 / m)  If `E <= 2.5 * m` and ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `m` is a power of two, `16 <= m <= 65536` - `0 <= register[i] <= 64`
-------------------- EDITORIAL SUMMARY ----------------------
We need to compute the cardinality estimate from the state of a HyperLogLog (HLL) data structure. - HLL uses $m$ registers. - Each register stores the maximum number of leading zeros observed in the hashed values of items mapping to that register. - The raw estimate is given by the harmonic mean of ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $m$: Number of registers (power of 2).   - Registers: Array of $m$ integers. - **Output:** Estimated cardinality. - **Algorithm:**   1. Calculate $\alpha_m$.   2. Calculate raw estimate $E_{raw} = \frac{\alpha_m m^2}{\sum 2^{-M[j]}}$.   3. If $E_{raw} \le 2.5m$, check for empty regi...
============================================================

ID: PDS-007
Problem File: PDS-007-flajolet-martin.md
Editorial File: PDS-007-flajolet-martin.md
-------------------- PROBLEM DESCRIPTION --------------------
Given the maximum number of trailing zeros `R` observed in hashed stream items, estimate the number of distinct elements using:  ``` Estimate = 2^R / phi ```  where `phi = 0.77351`.  ![Problem Illustration](../images/PDS-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= R <= 60`
-------------------- EDITORIAL SUMMARY ----------------------
We need to estimate the number of distinct elements in a stream based on the maximum number of trailing zeros ($R$) observed in their hash values. - The formula is $E = 2^R / \phi$. - $\phi \approx 0.77351$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Integer $R$ (max trailing zeros). - **Output:** Estimated count. - **Formula:** $2^R / 0.77351$.
============================================================

ID: PDS-008
Problem File: PDS-008-bottom-k-sampling.md
Editorial File: PDS-008-bottom-k-sampling.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given two MinHash signatures of length `k`, generated using the same hash functions. Estimate the Jaccard similarity as the fraction of positions where the signatures match.  ![Problem Illustration](../images/PDS-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 100000` - Hash values are in [0, 1)
-------------------- EDITORIAL SUMMARY ----------------------
We are given two MinHash signatures of length $k$. Each signature consists of $k$ values, where the $i$-th value is the minimum hash value observed for the $i$-th hash function. We need to estimate the Jaccard Similarity between the two original sets by comparing these signatures.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $k$: Length of signatures.   - $A$: List of $k$ floats.   - $B$: List of $k$ floats. - **Output:** Fraction of indices $i$ where $A[i] == B[i]$. - **Note:** Floating point equality check is usually tricky, but here we assume exact matches from the same hash function on the same item...
============================================================

ID: PDS-009
Problem File: PDS-009-kmv-distinct-count.md
Editorial File: PDS-009-kmv-distinct-count.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given the `k` smallest hash values in (0,1) for a set. Estimate the number of distinct elements using:  ``` Estimate = (k - 1) / h_k ```  where `h_k` is the k-th smallest hash value.  ![Problem Illustration](../images/PDS-009/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= k <= 100000` - `0 < h_k < 1`
-------------------- EDITORIAL SUMMARY ----------------------
We are given the $k$ smallest hash values from a set of items, where hash values are uniformly distributed in $(0, 1)$. We need to estimate the total number of distinct elements in the original set using the KMV estimator: $\text{Estimate} = \frac{k-1}{h_k}$, where $h_k$ is the $k$-th smallest hash ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $k$: Number of smallest hashes provided.   - Hashes: List of $k$ floats, sorted. - **Output:** Estimated count. - **Formula:** $(k-1) / \text{hashes}[k-1]$. (Note: 0-based index of $k$-th item is $k-1$).
============================================================

ID: PDS-010
Problem File: PDS-010-count-sketch-heavy-hitters.md
Editorial File: PDS-010-count-sketch-heavy-hitters.md
-------------------- PROBLEM DESCRIPTION --------------------
Given the Count Sketch signed estimates for a single item across `d` rows, compute its frequency estimate as the median of the signed counts.  Each row provides:  - `count`: the bucket count - `sign`: either `+1` or `-1`  The signed value is `count * sign`.  ![Problem Illustration](../images/PDS-010...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= d <= 101`, `d` is odd - `count` fits in 32-bit signed integer - `sign` is either -1 or 1
-------------------- EDITORIAL SUMMARY ----------------------
We need to estimate the frequency of an item using a Count Sketch. - We have $d$ independent estimates from $d$ rows of the sketch. - Each row $i$ gives us a bucket count $C_i$ and a sign $S_i \in \{+1, -1\}$. - The estimate from row $i$ is $C_i \times S_i$. - The final estimate is the **median** of...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $d$: Number of rows (odd).   - List of pairs: `(count, sign)`. - **Output:** Median of `count * sign`. - **Note:** `sign` is the hash value $s(x)$ for the item being queried. The bucket count stores $\sum c_y s(y)$ for all items $y$ mapping to that bucket. So we multiply by $s(x)$ t...
============================================================

ID: PDS-011
Problem File: PDS-011-sliding-window-decayed-distinct.md
Editorial File: PDS-011-sliding-window-decayed-distinct.md
-------------------- PROBLEM DESCRIPTION --------------------
Estimate a decayed distinct count using the last-seen time of each distinct item. Given current time `T`, decay factor `lambda`, and last-seen timestamps `t_i`, compute:  ``` Estimate = sum exp(-lambda * (T - t_i)) ```  ![Problem Illustration](../images/PDS-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= T <= 10^9` - `0 < lambda <= 1` - `1 <= m <= 100000` - `0 <= t_i <= T`
-------------------- EDITORIAL SUMMARY ----------------------
We need to compute a "decayed" count of distinct elements. - Each distinct element $i$ contributes a weight based on how recently it was seen. - If the last time we saw item $i$ was $t_i$, its contribution at current time $T$ is $e^{-\lambda(T - t_i)}$. - The total estimate is the sum of these contr...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $T$: Current time.   - $\lambda$: Decay rate.   - Times: List of timestamps $t_i$ (one per distinct item). - **Output:** Sum of weights. - **Formula:** $\sum e^{-\lambda(T - t_i)}$.
============================================================

ID: PDS-012
Problem File: PDS-012-bloomier-filter.md
Editorial File: PDS-012-bloomier-filter.md
-------------------- PROBLEM DESCRIPTION --------------------
A Bloomier filter stores key-value mappings with an `r`-bit value cell. The false positive probability for a random non-key is approximately:  ``` FPR = 2^{-r} ```  Given the table size `m` and bits per cell `r`, compute:  - Total memory in bits: `m * r` - False positive probability `FPR`  ![Problem...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 10^6` - `1 <= r <= 32`
-------------------- EDITORIAL SUMMARY ----------------------
We need to calculate the memory usage and false positive probability (FPR) of a Bloomier Filter. - A Bloomier Filter is a generalization of a Bloom Filter that stores a value associated with each key, instead of just a boolean. - It uses an array of $m$ cells, each of width $r$ bits. - If we query a...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $m$: Number of cells.   - $r$: Bits per cell. - **Output:**   - Memory in bits: $m \times r$.   - FPR: $2^{-r}$.
============================================================

ID: PDS-013
Problem File: PDS-013-xor-filters.md
Editorial File: PDS-013-xor-filters.md
-------------------- PROBLEM DESCRIPTION --------------------
An XOR filter stores fingerprints of `b` bits. The false positive rate is approximately:  ``` FPR = 2^{-b} ```  Assume the filter uses `ceil(1.23 * n)` cells. Given `n` and `b`, compute:  - Total memory bits: `ceil(1.23 * n) * b` - False positive rate `FPR`  ![Problem Illustration](../images/PDS-013...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^6` - `1 <= b <= 16`
-------------------- EDITORIAL SUMMARY ----------------------
We need to calculate the memory usage and false positive rate (FPR) for an XOR Filter. - An XOR Filter is a modern alternative to Bloom Filters. - It is more space-efficient (usually 1.23 bits per entry overhead vs Bloom's 1.44). - It stores $b$-bit fingerprints. - The number of cells required is ap...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $n$: Number of keys.   - $b$: Bits per fingerprint. - **Output:**   - Memory: $\lceil 1.23 \times n \rceil \times b$.   - FPR: $2^{-b}$.
============================================================

ID: PDS-014
Problem File: PDS-014-perfect-hashing-random.md
Editorial File: PDS-014-perfect-hashing-random.md
-------------------- PROBLEM DESCRIPTION --------------------
In two-level perfect hashing (FKS), if bucket sizes are `s_1, s_2, ..., s_t`, the total second-level table size is:  ``` S = sum s_i^2 ```  Compute `S` and report whether `S <= 4n`.  ![Problem Illustration](../images/PDS-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^6` - `1 <= t <= n` - Sum of bucket sizes = n
-------------------- EDITORIAL SUMMARY ----------------------
We are analyzing the space complexity of the FKS (Fredman, Komlós, Szemerédi) Perfect Hashing scheme. - Level 1: Hash $n$ keys into $t$ buckets. - Level 2: For each bucket $i$ with size $s_i$, allocate a secondary hash table of size $s_i^2$. - The total space required for the second level is $S = \s...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $n$: Total keys.   - $t$: Number of buckets.   - Sizes: Array of $t$ bucket sizes. - **Output:**   - $S$: Sum of squares.   - "YES" or "NO".
============================================================

ID: PDS-015
Problem File: PDS-015-minhash-lsh-candidate-probability.md
Editorial File: PDS-015-minhash-lsh-candidate-probability.md
-------------------- PROBLEM DESCRIPTION --------------------
In MinHash LSH with `b` bands and `r` rows per band, the probability that two sets with Jaccard similarity `s` become a candidate pair is:  ``` P = 1 - (1 - s^r)^b ```  Compute `P`.  ![Problem Illustration](../images/PDS-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= b, r <= 1000` - `0 <= s <= 1`
-------------------- EDITORIAL SUMMARY ----------------------
We need to calculate the probability that two sets with Jaccard similarity $s$ are identified as a candidate pair by the MinHash LSH algorithm. - The LSH scheme uses $b$ bands, each consisting of $r$ rows. - A pair is a candidate if they match in *at least one* band. - Two sets match in a band if th...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $b$: Number of bands.   - $r$: Rows per band.   - $s$: Jaccard similarity ($0 \le s \le 1$). - **Output:** Probability $P$. - **Formula:** $1 - (1 - s^r)^b$.
============================================================

ID: PDS-016
Problem File: PDS-016-hyperloglog-union-estimate.md
Editorial File: PDS-016-hyperloglog-union-estimate.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two HyperLogLog sketches with the same number of registers `m`, compute the union estimate by taking register-wise maximums and then applying the HLL estimate:  ``` E = alpha_m * m^2 / sum(2^{-register[i]}) ```  Use `alpha_m` as:  - 0.673 if m = 16 - 0.697 if m = 32 - 0.709 if m = 64 - otherwi...
-------------------- PROBLEM CONSTRAINTS --------------------
- `m` is a power of two, `16 <= m <= 65536` - `0 <= register[i] <= 64`
-------------------- EDITORIAL SUMMARY ----------------------
We need to compute the cardinality of the union of two HyperLogLog sketches. - We are given two sketches $A$ and $B$, each with $m$ registers. - The union sketch $U$ is formed by taking the element-wise maximum of the registers: $U[i] = \max(A[i], B[i])$. - We then apply the standard HyperLogLog car...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:**   - $m$: Number of registers.   - Registers A: List of $m$ integers.   - Registers B: List of $m$ integers. - **Output:** Estimated union cardinality. - **Formula:** Same as PDS-006, but applied to the merged registers.
============================================================

Reviewing Topic: Queues
============================================================
ID: QUE-001
Problem File: QUE-001-campus-service-line.md
Editorial File: QUE-001-campus-service-line.md
-------------------- PROBLEM DESCRIPTION --------------------
A campus service desk handles students in a strict first-in-first-out order. You must implement a queue that supports the following commands:  - `ENQUEUE x`: add student ID `x` to the back of the line - `DEQUEUE`: remove and report the student at the front - `FRONT`: report the student at the front ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 100000` - `-10^9 <= x <= 10^9` - Commands are valid strings as described above
-------------------- EDITORIAL SUMMARY ----------------------
We need to simulate a service line (queue) that processes students in a First-In-First-Out (FIFO) order. - **ENQUEUE x:** A student with ID `x` joins the back of the line. - **DEQUEUE:** The student at the front leaves the line. We must report their ID. - **FRONT:** We report the ID of the student a...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** A list of commands. - **Output:** A list of strings (results of `DEQUEUE` and `FRONT`). - **Edge Case:** Calling `DEQUEUE` or `FRONT` on an empty queue. - **Data Types:** IDs are integers (can be negative).
============================================================

ID: QUE-002
Problem File: QUE-002-circular-shuttle-buffer-overwrite.md
Editorial File: QUE-002-circular-shuttle-buffer-overwrite.md
-------------------- PROBLEM DESCRIPTION --------------------
A campus shuttle system stores the last `k` sensor readings in a circular buffer. You must implement a fixed-capacity circular queue with the following commands:  - `ENQ x`: insert `x` at the rear if the buffer is not full (report success) - `ENQ_OVR x`: insert `x`, overwriting the oldest value if f...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 100000` - `1 <= m <= 100000` - `-10^9 <= x <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
We need to implement a fixed-size circular buffer (capacity `k`) that supports standard queue operations plus a special overwrite mode. - **ENQ x:** Add `x` to the rear. Fails if full. - **ENQ_OVR x:** Add `x` to the rear. If full, overwrite the oldest element (front) and succeed. - **DEQ:** Remove ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Capacity `k`, then `m` commands. - **Output:** Boolean for success/status, or values for peek/pop. - **ENQ_OVR:** If not full, acts like normal `ENQ`. If full, reports "overwritten".
============================================================

ID: QUE-003
Problem File: QUE-003-cafeteria-queue-rotation.md
Editorial File: QUE-003-cafeteria-queue-rotation.md
-------------------- PROBLEM DESCRIPTION --------------------
A cafeteria line is represented as a queue of student IDs. The manager rotates the line by moving the first `k` students to the back of the line in the same order.  Given the initial queue and `k`, output the resulting order after the left rotation. If `k` is larger than the queue length, use `k % n...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= k <= 10^9` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
We are given a queue of $N$ students. We need to perform a "left rotation" $K$ times. - A single left rotation means taking the person at the front and moving them to the back. - We need to output the final order of the queue.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $N$, array of values, $K$. - **Output:** Space-separated values. - **Edge Case:** $K$ can be very large ($10^9$). Rotating $N$ times brings us back to the start. So we only need to rotate $K \pmod N$ times. - **Edge Case:** $N=0$ (empty queue).
============================================================

ID: QUE-004
Problem File: QUE-004-hallway-interleave.md
Editorial File: QUE-004-hallway-interleave.md
-------------------- PROBLEM DESCRIPTION --------------------
A hallway line of students has even length. You must interleave the first half of the line with the second half while preserving the relative order inside each half.  For example, `[11, 12, 13, 14]` becomes `[11, 13, 12, 14]`.  ![Problem Illustration](../images/QUE-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 100000` - `n` is even - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
We are given a queue of even length $N$. We need to interleave the first half with the second half. - Input: `[a1, a2, ..., an, b1, b2, ..., bn]` - Output: `[a1, b1, a2, b2, ..., an, bn]`
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Even integer $N$, array of values. - **Output:** Interleaved array. - **Constraint:** $N$ is always even.
============================================================

ID: QUE-005
Problem File: QUE-005-lab-printer-reversal.md
Editorial File: QUE-005-lab-printer-reversal.md
-------------------- PROBLEM DESCRIPTION --------------------
A lab printer processes jobs in a queue. The technician wants to reverse the first `k` jobs while preserving the order of the remaining jobs.  Given the queue and `k`, output the new queue order.  ![Problem Illustration](../images/QUE-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= k <= n` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
We are given a queue of $N$ jobs. We need to reverse the order of the first $K$ jobs while keeping the remaining $N-K$ jobs in their original relative order.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $N$, array of values, $K$. - **Output:** Modified array. - **Constraint:** $1 \le K \le N$.
============================================================

ID: QUE-006
Problem File: QUE-006-ticket-window-distinct-prefix.md
Editorial File: QUE-006-ticket-window-distinct-prefix.md
-------------------- PROBLEM DESCRIPTION --------------------
A ticket window receives a stream of lowercase letters that represent customer IDs. After each new letter arrives, report the first letter in the stream so far that has appeared exactly once. If there is no such letter, output `#`.  This is a classic streaming problem where you must answer after eac...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains only `a` to `z`
-------------------- EDITORIAL SUMMARY ----------------------
We process a stream of characters. After each character arrives, we must identify the **first character in the stream** that has appeared exactly once so far. If no such character exists, output `#`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** A string of lowercase letters. - **Output:** A sequence of characters (same length as input). - **Format:** Space-separated characters.
============================================================

ID: QUE-007
Problem File: QUE-007-lab-window-instability.md
Editorial File: QUE-007-lab-window-instability.md
-------------------- PROBLEM DESCRIPTION --------------------
A lab monitors sensor readings in a sliding window. For each window of size `k`, compute:  ``` instability = floor((max - min) / median) ```  The median is the lower median when `k` is even. If the median is `0`, output `0` for that window.  ![Problem Illustration](../images/QUE-007/problem-illustra...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= k <= n` - Readings fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
We are given a series of sensor readings. For every sliding window of size $K$, we need to calculate the "instability" metric: $$ \text{instability} = \lfloor \frac{\max - \min}{\text{median}} \rfloor $$ - If median is 0, output 0. - Median is the lower median if $K$ is even.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $N, K$, array of integers. - **Output:** Array of instability values. - **Median Definition:** If sorted window is $w_0, \dots, w_{k-1}$, median is $w_{\lfloor (k-1)/2 \rfloor}$. - **Division by Zero:** Handle median = 0 case.
============================================================

ID: QUE-008
Problem File: QUE-008-corridor-window-second-minimum.md
Editorial File: QUE-008-corridor-window-second-minimum.md
-------------------- PROBLEM DESCRIPTION --------------------
Security sensors report values along a corridor. For each sliding window of size `k`, you must output the second smallest value in that window.  If the window size is `1`, the second smallest value is defined as the only element. If the smallest value appears at least twice, the second smallest equa...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= k <= n` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
For every sliding window of size $K$ in a sequence of $N$ integers, find the **second smallest** value. - If the smallest value appears multiple times, the second smallest is equal to the smallest. - If $K=1$, the second smallest is the element itself (by problem definition).
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $N, K$, array of integers. - **Output:** Array of second minimums. - **Duplicates:** If window is `[2, 2, 5]`, sorted is `2, 2, 5`. Min is 2. Second min is 2.
============================================================

ID: QUE-009
Problem File: QUE-009-battery-lab-first-negative.md
Editorial File: QUE-009-battery-lab-first-negative.md
-------------------- PROBLEM DESCRIPTION --------------------
A battery lab records voltage deltas over time. For each window of size `k`, report the first negative value in that window. If a window contains no negative values, output `0`.  ![Problem Illustration](../images/QUE-009/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= k <= n` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
We are given a sequence of $N$ integers representing voltage changes. For every sliding window of size $K$, we need to find the **first negative integer** that appears in that window. - If a window has no negative integers, output `0`. - "First" means the one with the smallest index within the windo...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** $N, K$, array of integers. - **Output:** Array of results. - **Zero:** 0 is not negative. - **Order:** "First" refers to the order in the array (leftmost in the window).
============================================================

ID: QUE-010
Problem File: QUE-010-shuttle-seat-assignment.md
Editorial File: QUE-010-shuttle-seat-assignment.md
-------------------- PROBLEM DESCRIPTION --------------------
A shuttle service has a list of passenger arrival and departure times. Each passenger needs one seat for the entire interval `[arrival, departure)`.  Compute the minimum number of seats required so that no passenger has to wait.  ![Problem Illustration](../images/QUE-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= arrival[i], departure[i] <= 10^9` - All times are integers
-------------------- EDITORIAL SUMMARY ----------------------
We are given $N$ intervals `[arrival, departure)`. Each interval represents a passenger needing a seat. We need to find the minimum number of seats required to accommodate all passengers simultaneously. - A seat is occupied from `arrival` to `departure`. - At `departure` time, the seat becomes free.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Two arrays, `arrivals` and `departures`. - **Output:** Integer (max concurrent intervals). - **Intervals:** `[start, end)`. Start is inclusive, End is exclusive. - **Tie-breaking:** If one arrives at X and another departs at X, process departure first (seat frees up before new one takes...
============================================================

ID: QUE-011
Problem File: QUE-011-event-registration-merge.md
Editorial File: QUE-011-event-registration-merge.md
-------------------- PROBLEM DESCRIPTION --------------------
Two event registration lines are already sorted by registration ID. Merge the two queues into one sorted queue while preserving the order of equal IDs.  ![Problem Illustration](../images/QUE-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n, m <= 100000` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
We are given two sorted queues of registration IDs. We need to merge them into a single sorted queue. - Input: Two arrays `A` and `B`, both sorted in ascending order. - Output: One array `C` containing all elements from `A` and `B`, sorted.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** Two sorted arrays. - **Output:** One sorted array. - **Equality:** If values are equal, order doesn't strictly matter for correctness of sorting, but usually we pick from the first queue for stability.
============================================================

ID: QUE-012
Problem File: QUE-012-bus-loop-one-skip.md
Editorial File: QUE-012-bus-loop-one-skip.md
-------------------- PROBLEM DESCRIPTION --------------------
A circular bus route has `n` stops. At stop `i`, the bus can gain `gain[i]` fuel and must spend `cost[i]` fuel to reach the next stop.  You must skip refueling at exactly one stop (the fuel there is lost). Find a starting index that allows the bus to complete one full loop with that single skip. If ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= gain[i], cost[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
We have a circular route with $N$ stops. At stop $i$, we gain `gain[i]` fuel and spend `cost[i]` to move to the next stop. - We must complete one full loop. - We **must** skip refueling at exactly one stop (we lose the `gain` at that stop, but still pay the `cost`). - Find a starting index that make...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** `gain` array, `cost` array. - **Output:** Starting index. - **Skip:** We choose *which* stop to skip to maximize our chances, or the problem implies we must be able to survive *any* skip?   - Re-reading: "You must skip refueling at exactly one stop... Find a starting index that allows t...
============================================================

ID: QUE-013
Problem File: QUE-013-task-stream-rate-limit.md
Editorial File: QUE-013-task-stream-rate-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
A task scheduler receives requests at integer timestamps. A request is allowed only if there have been fewer than `k` allowed requests in the last `t` time units (inclusive).  Given the timestamps in nondecreasing order, output `true` or `false` for each request indicating whether it is allowed. Rej...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= t <= 10^9` - `1 <= k <= n` - Timestamps are nondecreasing integers in `[0, 10^9]`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a stream of requests arriving at specific integer timestamps. A request is allowed if and only if the number of *allowed* requests in the last `t` time units (inclusive of the current time) is strictly less than `k`. You need to process these requests in order and determine for each wh...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   `n` (number of requests) up to $10^5$. -   Timestamps are non-decreasing. -   `t` can be very large ($10^9$), so we cannot use a fixed-size array representing every second. -   `k` up to `n`.
============================================================

ID: QUE-014
Problem File: QUE-014-deque-balance-rearrange.md
Editorial File: QUE-014-deque-balance-rearrange.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array of values. Build a new deque by alternately taking from the front and back of the array, starting with the front. Output the deque from front to back.  For example, `[2, 4, 6, 8]` becomes `[2, 8, 4, 6]`.  ![Problem Illustration](../images/QUE-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of integers. You need to construct a new sequence by alternately picking elements from the beginning and the end of the original array. The process starts by picking the first element, then the last, then the second, then the second-to-last, and so on, until all elements have ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: QUE-015
Problem File: QUE-015-festival-lantern-spread.md
Editorial File: QUE-015-festival-lantern-spread.md
-------------------- PROBLEM DESCRIPTION --------------------
A festival grid uses `0` for unlit cells and `1` for lit lanterns. Every minute, each lit lantern lights its four neighboring cells (up, down, left, right).  Compute the minimum number of minutes required to light the entire grid. If it is impossible, output `-1`.  ![Problem Illustration](../images/...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= r, c <= 200` - `r * c <= 40000` - Grid values are `0` or `1`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a grid representing a festival ground. Some cells have lit lanterns (`1`), and others are dark (`0`). Every minute, the light from a lit lantern spreads to its four adjacent neighbors (up, down, left, right), turning them into lit lanterns as well. Determine the minimum number of minut...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: QUE-016
Problem File: QUE-016-assembly-line-buffer-swap.md
Editorial File: QUE-016-assembly-line-buffer-swap.md
-------------------- PROBLEM DESCRIPTION --------------------
An assembly line has two buffers, each represented by a queue of equal length. Swap their contents using only queue operations.  Given the two queues, output their contents after the swap.  ![Problem Illustration](../images/QUE-016/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given two queues (buffers) of equal length `n`. Your task is to swap their contents completely. The first queue should end up containing the elements originally in the second queue, and vice-versa.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   `n` up to $10^5$. -   Operations should be efficient ($O(N)$ or $O(1)$).
============================================================

Reviewing Topic: Recursion
============================================================
ID: REC-001
Problem File: REC-001-dorm-room-paths.md
Editorial File: REC-001-dorm-room-paths.md
-------------------- PROBLEM DESCRIPTION --------------------
A student can move only right or down through a dorm hallway grid from the top-left corner `(0,0)` to the bottom-right corner `(r-1,c-1)`. There are no blocked cells.  Count the total number of distinct paths. Use recursion with memoization to avoid recomputation.  ![Problem Illustration](../images/...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= r, c <= 25` - Answer fits in 64-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given a grid of size $R \times C$. Starting from the top-left cell $(0, 0)$, you need to reach the bottom-right cell $(R-1, C-1)$. The only allowed moves are **Right** and **Down**. You need to count the total number of distinct paths to reach the destination.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-002
Problem File: REC-002-lab-id-permutations-no-twins.md
Editorial File: REC-002-lab-id-permutations-no-twins.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` (may contain duplicate characters), generate all unique permutations such that no two identical characters are adjacent. Output permutations in lexicographic order.  ![Problem Illustration](../images/REC-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 8` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string `s` which may contain duplicate characters. Your task is to generate all unique permutations of `s` such that no two adjacent characters are identical. The permutations must be output in lexicographical order. If no such permutation exists, output `NONE`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-003
Problem File: REC-003-campus-ticket-packs.md
Editorial File: REC-003-campus-ticket-packs.md
-------------------- PROBLEM DESCRIPTION --------------------
A ticket system has `n` values `v[i]`. For each value you may take either `0` tickets or exactly `p[i]` tickets (a fixed pack size). List all unique combinations of ticket values that sum exactly to `target`.  Output each combination as a space-separated list of ticket values in nondecreasing order....
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 15` - `1 <= target <= 200` - `1 <= v[i] <= 50` - `1 <= p[i] <= 10`
-------------------- EDITORIAL SUMMARY ----------------------
You are given `n` types of tickets. For the $i$-th type, the ticket has a value `v[i]` and comes in a fixed pack size of `p[i]`. This means for each ticket type, you can either take **0** tickets or exactly **`p[i]`** tickets. You cannot take a partial pack or multiple packs of the same type (unless...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-004
Problem File: REC-004-exam-seating-backtrack.md
Editorial File: REC-004-exam-seating-backtrack.md
-------------------- PROBLEM DESCRIPTION --------------------
An exam hall has `n` seats in a single row, indexed `0` to `n-1`. You must place exactly `k` students so that any two students have at least `d` empty seats between them.  Count how many valid arrangements are possible.  ![Problem Illustration](../images/REC-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 15` - `0 <= k <= n` - `0 <= d <= n`
-------------------- EDITORIAL SUMMARY ----------------------
You need to place `k` students in a row of `n` seats. The constraint is that any two students must have at least `d` empty seats between them. You need to find the total number of valid arrangements.
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: REC-005
Problem File: REC-005-robot-route-turns.md
Editorial File: REC-005-robot-route-turns.md
-------------------- PROBLEM DESCRIPTION --------------------
A robot must move from the top-left cell `(0,0)` to the bottom-right cell `(r-1,c-1)` on a grid. You may move up, down, left, or right, but cannot enter blocked cells (`1`).  Find any valid path that uses at most `T` turns, where a turn is a change in movement direction between consecutive steps. If...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= r, c <= 8` - `0 <= T <= 6` - Grid values are `0` or `1`
-------------------- EDITORIAL SUMMARY ----------------------
You need to find a path from the top-left `(0, 0)` to the bottom-right `(r-1, c-1)` of a grid containing obstacles (`1`) and open spaces (`0`). The robot can move in 4 directions. The catch is that the robot can make at most `T` turns. A turn is defined as changing the direction of movement (e.g., m...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-006
Problem File: REC-006-subset-sum-exact-count.md
Editorial File: REC-006-subset-sum-exact-count.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `arr`, determine whether there exists a subset of exactly `k` elements that sums to `target`. Return one such subset if it exists, otherwise output `NONE`.  ![Problem Illustration](../images/REC-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 20` - `0 <= k <= n` - `|arr[i]| <= 10000` - `|target| <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of integers `arr`, a target sum `target`, and an integer `k`. You need to find a subset of `arr` that contains exactly `k` elements and whose sum is exactly `target`. If multiple such subsets exist, any one is acceptable. If none exist, output `NONE`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   $N \le 20$: This is small enough for an exponential solution $O(2^N)$. -   $K \le N$: We need to pick exactly $K$ items. -   Target and values can be large or negative (though usually positive in subset sum, constraints say $|arr[i]| \le 10000$, so negative numbers are possible).
============================================================

ID: REC-007
Problem File: REC-007-campus-lights-placement.md
Editorial File: REC-007-campus-lights-placement.md
-------------------- PROBLEM DESCRIPTION --------------------
A campus walkway has `n` positions labeled `0` to `n-1`. Place exactly `k` lights so that any two lights are at least `d` positions apart (absolute difference >= `d`).  Generate all valid sets of positions in increasing order.  ![Problem Illustration](../images/REC-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 12` - `0 <= k <= n` - `0 <= d <= n`
-------------------- EDITORIAL SUMMARY ----------------------
You need to select exactly `k` positions from a range `0` to `n-1` to place lights. The constraint is that any two selected positions must be at least `d` units apart. Specifically, if you select positions $p_1 < p_2 < \dots < p_k$, then $p_{i+1} - p_i \ge d$ for all $i$. You need to list all such v...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-008
Problem File: REC-008-alternating-vowel-consonant-ladder.md
Editorial File: REC-008-alternating-vowel-consonant-ladder.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a start word, an end word, and a dictionary, find all shortest transformation sequences where each step changes exactly one letter and remains in the dictionary.  Additionally, the first letter of successive words must alternate between vowel-start and consonant-start. Return all shortest vali...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |word| <= 6` - `1 <= m <= 3000` - All words are lowercase and of equal length
-------------------- EDITORIAL SUMMARY ----------------------
You need to find all **shortest** transformation sequences (word ladders) from a `start` word to an `end` word. Rules for transformation: 1.  Change exactly one letter at a time. 2.  Each intermediate word must exist in the given dictionary. 3.  **Constraint**: The starting letter of consecutive wor...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-009
Problem File: REC-009-expression-target-one-flip.md
Editorial File: REC-009-expression-target-one-flip.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a digit string `s`, insert `+` or `-` operators between digits or concatenate digits to form an expression that evaluates to `T`.  You may also apply a unary negation to at most one operand chunk (write it with a leading `-` without adding an operator). Use at most `c` binary operators in tota...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 10` - `0 <= c <= 9` - `-10^9 <= T <= 10^9` - No chunk may have leading zeros unless the chunk is exactly `"0"`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string of digits `s`. You need to insert `+` or `-` operators between digits to form an expression. Additionally, you can choose **at most one** operand chunk and negate it (flip its sign). The total number of binary operators (`+` or `-`) used must not exceed `c`. Find all expressio...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Order**: Sorting the final list ensures lexicographical order.
============================================================

ID: REC-010
Problem File: REC-010-restore-matrix-upper-bounds.md
Editorial File: REC-010-restore-matrix-upper-bounds.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given row sums, column sums, and per-cell upper bounds `u[i][j]` for an `r x c` matrix of non-negative integers. Construct any matrix that satisfies all row sums, column sums, and bounds. If no matrix exists, output `NONE`. ![Problem Illustration](../images/REC-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= r, c <= 6` - `0 <= rowSum[i], colSum[j] <= 20` - `0 <= u[i][j] <= 20`
-------------------- EDITORIAL SUMMARY ----------------------
You need to construct an $R \times C$ matrix of non-negative integers such that: 1.  The sum of the $i$-th row equals `rowSums[i]`. 2.  The sum of the $j$-th column equals `colSums[j]`. 3.  Each cell `matrix[i][j]` is between `0` and `bounds[i][j]` inclusive.  If multiple solutions exist, any one is...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   $R, C \le 6$: Very small dimensions. Total cells $\le 36$. -   Sums and bounds $\le 20$: Small values. -   This suggests backtracking is feasible, but we need to be smart about pruning.
============================================================

ID: REC-011
Problem File: REC-011-campus-course-ordering.md
Editorial File: REC-011-campus-course-ordering.md
-------------------- PROBLEM DESCRIPTION --------------------
A student must take `n` courses labeled `0` to `n-1`. You are given prerequisite pairs `(u, v)` meaning course `u` must be taken before course `v`.  List all possible valid course orderings.  ![Problem Illustration](../images/REC-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 8` - `0 <= m <= 15` - Course IDs are in `[0, n-1]`
-------------------- EDITORIAL SUMMARY ----------------------
You are given `n` courses and a list of prerequisites. If course `u` is a prerequisite for `v`, you must take `u` before `v`. You need to find **all possible valid sequences** (topological sorts) of taking all `n` courses.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-012
Problem File: REC-012-knight-tour-blocked.md
Editorial File: REC-012-knight-tour-blocked.md
-------------------- PROBLEM DESCRIPTION --------------------
On an `n x n` board, a knight starts at `(0,0)` and must visit every unblocked cell exactly once using standard knight moves.  Some cells are blocked and cannot be visited. Output any valid path that visits all unblocked cells, or `NONE` if impossible.  ![Problem Illustration](../images/REC-012/prob...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 5` - `0 <= b < n * n` - `(0,0)` is guaranteed to be unblocked
-------------------- EDITORIAL SUMMARY ----------------------
You are given an $N \times N$ chessboard with some blocked cells. A knight starts at `(0,0)`. The goal is to find a path that visits every **unblocked** cell exactly once. If no such path exists, output `NONE`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   $N \le 5$: Total cells $\le 25$. -   Backtracking depth is at most 25. -   Branching factor is at most 8. -   $8^{25}$ is huge, but the board is small and constrained, so many branches die quickly. Warnsdorff's Rule (heuristic) can speed it up, but for $N=5$, simple backtracking usually passes w...
============================================================

ID: REC-013
Problem File: REC-013-palindrome-partition-min-count.md
Editorial File: REC-013-palindrome-partition-min-count.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and a maximum substring length `L`, partition `s` into palindromic substrings of length at most `L` using the minimum possible number of substrings.  Return all partitions that achieve this minimum. If none exist, output `NONE`.  ![Problem Illustration](../images/REC-013/problem-i...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 12` - `1 <= L <= |s|` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You need to partition a string `s` into substrings such that: 1.  Every substring is a **palindrome**. 2.  The length of every substring is at most `L`. 3.  The **number of substrings** in the partition is minimized.  Return all such minimum partitions.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: REC-014
Problem File: REC-014-target-sum-limited-negations.md
Editorial File: REC-014-target-sum-limited-negations.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `nums`, assign each number either `+` or `-` so that the total equals `target`. You may negate at most `K` numbers.  Return the number of valid sign assignments.  ![Problem Illustration](../images/REC-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 20` - `0 <= K <= n` - `|nums[i]| <= 20` - `|target| <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of integers `nums`. You need to assign a sign (`+` or `-`) to each integer such that the sum of the resulting values equals `target`. However, there is a constraint: you can use the `-` sign at most `K` times. Return the number of ways to achieve the target.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   $N \le 20$: $2^{20} \approx 10^6$. This is small enough for pure recursion without memoization. -   If $N$ were larger (e.g., 100), we would need DP: `dp[index][current_sum][negations_count]`.
============================================================

ID: REC-015
Problem File: REC-015-campus-seating-kenken-mini.md
Editorial File: REC-015-campus-seating-kenken-mini.md
-------------------- PROBLEM DESCRIPTION --------------------
Solve a 4x4 KenKen-like puzzle. Fill digits 1 to 4 so that each row and column contains no repeated digits. Cages are provided with a target value and operation that must be satisfied by the digits in that cage. Return any valid solution grid, or `NONE` if impossible. ![Problem Illustration](../imag...
-------------------- PROBLEM CONSTRAINTS --------------------
- Grid size is fixed at 4x4 - `1 <= c <= 16` - All cage cells are within the grid
-------------------- EDITORIAL SUMMARY ----------------------
You need to fill a $4 \times 4$ grid with digits `1` to `4` such that: 1.  Each row contains unique digits. 2.  Each column contains unique digits. 3.  The grid is partitioned into "cages". Each cage has a target value and an operator (`+`, `-`, `*`, `/`, `=`). The numbers in the cage must satisfy t...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   A cage is a set of cells. -   **Validation**: We can only validate a cage fully when *all* its cells are filled. -   **Pruning**: If a cage is partially filled, can we prune?     -   For `+` and `*`: Yes. If current sum/product already exceeds target, prune.     -   For `-` and `/`: Harder to pr...
============================================================

ID: REC-016
Problem File: REC-016-lexicographic-gray-code.md
Editorial File: REC-016-lexicographic-gray-code.md
-------------------- PROBLEM DESCRIPTION --------------------
Generate an `n`-bit Gray code sequence using the standard recursive construction: prefix `0` to the previous sequence and prefix `1` to the reverse of the previous sequence.  Output the resulting sequence in order, one code per line.  ![Problem Illustration](../images/REC-016/problem-illustration.pn...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 12`
-------------------- EDITORIAL SUMMARY ----------------------
You need to generate the **Binary Reflected Gray Code** sequence for `n` bits. The sequence starts with `0...0` and has $2^n$ elements. Every adjacent pair of elements differs by exactly one bit. The construction is defined recursively: -   $G(1) = [0, 1]$ -   $G(n) = [0G(n-1)_0, 0G(n-1)_1, ..., 1G(...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   $n \le 12$: $2^{12} = 4096$. Very small. -   We need to output binary strings, not integers.
============================================================

Reviewing Topic: SegmentTree
============================================================
ID: SEG-001
Problem File: SEG-001-range-sum-point-updates-undo.md
Editorial File: SEG-001-range-sum-point-updates-undo.md
-------------------- PROBLEM DESCRIPTION --------------------
You maintain an array `a` under three operations: - `UPDATE i x`: set `a[i] = x` - `QUERY l r`: output the sum of `a[l..r]` modulo `M` - `UNDO k`: revert the last `k` update operations (queries do not count) Process all operations in order and output answers for each `QUERY`. ![Problem Illustration]...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - `1 <= M <= 10^9+7` - `0 <= k <= 100`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of integers and need to support three operations: 1.  **UPDATE**: Change the value at a specific index. 2.  **QUERY**: Calculate the sum of elements in a range $[L, R]$ modulo $M$. 3.  **UNDO**: Revert the last $k$ updates.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-002
Problem File: SEG-002-range-add-range-sum.md
Editorial File: SEG-002-range-add-range-sum.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array `a`. Support two operations:  - `ADD l r x`: add `x` to all elements in `a[l..r]` - `SUM l r`: output the sum of `a[l..r]`  Process operations in order and output answers for each `SUM`.  ![Problem Illustration](../images/SEG-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - Indices are 0-based
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array and need to support two operations: 1.  **ADD l r x**: Add value `x` to all elements in the range `[l, r]`. 2.  **SUM l r**: Calculate the sum of elements in the range `[l, r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-003
Problem File: SEG-003-range-min-range-add.md
Editorial File: SEG-003-range-min-range-add.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, support two operations:  - `ADD l r x`: add `x` to all elements in `a[l..r]` - `MIN l r`: output the minimum value in `a[l..r]`  ![Problem Illustration](../images/SEG-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - Indices are 0-based
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array and need to support two operations: 1.  **ADD l r x**: Add value `x` to all elements in the range `[l, r]`. 2.  **MIN l r**: Find the minimum value in the range `[l, r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-004
Problem File: SEG-004-inversion-count-updates.md
Editorial File: SEG-004-inversion-count-updates.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array `a`. An inversion is a pair `(i, j)` with `i < j` and `a[i] > a[j]`.  Process point updates `SET i x`. After each update, output the current inversion count of the whole array.  ![Problem Illustration](../images/SEG-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - Indices are 0-based
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You need to process `q` updates. Each update changes the value at a specific index `i` to `x`. After each update, you must output the total number of inversions in the array. An inversion is a pair `(i, j)` such that `i < j` and `a[i] > a[j]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-005
Problem File: SEG-005-kth-order-stat-prefix.md
Editorial File: SEG-005-kth-order-stat-prefix.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, answer queries of the form `PREFIX r k`: find the k-th smallest value in the prefix `a[0..r]`.  All indices are 0-based. It is guaranteed that `1 <= k <= r+1`.  ![Problem Illustration](../images/SEG-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You need to answer queries `PREFIX r k`: find the $k$-th smallest value in the prefix `a[0..r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-006
Problem File: SEG-006-count-values-in-range.md
Editorial File: SEG-006-count-values-in-range.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain an array `a` under point updates and range count queries. The operations are:  - `SET i x`: set `a[i] = x` - `COUNT l r x y`: count how many `a[i]` in `[l, r]` satisfy `x <= a[i] <= y`  ![Problem Illustration](../images/SEG-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x, y <= 10^9` - Indices are 0-based
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You need to support: 1.  **SET i x**: Update `a[i] = x`. 2.  **COUNT l r x y**: Count how many elements in `a[l..r]` satisfy `x <= a[i] <= y`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-007
Problem File: SEG-007-range-xor-basis.md
Editorial File: SEG-007-range-xor-basis.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain an array `a` with point updates and queries asking for the maximum XOR value obtainable from any subset of elements in `a[l..r]`.  Operations:  - `SET i x`: set `a[i] = x` - `MAXXOR l r`: output the maximum subset XOR in `[l, r]`  ![Problem Illustration](../images/SEG-007/problem-illustrati...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 100000` - `0 <= a[i], x <= 10^9` - Indices are 0-based
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a` and need to support two operations: 1.  **SET i x**: Update `a[i] = x`. 2.  **MAXXOR l r**: Find the maximum XOR sum of any subset of elements in the range `a[l..r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-008
Problem File: SEG-008-longest-increasing-subarray-updates.md
Editorial File: SEG-008-longest-increasing-subarray-updates.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, you must handle point updates. After each update, output the length of the longest strictly increasing contiguous subarray.  Operation:  - `SET i x`: set `a[i] = x`  ![Problem Illustration](../images/SEG-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You need to handle point updates `SET i x` and after each update, output the length of the longest **strictly increasing contiguous subarray**.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-009
Problem File: SEG-009-range-t-threshold-majority.md
Editorial File: SEG-009-range-t-threshold-majority.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, answer queries `MAJ l r T`: determine whether there exists a value that appears at least `T` times in the subarray `a[l..r]`.  If such a value exists, output the value with the highest frequency; if multiple have the same frequency, output the smallest value. Otherwise output `-1...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i] <= 10^9` - `1 <= T <= r - l + 1`
-------------------- EDITORIAL SUMMARY ----------------------
res.merge(s1);       res.merge(s2);       return res;     };      build(0, 0, n - 1);      const results = [];          const getFreq = (val, l, r) => {       const pos = positions.get(val);       if (!pos) return 0;              // Binary search for range [l, r]       let left = 0, right = pos.leng...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-010
Problem File: SEG-010-range-gcd-skip-zones.md
Editorial File: SEG-010-range-gcd-skip-zones.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array `a` and a set of forbidden indices. The GCD of a range is computed using only indices that are not forbidden. Operations:  - `TOGGLE i`: flip whether index `i` is forbidden - `SET i x`: set `a[i] = x` - `GCD l r`: output the gcd of all allowed elements in `[l, r]`, or 0 if non...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - Indices are 0-based
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a` and a set of **forbidden indices**. You need to support: 1.  **TOGGLE i**: Flip whether index `i` is forbidden. 2.  **SET i x**: Update `a[i] = x`. 3.  **GCD l r**: Calculate the GCD of all elements in `a[l..r]` that are **not** forbidden. If no allowed elements exist, ret...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-011
Problem File: SEG-011-range-min-index.md
Editorial File: SEG-011-range-min-index.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, answer queries for the index of the minimum value in a range. If multiple indices have the same minimum value, return the smallest index.  Operations:  - `SET i x`: set `a[i] = x` - `MINIDX l r`: output the index of the minimum in `a[l..r]`  ![Problem Illustration](../images/SEG-...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - Indices are 0-based
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You need to support: 1.  **SET i x**: Update `a[i] = x`. 2.  **MINIDX l r**: Find the index of the minimum value in `a[l..r]`. If there are ties, return the smallest index.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-012
Problem File: SEG-012-range-add-kth-order.md
Editorial File: SEG-012-range-add-kth-order.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain an array under range-add updates and k-th order statistic queries on subarrays.  Operations:  - `ADD l r x`: add `x` to all elements in `a[l..r]` - `KTH l r k`: output the k-th smallest value in `a[l..r]`  ![Problem Illustration](../images/SEG-012/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 100000` - `-10^9 <= a[i], x <= 10^9` - `1 <= k <= r - l + 1`
-------------------- EDITORIAL SUMMARY ----------------------
You need to maintain an array `a` under two operations: 1.  **ADD l r x**: Add `x` to all elements in `a[l..r]`. 2.  **KTH l r k**: Find the $k$-th smallest value in `a[l..r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-013
Problem File: SEG-013-range-sum-multiple-powers.md
Editorial File: SEG-013-range-sum-multiple-powers.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain an array `a` with point updates and queries asking for the sum of powers in a range.  Operations:  - `SET i x`: set `a[i] = x` - `SUM l r p`: output `sum(a[i]^p)` for `i` in `[l,r]` where `p` is 1, 2, or 3  All answers are modulo `MOD = 1000000007`.  ![Problem Illustration](../images/SEG-01...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - `p` is in `{1,2,3}`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You need to support: 1.  **SET i x**: Update `a[i] = x`. 2.  **SUM l r p**: Calculate $\sum_{i=l}^{r} (a[i]^p) \pmod{10^9+7}$ for $p \in \{1, 2, 3\}$.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-014
Problem File: SEG-014-k-smallest-prefix-updates.md
Editorial File: SEG-014-k-smallest-prefix-updates.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain an array `a` under prefix assignment updates. The operations are:  - `SETPREFIX k x`: set `a[0..k-1] = x` - `SUM l r`: output the sum of `a[l..r]`  ![Problem Illustration](../images/SEG-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 200000` - `-10^9 <= a[i], x <= 10^9` - `1 <= k <= n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You need to support: 1.  **SETPREFIX k x**: Set `a[0..k-1] = x`. 2.  **SUM l r**: Calculate the sum of `a[l..r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-015
Problem File: SEG-015-range-min-after-toggles.md
Editorial File: SEG-015-range-min-after-toggles.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain an array with two update types and range minimum queries:  - `ADD l r x`: add `x` to all elements in `a[l..r]` - `FLIP l r`: multiply all elements in `a[l..r]` by `-1` - `MIN l r`: output the minimum value in `a[l..r]`  ![Problem Illustration](../images/SEG-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 100000` - `-10^9 <= a[i], x <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You need to maintain an array `a` under two operations: 1.  **ADD l r x**: Add `x` to all elements in `a[l..r]`. 2.  **FLIP l r**: Multiply all elements in `a[l..r]` by `-1`. 3.  **MIN l r**: Find the minimum value in `a[l..r]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SEG-016
Problem File: SEG-016-dynamic-connectivity-offline.md
Editorial File: SEG-016-dynamic-connectivity-offline.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a sequence of events on an undirected graph with `n` nodes. The events are:  - `ADD u v`: add edge `(u, v)` - `REMOVE u v`: remove edge `(u, v)` - `QUERY u v`: ask whether `u` and `v` are connected at this time  Answer all queries in order. You must process the events offline.  ![Probl...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= m <= 200000` - `1 <= u, v <= n`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a sequence of `m` events on a graph with `n` nodes: 1.  **ADD u v**: Add an edge between `u` and `v`. 2.  **REMOVE u v**: Remove the edge between `u` and `v`. 3.  **QUERY u v**: Check if `u` and `v` are connected.  You must answer the queries in the order they appear.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

Reviewing Topic: Sorting
============================================================
ID: SRT-001
Problem File: SRT-001-partial-selection-sort-stats.md
Editorial File: SRT-001-partial-selection-sort-stats.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array, simulate only the first `k` iterations of selection sort. In iteration `i`, find the minimum element in the subarray `a[i..n-1]` and swap it with `a[i]`.  Return the array state after exactly `k` iterations.  ![Problem Illustration](../images/SRT-001/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= k <= n-1` - Values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of integers and a number `k`. You need to simulate the first `k` iterations of the **Selection Sort** algorithm. In each iteration `i` (from 0 to `k-1`), you find the minimum element in the unsorted suffix `a[i..n-1]` and swap it with `a[i]`. Return the state of the array afte...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   `N <= 100,000`. -   `K <= N`. -   A full Selection Sort takes `O(N^2)`, which is too slow for `N=100,000`. -   However, we only need to perform `k` iterations. -   The complexity will be roughly `O(K * N)`. -   Let's check the constraints again. "Time complexity: O(k * n)". -   Usually for `N=10...
============================================================

ID: SRT-002
Problem File: SRT-002-kth-missing-positive-blocks.md
Editorial File: SRT-002-kth-missing-positive-blocks.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a sorted array of unique positive integers. Define the list of missing positive integers in increasing order. A query provides `(k, blockSize)` and asks for the last number in the k-th block of size `blockSize` in that missing list.  Equivalently, the answer is the `(k * blockSize)`-th...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, q <= 100000` - `1 <= a[i] <= 10^9` - `1 <= k, blockSize <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a sorted array of unique positive integers `a`. This array defines a set of "present" numbers. The set of "missing" positive integers is the infinite sequence of positive integers not in `a`. You need to answer queries of the form `(k, blockSize)`, asking for the last number in the `k`...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-003
Problem File: SRT-003-stable-sort-two-keys.md
Editorial File: SRT-003-stable-sort-two-keys.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `n` records, each with keys `(key1, key2)`. Sort the records by:  1. `key1` ascending 2. `key2` descending  If two records have identical `(key1, key2)` values, their original order must be preserved.  ![Problem Illustration](../images/SRT-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `-10^9 <= key1, key2 <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a list of `n` records, where each record consists of two keys: `key1` and `key2`. You need to sort these records primarily by `key1` in ascending order, and secondarily by `key2` in descending order. Crucially, the sort must be **stable**: if two records have identical `key1` and `key2...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-004
Problem File: SRT-004-min-inversions-one-swap.md
Editorial File: SRT-004-min-inversions-one-swap.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, you may perform at most one swap of two elements. Compute the minimum possible inversion count after the swap.  An inversion is a pair `(i, j)` with `i < j` and `a[i] > a[j]`.  ![Problem Illustration](../images/SRT-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You are allowed to perform **at most one** swap of any two elements. Your goal is to minimize the total number of inversions in the array. An inversion is a pair `(i, j)` such that `i < j` and `a[i] > a[j]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-005
Problem File: SRT-005-two-pointer-closest-target.md
Editorial File: SRT-005-two-pointer-closest-target.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a sorted array and a target value. Find the pair of values whose sum is closest to the target.  If there are multiple valid pairs with the same distance to the target, return the pair with the smaller first value.  ![Problem Illustration](../images/SRT-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 200000` - `-10^9 <= a[i], target <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a sorted array of integers `a` and a target integer `target`. You need to find a pair of elements `(a[i], a[j])` with `i != j` such that their sum `a[i] + a[j]` is as close to `target` as possible. If there are multiple pairs with the same minimum difference, return the one with the sm...
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: SRT-006
Problem File: SRT-006-k-sorted-array-min-swaps.md
Editorial File: SRT-006-k-sorted-array-min-swaps.md
-------------------- PROBLEM DESCRIPTION --------------------
An array is k-sorted if every element is at most `k` positions away from its position in the sorted array. Given such an array and `k`, find the minimum number of swaps needed to fully sort the array.  ![Problem Illustration](../images/SRT-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= k < n` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of size `n` which is "k-sorted". This means each element is at most `k` positions away from its correct sorted position. You need to find the minimum number of swaps required to sort this array.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-007
Problem File: SRT-007-search-rotated-duplicates-parity.md
Editorial File: SRT-007-search-rotated-duplicates-parity.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a rotated sorted array that may contain duplicates, count how many occurrences of a value `x` appear at even indices.  Indices are 0-based.  ![Problem Illustration](../images/SRT-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `-10^9 <= a[i], x <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a rotated sorted array `a` which may contain duplicates. You need to count how many times a target value `x` appears at **even indices** (0, 2, 4, ...).
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-008
Problem File: SRT-008-balanced-range-covering-k-lists.md
Editorial File: SRT-008-balanced-range-covering-k-lists.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `k` sorted lists. Find an interval `[L, R]` of minimum length that contains at least two numbers from each list. If a list has only one number, that single number must appear in the interval.  Return any one optimal interval. If no such interval exists, output `NONE`.  ![Problem Illust...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 100000` - Total elements across all lists <= 200000 - List values fit in 32-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
You are given `k` sorted lists of integers. You need to find the smallest range `[L, R]` (where `R - L` is minimized) such that this range contains at least **two** numbers from each of the `k` lists. If a list has only one number, that number must be included (and counts as satisfying the condition...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   No valid interval exists? (e.g., disjoint lists with no overlap potential? No, we look for *any* range `[L, R]`, so `[min, max]` of all numbers always works). "NONE" is only if a list is empty.
============================================================

ID: SRT-009
Problem File: SRT-009-weighted-median-two-sorted.md
Editorial File: SRT-009-weighted-median-two-sorted.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given two sorted arrays `A` and `B` along with positive weights `wA` and `wB`. Treat each element of `A` as appearing `wA` times and each element of `B` as appearing `wB` times.  Return the median of the combined multiset without expanding it.  If the total count is even, return the average ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n, m <= 100000` - `1 <= wA, wB <= 10^6` - Arrays are sorted in nondecreasing order
-------------------- EDITORIAL SUMMARY ----------------------
You are given two sorted arrays `A` and `B`. Each element in `A` has a weight `wA` (meaning it appears `wA` times) and each element in `B` has a weight `wB`. You need to find the median of the combined multiset of numbers. If the total number of elements is even, return the average of the two middle...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Alternative: K-th Element Logic**:     -   We can binary search on the index of `A`. Suppose we pick `A[i]`.     -   This `A[i]` is greater than `i` elements in `A` (contributing `i * wA` count).     -   We can find how many elements in `B` are less than `A[i]` using binary search (`j` element...
============================================================

ID: SRT-010
Problem File: SRT-010-sort-colors-limited-swaps.md
Editorial File: SRT-010-sort-colors-limited-swaps.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given an array of 0s, 1s, and 2s. You may swap only adjacent elements and perform at most `S` swaps. Produce the lexicographically smallest array reachable within `S` swaps.  ![Problem Illustration](../images/SRT-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= S <= 10^9` - Values are only 0, 1, or 2
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array consisting of only 0s, 1s, and 2s. You are allowed to perform at most `S` adjacent swaps. Your goal is to make the array as lexicographically small as possible.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-011
Problem File: SRT-011-longest-consecutive-one-change.md
Editorial File: SRT-011-longest-consecutive-one-change.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array, you may change at most one element to any value. Find the maximum length of a strictly increasing contiguous subarray you can obtain.  ![Problem Illustration](../images/SRT-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of integers `a`. You can change **at most one** element to any integer value. Your goal is to maximize the length of a contiguous subarray that is strictly increasing.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-012
Problem File: SRT-012-count-within-threshold-after-self.md
Editorial File: SRT-012-count-within-threshold-after-self.md
-------------------- PROBLEM DESCRIPTION --------------------
For each element `a[i]`, count how many elements to its right satisfy `a[i] - a[j] <= T`.  Return the counts in order.  ![Problem Illustration](../images/SRT-012/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `-10^9 <= a[i] <= 10^9` - `0 <= T <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
For each element `a[i]` in an array, count how many elements `a[j]` to its right (where `j > i`) satisfy the condition `a[i] - a[j] <= T`. This is equivalent to finding the number of `j > i` such that `a[j] >= a[i] - T`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-013
Problem File: SRT-013-closest-pair-sorted-circular.md
Editorial File: SRT-013-closest-pair-sorted-circular.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a sorted circular array (a sorted array rotated at an unknown pivot) and a target. Find a pair of values whose sum is closest to the target.  If multiple pairs tie, return any one. Output the pair values.  ![Problem Illustration](../images/SRT-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 <= n <= 200000` - `-10^9 <= a[i], target <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a sorted array that has been rotated at some pivot. You need to find a pair of elements `(a[i], a[j])` such that their sum is closest to a given `target`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-014
Problem File: SRT-014-min-ops-make-alternating.md
Editorial File: SRT-014-min-ops-make-alternating.md
-------------------- PROBLEM DESCRIPTION --------------------
You want the array to alternate between two distinct values `x` and `y`, i.e., `x, y, x, y, ...` or `y, x, y, x, ...`. You may change any element to any value.  Compute the minimum number of changes required.  ![Problem Illustration](../images/SRT-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a`. You want to make it alternating, meaning `a[0] == a[2] == a[4]...` and `a[1] == a[3] == a[5]...`, with the condition that `a[0] != a[1]`. You can change any element to any value. Find the minimum number of changes required.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-015
Problem File: SRT-015-kth-smallest-triple-sum.md
Editorial File: SRT-015-kth-smallest-triple-sum.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a`, consider all sums `a[i] + a[j] + a[k]` with `i < j < k`. Find the k-th smallest such sum.  ![Problem Illustration](../images/SRT-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `3 <= n <= 100000` - `1 <= k <= n*(n-1)*(n-2)/6` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given an array of `n` integers, find the `k`-th smallest sum of a triplet `(a[i], a[j], a[k])` where `i < j < k`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: SRT-016
Problem File: SRT-016-locate-peak-limited-queries.md
Editorial File: SRT-016-locate-peak-limited-queries.md
-------------------- PROBLEM DESCRIPTION --------------------
An array has at least one peak (an index `i` such that `a[i] > a[i-1]` and `a[i] > a[i+1]`, when neighbors exist). You may query array values by index at most `q` times. Devise a strategy that finds any peak index within the query budget.  For this task, the full array is given as input, but your al...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `1 <= q <= 20` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array `a` of size `n`. A peak element is an element that is strictly greater than its neighbors. You need to find the index of any peak element. The catch is that you should conceptually limit your access to the array to at most `q` queries (where `q` is small, e.g., 20 for `n=100,0...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   The problem says "strictly greater". If `[2, 2, 2]`, no peak exists. But "An array has at least one peak". This implies inputs won't be flat like that, or at least one strict peak exists.     -   If `a[mid] == a[mid+1]`, we can't strictly say which side has a peak.     -   However, many peak fin...
============================================================

Reviewing Topic: Stacks
============================================================
ID: STK-001
Problem File: STK-001-notebook-undo-simulator.md
Editorial File: STK-001-notebook-undo-simulator.md
-------------------- PROBLEM DESCRIPTION --------------------
You are implementing an undo buffer for a notebook editor. The buffer is a stack that supports:  - `PUSH x`: push value `x` - `POP`: remove and output the top value - `TOP`: output the top value without removing  If `POP` or `TOP` is called on an empty stack, output `EMPTY`.  ![Problem Illustration]...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 100000` - `-10^9 <= x <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You need to implement a basic undo buffer using a stack. The system supports three operations: 1.  `PUSH x`: Add an action (represented by `x`) to the history. 2.  `POP`: Undo the most recent action and output it. 3.  `TOP`: Peek at the most recent action without removing it.  If the stack is empty ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-002
Problem File: STK-002-lab-mixed-bracket-repair.md
Editorial File: STK-002-lab-mixed-bracket-repair.md
-------------------- PROBLEM DESCRIPTION --------------------
A string contains brackets from `()[]{}` and wildcards `?`. Each `?` can be replaced by any single bracket character. Determine if there exists a replacement so that the final string is balanced and well-nested.  Output `true` if possible, otherwise `false`.  ![Problem Illustration](../images/STK-00...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains only `()[]{}` and `?`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a string containing brackets `()[]{}` and wildcards `?`. Each `?` can be replaced by any single bracket character. Determine if it is possible to replace all `?`s such that the resulting string is balanced and well-nested.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   The string length `N` is up to `100,000`. -   We need an `O(N)` solution. Trying all replacements (`6^count(?)`) is impossible.
============================================================

ID: STK-003
Problem File: STK-003-conveyor-weighted-deduplication.md
Editorial File: STK-003-conveyor-weighted-deduplication.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a string `s` and an array of weights `w` of the same length. Process characters from left to right. When the current character matches the top of the stack, you may remove the pair only if the sum of their weights is even. The removed sum is added to a running total. The remaining char...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 200000` - `1 <= w[i] <= 1000`
-------------------- EDITORIAL SUMMARY ----------------------
You are processing items on a conveyor belt, represented by a string `s` and corresponding weights `w`. As you process items from left to right, if the current item matches the item at the "top" of your processed pile (stack) AND the sum of their weights is even, you remove both items and add their ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-004
Problem File: STK-004-rooftop-sunset-count.md
Editorial File: STK-004-rooftop-sunset-count.md
-------------------- PROBLEM DESCRIPTION --------------------
Given building heights from west to east, a building can see the sunset if there is no taller building to its left. Count how many buildings can see the sunset.  ![Problem Illustration](../images/STK-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= h[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You are given an array of building heights listed from West to East. A building can see the sunset (West) if there are no taller (or equal height) buildings to its left. Count the number of buildings that have a clear view of the sunset.  *Note: The problem statement says "no taller building", which...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-005
Problem File: STK-005-workshop-next-taller-width.md
Editorial File: STK-005-workshop-next-taller-width.md
-------------------- PROBLEM DESCRIPTION --------------------
For each height `h[i]`, find the next taller height to its right within distance at most `w`. If no taller height exists within `w`, output `-1` for that position.  ![Problem Illustration](../images/STK-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= h[i] <= 10^9` - `1 <= w <= n`
-------------------- EDITORIAL SUMMARY ----------------------
For every element in an array, find the **Next Greater Element** (NGE) to its right. However, there is a constraint: the NGE must be within a distance `w`. If the nearest taller element is more than `w` steps away, or if no taller element exists, the answer is `-1`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-006
Problem File: STK-006-assembly-previous-greater-parity.md
Editorial File: STK-006-assembly-previous-greater-parity.md
-------------------- PROBLEM DESCRIPTION --------------------
For each element `a[i]`, find the nearest element to its left that is strictly greater and has opposite parity (one even, one odd). If no such element exists, output `-1` for that position.  ![Problem Illustration](../images/STK-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `-10^9 <= a[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
For each element in an array, find the nearest element to its **left** that is **strictly greater** than the current element AND has the **opposite parity** (one is even, the other is odd). If no such element exists, return `-1`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-007
Problem File: STK-007-trading-desk-threshold-jump.md
Editorial File: STK-007-trading-desk-threshold-jump.md
-------------------- PROBLEM DESCRIPTION --------------------
Given prices `p[i]` and a threshold `t`, for each index find how many steps forward until you see a price at least `t` higher than `p[i]`. If no such future price exists, output `0`.  ![Problem Illustration](../images/STK-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= p[i], t <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
For each price `p[i]` in an array, find the number of steps forward (distance) to the nearest future price `p[j]` (where `j > i`) such that `p[j] >= p[i] + t`. If no such price exists, output `0`.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-008
Problem File: STK-008-canteen-token-climb-span.md
Editorial File: STK-008-canteen-token-climb-span.md
-------------------- PROBLEM DESCRIPTION --------------------
For each day, compute how many consecutive prior days had demand strictly lower than today's demand. If any prior day equals today's demand, the span resets to 0 at that day.  Return the span counts (not including today).  ![Problem Illustration](../images/STK-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= demand[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
For each day `i`, calculate the "span" of demand. The span is defined as the number of consecutive days immediately preceding day `i` (excluding `i` itself) where the demand was **strictly less** than `demand[i]`. If any prior day has demand equal to `demand[i]`, the span stops there (resets to 0).
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-009
Problem File: STK-009-lab-sliding-min-stack.md
Editorial File: STK-009-lab-sliding-min-stack.md
-------------------- PROBLEM DESCRIPTION --------------------
Maintain a stack with operations:  - `PUSH x` - `POP`: remove and output top value - `MIN k`: output the minimum among the top `k` elements (top counts as 1)  If `POP` is called on an empty stack, output `EMPTY`. If `MIN k` is requested with fewer than `k` elements, output `NA`.  ![Problem Illustrat...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 100000` - `-10^9 <= x <= 10^9` - `1 <= k <= 100000`
-------------------- EDITORIAL SUMMARY ----------------------
You need to implement a stack that supports `PUSH x`, `POP`, and a special query `MIN k`. -   `MIN k`: Returns the minimum value among the top `k` elements of the stack. -   Standard error handling for empty stack or insufficient elements.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-010
Problem File: STK-010-stadium-max-tracker.md
Editorial File: STK-010-stadium-max-tracker.md
-------------------- PROBLEM DESCRIPTION --------------------
Design a stack that supports:  - `PUSH x` - `POP`: remove and output the top - `TOP`: output the top without removing - `GETMAX`: output the current maximum element  If the stack is empty for `POP`, `TOP`, or `GETMAX`, output `EMPTY`.  ![Problem Illustration](../images/STK-010/problem-illustration.p...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= m <= 100000` - `-10^9 <= x <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Design a stack that supports `PUSH`, `POP`, `TOP`, and `GETMAX` operations. All operations should be efficient (ideally `O(1)`). `GETMAX` returns the maximum element currently in the stack.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-011
Problem File: STK-011-circuit-postfix-variables.md
Editorial File: STK-011-circuit-postfix-variables.md
-------------------- PROBLEM DESCRIPTION --------------------
Evaluate a postfix expression with integers, operators `+ - * / %`, single-letter variables, and two extra stack operations:  - `DUP`: duplicate the top value - `SWAP`: swap the top two values  A variable map provides values for letters. All operations are performed modulo `MOD = 1000000007`. Divisi...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= t <= 10000` - `0 <= m <= 26` - Variable values fit in 64-bit signed integer
-------------------- EDITORIAL SUMMARY ----------------------
Evaluate a postfix expression (Reverse Polish Notation) containing: -   Integers and Variables (single letters). -   Operators: `+`, `-`, `*`, `/`, `%`. -   Stack Operations: `DUP` (duplicate top), `SWAP` (swap top two). -   All calculations are modulo `10^9 + 7`. -   Let's check the problem stateme...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-012
Problem File: STK-012-campus-expression-optimizer.md
Editorial File: STK-012-campus-expression-optimizer.md
-------------------- PROBLEM DESCRIPTION --------------------
Convert an infix expression to postfix. The expression contains single-letter operands, digits, operators `+ - * / % ^`, and parentheses.  Additionally:  - Detect syntax errors (mismatched parentheses or consecutive operators) - Count redundant parenthesis pairs  Output the postfix expression or an ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |expr| <= 10000` - Operands are single uppercase letters or digits
-------------------- EDITORIAL SUMMARY ----------------------
Convert an infix expression to postfix while detecting syntax errors and counting redundant parentheses. -   **Input**: String with operands (A-Z, 0-9), operators (`+ - * / % ^`), and parentheses. -   **Output**: `POSTFIX <result> <redundant_count>` or `ERROR <message> 0`. -   **Errors**: Mismatched...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-013
Problem File: STK-013-auditorium-histogram-one-booster.md
Editorial File: STK-013-auditorium-histogram-one-booster.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given histogram heights. You may increase exactly one bar by at most `b` units (you may choose to add less than `b`). Compute the maximum possible rectangle area after the boost.  ![Problem Illustration](../images/STK-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `0 <= h[i], b <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
Given an array of histogram heights `h` and a boost value `b`. You can increase the height of **exactly one** bar by at most `b` (you can add any value `0 <= x <= b`). Find the maximum possible area of a rectangle that can be formed in the histogram after this modification.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-014
Problem File: STK-014-shuttle-validation-time-windows.md
Editorial File: STK-014-shuttle-validation-time-windows.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a push sequence and a pop sequence for a stack, along with timestamps for each push and pop. Some elements have time window constraints `W[x]` that require the element to be popped within `W[x]` time units after it was pushed. Some elements are marked as `priority` and must be popped b...
-------------------- PROBLEM CONSTRAINTS --------------------
---
-------------------- EDITORIAL SUMMARY ----------------------
Validate a stack push/pop sequence with two additional constraints: 1.  **Time Windows**: Certain elements must be popped within `W` time units of being pushed.     -   "Each priority element is popped before any larger non-priority element".     -   This phrasing is slightly ambiguous. Does it mean...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-015
Problem File: STK-015-bike-repair-plates.md
Editorial File: STK-015-bike-repair-plates.md
-------------------- PROBLEM DESCRIPTION --------------------
You have a stack of metal plates with diameters, listed from top to bottom. Plates are removed one by one from the top. If a plate is smaller than a plate beneath it at the moment that plate is revealed, the lower plate is marked unsafe.  Count how many plates become unsafe during the entire removal...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 200000` - `1 <= d[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
You have a stack of plates with given diameters. You remove them one by one from the top. -   When a plate is removed, the plate immediately below it is "revealed". -   If the revealed plate is **larger** than the plate just removed, the revealed plate is marked **unsafe**.     -   Example: `5 2 4` ...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: STK-016
Problem File: STK-016-assembly-line-span-reset.md
Editorial File: STK-016-assembly-line-span-reset.md
-------------------- PROBLEM DESCRIPTION --------------------
Given daily production counts, compute for each day the span of consecutive prior days with counts strictly less than today's count. The span includes today as 1.  Return the span counts.  ![Problem Illustration](../images/STK-016/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `0 <= count[i] <= 10^9`
-------------------- EDITORIAL SUMMARY ----------------------
For each day `i`, calculate the "span" of production counts. The span is the number of consecutive days ending at `i` (including `i` itself) where the production count was **strictly less** than `count[i]`. "compute for each day the span of consecutive prior days with counts strictly less than today...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

Reviewing Topic: Strings
============================================================
ID: STR-001
Problem File: STR-001-campus-badge-normalize.md
Editorial File: STR-001-campus-badge-normalize.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a string `s` containing alphanumeric characters, spaces, and special characters. Your task is to normalize it according to these rules:  1. Convert all uppercase letters to lowercase 2. Replace any sequence of non-alphanumeric characters with a single hyphen (`-`) 3. Remove leading and...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 2 × 10^5` - Input may contain uppercase letters, lowercase letters, digits, spaces, and special characters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: A string `s` containing mixed-case letters, digits, and special characters   **Output**: Normalized string with lowercase letters, collapsed non-alphanumeric to single hyphens, trimmed leading/trailing hyphens   **Constraints**: `1 <= |s| <= 10^5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-002
Problem File: STR-002-lab-code-palindrome-rotate.md
Editorial File: STR-002-lab-code-palindrome-rotate.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a string `s` consisting of lowercase letters. Determine if any rotation of the string can form a palindrome.  A rotation of a string is obtained by moving characters from the beginning to the end. For example, rotations of "abc" are "abc", "bca", and "cab".  A palindrome is a string th...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 2 × 10^5` - `s` contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s` of lowercase letters   **Output**: Boolean - whether some rotation of `s` can form a palindrome   **Constraints**: `1 <= |s| <= 10^5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-003
Problem File: STR-003-smallest-missing-substring.md
Editorial File: STR-003-smallest-missing-substring.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` consisting of lowercase English letters and an integer `k`, find the lexicographically smallest string of length `k` that is NOT a substring of `s`.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 2 × 10^5` - `1 ≤ k ≤ 20` - `s` contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s` (lowercase letters), integer `k`   **Output**: Lexicographically smallest lowercase string of length `k` not appearing in `s`, or empty if all exist   **Constraints**: `1 <= |s| <= 10^5`, `1 <= k <= 5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-004
Problem File: STR-004-alternating-vowel-consonant-substring.md
Editorial File: STR-004-alternating-vowel-consonant-substring.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` of lowercase English letters, find the longest substring where vowels and consonants strictly alternate. Treat 'y' as a consonant.  Return both the length and one such longest substring.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 2 × 10^5` - `s` contains only lowercase English letters - Vowels: a, e, i, o, u (y is consonant)
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s` (lowercase letters)   **Output**: Length and one substring where vowels/consonants strictly alternate (y is consonant)   **Constraints**: `1 <= |s| <= 2 × 10^5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-005
Problem File: STR-005-equal-distinct-split.md
Editorial File: STR-005-equal-distinct-split.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` of lowercase English letters, count the number of split points where the left substring and right substring have the same number of distinct characters.  A split point after index `i` creates:  - Left: s[0..i] - Right: s[i+1..n-1]
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 2 × 10^5` - `s` contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s` (lowercase letters)   **Output**: Count of split points where left and right substrings have equal distinct character counts   **Constraints**: `1 <= |s| <= 2 × 10^5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-006
Problem File: STR-006-minimal-unique-rotation.md
Editorial File: STR-006-minimal-unique-rotation.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, find its lexicographically smallest rotation that is NOT equal to the original string. If all rotations are equal (all characters identical), return the original string.  A rotation is obtained by moving characters from the beginning to the end.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 10^5` - `s` contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s` (lowercase letters)   **Output**: Lexicographically smallest rotation that differs from original, or original if all rotations equal   **Constraints**: `1 <= |s| <= 10^5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-007
Problem File: STR-007-log-compression-window.md
Editorial File: STR-007-log-compression-window.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and an integer `w` (window threshold), compress the string by replacing runs of consecutive identical characters of length ≥ `w` with the character followed by its count. Runs shorter than `w` remain unchanged.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 2 × 10^5` - `1 ≤ w ≤ 10^5` - `s` contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s`, integer `w` (window threshold)   **Output**: Compressed string where runs of length ≥ `w` are replaced with char + count   **Constraints**: `1 <= |s| <= 2 × 10^5`, `1 <= w <= 10^5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-008
Problem File: STR-008-k-mismatch-anagram-substrings.md
Editorial File: STR-008-k-mismatch-anagram-substrings.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, a pattern `p`, and integers `m` (substring length) and `k` (allowed mismatches), count how many substrings of length `m` in `s` become anagrams of `p` after at most `k` character substitutions.  Note: `m = |p|`
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 10^5` - `1 ≤ m ≤ |s|` - `m = |p|` - `0 ≤ k ≤ m`
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s`, pattern `p`, integers `m` (length), `k` (allowed mismatches)   **Output**: Count of substrings of length `m` that become anagrams of `p` after ≤ `k` substitutions   **Constraints**: `1 <= |s| <= 10^5`, `1 <= m <= |s|`, `m = |p|`, `0 <= k <= m`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-009
Problem File: STR-009-minimal-removal-unique-prefixes.md
Editorial File: STR-009-minimal-removal-unique-prefixes.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an integer `L` and `n` strings, delete the minimum total number of characters (only from the ends of strings) so that all resulting strings have distinct prefixes of length `L`.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ n ≤ 2 × 10^5` - `1 ≤ L ≤ 20` - Total string length ≤ `2 × 10^5`
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: Integer `L` (prefix length), list of `n` strings   **Output**: Minimum total character deletions (from ends) to make all length-L prefixes distinct   **Constraints**: `1 <= n <= 2 × 10^5`, `1 <= L <= 20`, total length ≤ `2 × 10^5`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-010
Problem File: STR-010-balanced-brackets-limited-skips.md
Editorial File: STR-010-balanced-brackets-limited-skips.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` consisting of '(' and ')' characters, and an integer `k` representing the number of skip tokens available, determine if the string can be balanced using at most `k` skips.  A skip token allows you to remove one parenthesis from consideration.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 2 × 10^5` - `0 ≤ k ≤ |s|` - `s` contains only '(' and ')'
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s` (contains '(' and ')'), integer `k` (skip tokens)   **Output**: `true` if string can be balanced using ≤ `k` skips, `false` otherwise   **Constraints**: `1 <= |s| <= 2 × 10^5`, `0 <= k <= |s|`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-011
Problem File: STR-011-longest-chunked-bounded.md
Editorial File: STR-011-longest-chunked-bounded.md
-------------------- PROBLEM DESCRIPTION --------------------
Split a string `s` into the maximum number of chunks where the i-th chunk from the start equals the i-th chunk from the end. All chunks must have length ≤ `L`.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 10^5` - `1 ≤ L ≤ |s|` - `s` contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s`, integer `L` (max chunk length)   **Output**: Maximum number of chunks where i-th chunk from start equals i-th chunk from end, all chunks ≤ L   **Constraints**: `1 <= |s| <= 10^5`, `1 <= L <= |s|`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-012
Problem File: STR-012-distinct-subsequence-char-limit.md
Editorial File: STR-012-distinct-subsequence-char-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, an integer `maxFreq`, and a modulus `MOD`, count the number of distinct subsequences where each character appears at most `maxFreq` times. Return the count modulo `MOD`.  The empty subsequence counts.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 10^5` - `1 ≤ maxFreq ≤ 10` - Prime `MOD ≤ 10^9+7`
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s`, integer `maxFreq`, integer `MOD`   **Output**: Count of distinct subsequences where each character appears ≤ `maxFreq` times, modulo `MOD`   **Constraints**: `1 <= |s| <= 10^5`, `1 <= maxFreq <= 10`, prime `MOD <= 10^9+7`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-013
Problem File: STR-013-run-length-decode-cap.md
Editorial File: STR-013-run-length-decode-cap.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a run-length encoded string (format: "char+count") and an integer `cap`, decode the string but limit any run exceeding `cap` to exactly `cap` occurrences.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 10^5` - `1 ≤ cap ≤ 10^4` - Encoded format: character followed by count (digits)
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: Run-length encoded string (format: "char+count"), integer `cap`   **Output**: Decoded string with any run > `cap` limited to exactly `cap` occurrences   **Constraints**: `1 <= |s| <= 10^5`, `1 <= cap <= 10^4`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-014
Problem File: STR-014-shortest-covering-window-set.md
Editorial File: STR-014-shortest-covering-window-set.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array of strings `arr` and a set of required strings `T`, find the shortest contiguous subarray whose elements cover all strings in `T`. Return the length and one such window.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |arr| ≤ 10^5` - `|T| ≤ 10^3`
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: Array of strings `arr`, set of required strings `T`   **Output**: Length and one shortest contiguous subarray covering all strings in `T`   **Constraints**: `1 <= |arr| <= 10^5`, `|T| <= 10^3`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-015
Problem File: STR-015-cyclic-shift-equality-classes.md
Editorial File: STR-015-cyclic-shift-equality-classes.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` strings, group them into equivalence classes where two strings are equivalent if one is a cyclic shift (rotation) of the other. Return the number of equivalence classes.
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ n ≤ 2 × 10^5` - Each string length ≤ 20
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: `n` strings   **Output**: Number of equivalence classes where strings are equivalent if one is a cyclic shift of another   **Constraints**: `1 <= n <= 2 × 10^5`, each string length ≤ 20
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

ID: STR-016
Problem File: STR-016-minimal-delete-k-periodic.md
Editorial File: STR-016-minimal-delete-k-periodic.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and an integer `k`, delete the minimum number of characters so that the resulting string is periodic with period exactly `k` (can be written as repetitions of a k-length block).
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ |s| ≤ 10^5` - `1 ≤ k ≤ |s|` - `s` contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
**Input**: String `s`, integer `k` (period length)   **Output**: Minimum deletions to make string periodic with period exactly `k`   **Constraints**: `1 <= |s| <= 10^5`, `1 <= k <= |s|`
-------------------- EDITORIAL CONSTRAINTS ------------------

============================================================

Reviewing Topic: StringsClassic
============================================================
ID: STC-001
Problem File: STC-001-kmp-prefix-function.md
Editorial File: STC-001-kmp-prefix-function.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, compute its prefix function array `pi`, where `pi[i]` is the length of the longest proper prefix of `s[0..i]` that is also a suffix of `s[0..i]`.  ![Problem Illustration](../images/STC-001/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 200000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to compute the **prefix function** array `pi`. For each index `i`, `pi[i]` represents the length of the longest **proper** prefix of the substring `s[0...i]` that is also a suffix of this substring. A proper prefix is a prefix that is not equal to the substring itself.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Proper Prefix:** The prefix cannot be the entire string itself. For a string of length `L`, the maximum possible value in the `pi` array is `L-1`. - **Base Case:** `pi[0]` is always `0` because a single character string has no proper prefix that is also a non-empty suffix. - **Indexing:** The pr...
============================================================

ID: STC-002
Problem File: STC-002-pattern-search-kmp.md
Editorial File: STC-002-pattern-search-kmp.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a pattern `p` and text `t`, find all starting indices where `p` occurs in `t` using the KMP algorithm.  Indices are 0-based and should be returned in increasing order.  ![Problem Illustration](../images/STC-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |p|, |t| <= 200000` - `p` and `t` contain lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a pattern string `p` and a text string `t`, you need to find all the starting indices in `t` where `p` appears as a substring. The indices should be 0-based and sorted in increasing order. You are expected to use the Knuth-Morris-Pratt (KMP) algorithm to achieve linear time complexity.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Overlapping Matches:** Matches can overlap. For `p="aa"` and `t="aaa"`, the answer is `0 1`. - **Empty Output:** If `p` is not found, output nothing (or an empty line). - **Constraints:** Both `p` and `t` can be up to 200,000 characters. An O(|p| * |t|) solution will TLE.
============================================================

ID: STC-003
Problem File: STC-003-z-function.md
Editorial File: STC-003-z-function.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, compute its Z-array. `Z[i]` is the length of the longest substring starting at `i` that matches the prefix of `s`. By convention, `Z[0] = |s|`.  ![Problem Illustration](../images/STC-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 200000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to compute its **Z-array**. For each index `i`, `Z[i]` is the length of the longest common prefix between the string `s` and its suffix starting at `i` (i.e., `s[i...]`). By definition, `Z[0]` is equal to the length of the string.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Z[0]:** The problem statement fixes `Z[0] = |s|`. Some definitions set `Z[0] = 0`, but here we strictly follow the problem requirement. - **Overlap:** The substring starting at `i` can overlap with the prefix it matches. For `aaaaa`, `Z[1] = 4`. - **Constraints:** `|s| <= 200,000`. An O(N^2) sol...
============================================================

ID: STC-004
Problem File: STC-004-pattern-search-z.md
Editorial File: STC-004-pattern-search-z.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a pattern `p` and text `t`, find all starting indices where `p` occurs in `t` using the Z-function on `p + '#' + t`.  Indices are 0-based and should be output in increasing order.  ![Problem Illustration](../images/STC-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |p|, |t| <= 200000` - Strings contain lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a pattern `p` and a text `t`, you need to find all starting indices in `t` where `p` occurs as a substring. You are required to use the **Z-function** algorithm. The output should be a sorted list of 0-based indices.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Sentinel Character:** You MUST use a character that does not appear in `p` or `t` (e.g., `#`, `$`, `\0`) to separate them. This prevents matches from spanning across the boundary of `p` and `t`. - **Indices:** The problem asks for indices in `t`. If `S = p + '#' + t`, an index `i` in `S` corresp...
============================================================

ID: STC-005
Problem File: STC-005-suffix-array-doubling.md
Editorial File: STC-005-suffix-array-doubling.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, build its suffix array using the O(n log n) doubling algorithm. Output the starting indices of suffixes in lexicographic order.  ![Problem Illustration](../images/STC-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to construct its **Suffix Array**. The suffix array is an array of integers representing the starting indices of all suffixes of `s` sorted in lexicographical (alphabetical) order. You are required to use the **Doubling Algorithm** to achieve efficient construction.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Sentinel:** It's common to append a sentinel character `$` (smaller than 'a') to the string to simplify comparisons, but the problem asks for indices of the original string. The logic remains the same; just handle out-of-bound indices by assigning them a rank of -1. - **Time Complexity:** O(N^2 ...
============================================================

ID: STC-006
Problem File: STC-006-lcp-array-kasai.md
Editorial File: STC-006-lcp-array-kasai.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s` and its suffix array, compute the LCP array where `lcp[i]` is the longest common prefix length of the suffixes at `sa[i]` and `sa[i+1]`.  ![Problem Illustration](../images/STC-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s` and its Suffix Array `sa`, you need to compute the **Longest Common Prefix (LCP) Array**. The LCP array is an auxiliary data structure where `lcp[i]` stores the length of the longest common prefix between the suffix at `sa[i]` and the suffix at `sa[i+1]`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** You are given `s` and `sa`. You don't need to compute `sa`. - **Output:** `n-1` integers. `lcp[i]` corresponds to comparison between `sa[i]` and `sa[i+1]`. - **Constraints:** `N <= 100,000`. O(N^2) is too slow.
============================================================

ID: STC-007
Problem File: STC-007-longest-repeated-substring-sa.md
Editorial File: STC-007-longest-repeated-substring-sa.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, find the longest substring that appears at least twice. If multiple substrings have the same maximum length, return the lexicographically smallest one. If no repeated substring exists, output `NONE`.  ![Problem Illustration](../images/STC-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, find the longest substring that appears at least twice in `s`. If there are multiple substrings with the same maximum length, return the one that is lexicographically smallest. If no repeated substring exists, output `NONE`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Overlapping:** Repeated substrings can overlap. In "aaaa", "aaa" appears twice (indices 0 and 1). - **Lexicographically Smallest:** If "abc" and "xyz" both appear twice and are the longest, return "abc". - **NONE:** If max LCP is 0, output `NONE`.
============================================================

ID: STC-008
Problem File: STC-008-distinct-substrings-sa.md
Editorial File: STC-008-distinct-substrings-sa.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, compute the number of distinct substrings. Use the formula:  ``` count = n*(n+1)/2 - sum(LCP) ```  where `LCP` is the array of longest common prefixes between adjacent suffixes in suffix array order.  ![Problem Illustration](../images/STC-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to calculate the total number of **distinct** (unique) substrings it contains. You are expected to use the Suffix Array and LCP Array to solve this efficiently.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Total Substrings:** The number of substrings of a string of length `n` is `n * (n + 1) / 2`. - **Overflow:** The result can exceed `2^31 - 1`. Use 64-bit integers (`long` in Java/C++, `BigInt` or standard `Number` in JS/Python). - **Empty String:** If `n=0`, result is 0.
============================================================

ID: STC-009
Problem File: STC-009-minimal-rotation-sa.md
Editorial File: STC-009-minimal-rotation-sa.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, consider all its cyclic rotations. Return the starting index (0-based) of the lexicographically smallest rotation. If multiple rotations are identical, return the smallest index.  ![Problem Illustration](../images/STC-009/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to find the starting index of its **lexicographically minimal rotation**. A rotation is obtained by moving characters from the beginning to the end. Among all possible rotations, find the one that would appear first in a dictionary. If there are ties, return the smallest...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s` of length `N`. - **Output:** An integer index `0 <= i < N`. - **Ties:** If `s = "abab"`, rotations are `abab`, `baba`, `abab`, `baba`. Minimal is `abab`. Indices 0 and 2. Return 0.
============================================================

ID: STC-010
Problem File: STC-010-lcp-two-suffixes.md
Editorial File: STC-010-lcp-two-suffixes.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a string `s`. For each query `(i, j)`, return the length of the longest common prefix of the two suffixes `s[i..]` and `s[j..]`.  You must preprocess once and answer all queries efficiently.  ![Problem Illustration](../images/STC-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `1 <= q <= 100000` - `0 <= i, j < |s|` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to answer multiple queries. Each query consists of two indices `i` and `j`. You must return the length of the **Longest Common Prefix (LCP)** between the suffix starting at `i` and the suffix starting at `j`. The solution must be efficient enough to handle up to 100,000 ...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Indices:** `i` and `j` are 0-based indices in the original string. - **Same Index:** If `i == j`, the LCP is the length of the suffix itself (`n - i`). - **Constraints:** `N, Q <= 100,000`. Preprocessing O(N log N) is fine. Query O(1) is required.
============================================================

ID: STC-011
Problem File: STC-011-lcs-two-strings-sa.md
Editorial File: STC-011-lcs-two-strings-sa.md
-------------------- PROBLEM DESCRIPTION --------------------
Given two strings `a` and `b`, find the length of their longest common substring. A substring is a contiguous segment of a string.  ![Problem Illustration](../images/STC-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |a|, |b| <= 100000` - `|a| + |b| <= 200000` - Strings contain lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given two strings `a` and `b`, find the length of the **Longest Common Substring**. This is the longest string that appears as a contiguous sequence of characters in both `a` and `b`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Contiguous:** Must be a substring, not a subsequence. "ace" is a subsequence of "abcde", but "abc" is a substring. - **Sentinel:** Use a character like `#` or `$` that doesn't appear in `a` or `b`. - **Constraints:** Total length up to 200,000. O(N^2) DP solution is too slow.
============================================================

ID: STC-012
Problem File: STC-012-diff-substrings-two-strings.md
Editorial File: STC-012-diff-substrings-two-strings.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given two strings `a` and `b`. Count how many substrings of `a` do not appear anywhere in `b`.  Return the total number of distinct substrings of `a` that are absent from `b`.  ![Problem Illustration](../images/STC-012/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |a|, |b| <= 100000` - `|a| + |b| <= 200000` - Strings contain lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given two strings `a` and `b`, calculate the number of **distinct** substrings of `a` that do **not** appear in `b`.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Distinct:** If "xyz" appears twice in `a` and never in `b`, it counts as 1. - **Empty Strings:** If `a` is empty, answer is 0. - **Constraints:** `|a| + |b| <= 200,000`. Use O(N log N) or O(N).
============================================================

ID: STC-013
Problem File: STC-013-palindromic-tree-eertree.md
Editorial File: STC-013-palindromic-tree-eertree.md
-------------------- PROBLEM DESCRIPTION --------------------
Build a palindromic tree (eertree) for a string `s` and output the number of distinct palindromic substrings in `s`.  ![Problem Illustration](../images/STC-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `s` contains lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to count the number of **distinct** palindromic substrings. You are expected to solve this using a **Palindromic Tree** (also known as an **Eertree**).
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Distinct:** "aba" contains "a" twice, but "a" is counted only once. - **Roots:** The tree has two imaginary roots (len -1 and len 0). Do not count them in the final answer. - **Complexity:** O(N) time and space is required.
============================================================

ID: STC-014
Problem File: STC-014-longest-palindrome-one-wildcard.md
Editorial File: STC-014-longest-palindrome-one-wildcard.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a string `s` of lowercase letters and at most one wildcard character `?`. The wildcard can be replaced by any single lowercase letter.  Find the longest substring of `s` that can become a palindrome after choosing a replacement for `?` (if it lies inside the substring). If multiple sub...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 200000` - `s` contains lowercase English letters and at most one `?`
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s` containing lowercase letters and at most one wildcard character `?`, find the longest substring that can become a palindrome by replacing the `?` with some character.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **One Wildcard:** There is at most one `?`. - **Replacement:** The `?` can be any character. This means `?` matches any character `c`. - **Output:** Return the substring from the original string (keeping `?`).
============================================================

ID: STC-015
Problem File: STC-015-aho-corasick-cooldown-scoring.md
Editorial File: STC-015-aho-corasick-cooldown-scoring.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given `k` patterns, each with an integer score, and a text `t`. While scanning `t`, you may choose a subset of pattern occurrences to collect their scores.  If you choose an occurrence that ends at position `r`, then the next chosen occurrence must start at position `>= r + G + 1` (a cooldow...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= k <= 100000` - `1 <= |t| <= 200000` - Sum of pattern lengths `<= 200000` - `0 <= w_i <= 1000000` - `0 <= G <= 1000` - All strings contain lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
You are given a text `t` and a set of patterns, each with a score. You want to select a subset of pattern occurrences in `t` to maximize the total score. The constraint is that if you pick an occurrence ending at index `r`, the next occurrence you pick must start at or after `r + G + 1`. This effect...
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Indices:** 0-based indexing for text. - **Cooldown:** If match ends at `i`, next match starts at `i + G + 1`. - **Overlaps:** Patterns can overlap in the text, but selected occurrences cannot overlap (and must satisfy cooldown). - **Constraints:** `G` is small (1000), but `N` is 200,000. O(N * G...
============================================================

ID: STC-016
Problem File: STC-016-suffix-automaton-queries.md
Editorial File: STC-016-suffix-automaton-queries.md
-------------------- PROBLEM DESCRIPTION --------------------
Build a suffix automaton for a string `s`. For each query string `p`, output how many times `p` occurs as a substring of `s`.  If `p` is not a substring, output 0.  ![Problem Illustration](../images/STC-016/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 100000` - `1 <= q <= 100000` - Sum of query lengths `<= 200000` - Strings contain lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a string `s`, you need to answer multiple queries. Each query provides a string `p`, and you must return the number of times `p` appears as a substring in `s`. You are expected to use a **Suffix Automaton** to solve this efficiently.
-------------------- EDITORIAL CONSTRAINTS ------------------
- **Input:** String `s` and multiple query strings `p`. - **Output:** Count of occurrences for each `p`. - **Constraints:** `|s| <= 100,000`. Sum of `|p| <= 200,000`. - **Clones:** The construction involves "cloning" states. Cloned states initially have count 0, while original states (created when e...
============================================================

Reviewing Topic: Trees
============================================================
ID: TRE-001
Problem File: TRE-001-campus-directory-multi-tree.md
Editorial File: TRE-001-campus-directory-multi-tree.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given two binary trees `T1` and `T2`. For each tree, output its preorder, inorder, and postorder traversals.  Then determine whether the two trees are structurally identical (ignoring node values). Also report which traversal types match exactly between the two trees.  ![Problem Illustration...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n1, n2 <= 100000` - Node values fit in 32-bit signed integers - Input trees are valid (no cycles)
-------------------- EDITORIAL SUMMARY ----------------------
You are given two binary trees. For each tree, you need to generate its **preorder**, **inorder**, and **postorder** traversals. Additionally, you must determine if the two trees are **structurally identical** (having the exact same shape, regardless of node values) and identify which traversal sequ...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Input Format:** Trees are given as an array of nodes. Node `0` is always the root. Children are indices into this array. `-1` means no child. -   **Empty Tree:** If `n=0`, the tree is empty. Traversals are empty lists. Structural identity with another empty tree is `true`. -   **Output:** Prin...
============================================================

ID: TRE-002
Problem File: TRE-002-lab-tree-height.md
Editorial File: TRE-002-lab-tree-height.md
-------------------- PROBLEM DESCRIPTION --------------------
Compute the height of a binary tree. The height is defined as the number of edges on the longest path from the root to any leaf.  If the tree is empty, output `-1`.  ![Problem Illustration](../images/TRE-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Given a binary tree, calculate its **height**. The height is defined as the number of edges on the longest path from the root node to any leaf node. If the tree is empty, the height is `-1`. A tree with a single node has a height of `0`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Height Definition:** Number of edges. Some definitions use number of nodes (where single node = 1). Here, single node = 0. -   **Empty Tree:** `n=0`. Return `-1`. -   **Input Format:** Array of nodes. `left` and `right` are indices.
============================================================

ID: TRE-003
Problem File: TRE-003-garden-leaf-count.md
Editorial File: TRE-003-garden-leaf-count.md
-------------------- PROBLEM DESCRIPTION --------------------
Count the number of leaf nodes in a binary tree. A leaf node has no left or right child.  ![Problem Illustration](../images/TRE-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Given a binary tree, count the number of **leaf nodes**. A leaf node is defined as a node that has neither a left child nor a right child.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Empty Tree:** `n=0`. Leaf count is 0. -   **Single Node:** `n=1`. Leaf count is 1. -   **Input Format:** Array of nodes. `left` and `right` are indices.
============================================================

ID: TRE-004
Problem File: TRE-004-seminar-level-order-odd.md
Editorial File: TRE-004-seminar-level-order-odd.md
-------------------- PROBLEM DESCRIPTION --------------------
Return the level-order traversal of a binary tree, but include only nodes at odd depths. The root is at depth 0.  For each odd depth that exists, output the node values in left-to-right order.  ![Problem Illustration](../images/TRE-004/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Perform a **level-order traversal** (BFS) of a binary tree, but only output the values of nodes located at **odd depths**. The root is considered to be at depth 0. For each odd depth, print the node values in a single line, from left to right.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Root Depth:** 0 (Even). -   **Empty Tree:** Output nothing (or a blank line depending on specific constraints, here blank line). -   **Order:** Left-to-right is preserved by standard queue-based BFS.
============================================================

ID: TRE-005
Problem File: TRE-005-robotics-mirror-check-colors.md
Editorial File: TRE-005-robotics-mirror-check-colors.md
-------------------- PROBLEM DESCRIPTION --------------------
Each node has a value and a color bit (0 or 1). Determine whether the tree is symmetric in both structure and values, and also whether the multiset of colors on each mirrored level matches.  Colors do not need to match node-for-node across the mirror, but the multiset of colors on each level in the ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers - `color` is `0` or `1`
-------------------- EDITORIAL SUMMARY ----------------------
You are given a binary tree where each node has a **value** and a **color** (0 or 1). You need to determine if the tree satisfies two conditions: 1.  **Structural & Value Symmetry:** The tree is a mirror image of itself in terms of structure and node values (standard "Symmetric Tree" problem). 2.  *...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Empty Tree:** Returns `true`. -   **Color Constraint:** Colors are only 0 or 1. This simplifies the multiset check to just counting sums. -   **Symmetry:** `left.left` matches `right.right`, `left.right` matches `right.left`.
============================================================

ID: TRE-006
Problem File: TRE-006-lab-path-sum-one-turn.md
Editorial File: TRE-006-lab-path-sum-one-turn.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a binary tree and a target sum `T`, determine whether there exists a downward path that starts at any node and moves only left, then only right (exactly one direction change). The path can end at any node and does not need to reach a leaf.  Return `true` if such a path exists, otherwise `false...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - `-10^9 <= value <= 10^9` - `-10^14 <= T <= 10^14`
-------------------- EDITORIAL SUMMARY ----------------------
Given a binary tree and a target sum `T`, determine if there exists a **downward path** that moves **only left** for some steps and then **only right** for some steps (exactly one direction change). The path must contain at least one left edge and at least one right edge. The sum of node values on t...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **One Turn:** Must have at least one `L` edge and one `R` edge. `L...L` or `R...R` is invalid. -   **Downward:** Path always goes from parent to child. -   **Values:** Can be negative. Use `long` for sums. -   **Start/End:** Can start at any node and end at any node.
============================================================

ID: TRE-007
Problem File: TRE-007-sports-dome-weighted-diameter.md
Editorial File: TRE-007-sports-dome-weighted-diameter.md
-------------------- PROBLEM DESCRIPTION --------------------
Edges of the binary tree have non-negative weights. Find the maximum total edge weight along any path between two nodes.  This value is the weighted diameter of the tree.  ![Problem Illustration](../images/TRE-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Edge weights are integers in `[0, 10^9]` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Given a binary tree where edges have non-negative weights, find the **weighted diameter**. The weighted diameter is defined as the maximum total edge weight along any simple path between two nodes in the tree. The path does not necessarily need to pass through the root.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Weights:** Non-negative integers. -   **Empty Tree:** Diameter is 0. -   **Single Node:** Diameter is 0. -   **Result Type:** Can exceed 32-bit integer, use `long` (64-bit).
============================================================

ID: TRE-008
Problem File: TRE-008-hostel-boundary-walk-gaps.md
Editorial File: TRE-008-hostel-boundary-walk-gaps.md
-------------------- PROBLEM DESCRIPTION --------------------
Return the boundary traversal of a binary tree but skip any boundary node whose value is negative. The boundary traversal includes:  1. Root 2. Left boundary (excluding leaves) 3. All leaves (left to right) 4. Right boundary (excluding leaves) in reverse  Preserve order while skipping negative-value...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Perform a **boundary traversal** of a binary tree. The boundary includes: 1.  The **root** node. 2.  The **left boundary** (nodes on the leftmost path, excluding leaf nodes). 3.  All **leaf nodes** (from left to right). 4.  The **right boundary** (nodes on the rightmost path, excluding leaf nodes) i...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Root as Leaf:** If root has no children, it's a leaf. Don't add it twice. -   **Overlap:** Left boundary and leaves should not duplicate nodes. Right boundary and leaves should not duplicate nodes. -   **Negative Values:** Only affects *output*, not the path logic. A negative node can still ha...
============================================================

ID: TRE-009
Problem File: TRE-009-campus-vertical-order-weight.md
Editorial File: TRE-009-campus-vertical-order-weight.md
-------------------- PROBLEM DESCRIPTION --------------------
Each node has a value and a weight. Return the vertical order traversal of the tree with custom ordering rules inside each column:  1. Depth ascending 2. Weight descending 3. Value ascending  Only include columns whose total weight is at least `W`.  ![Problem Illustration](../images/TRE-009/problem-...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - `1 <= weight <= 1000000` - `0 <= W <= 10^12`
-------------------- EDITORIAL SUMMARY ----------------------
Perform a **vertical order traversal** of a binary tree. Nodes are grouped by their horizontal distance from the root (column index). Within each column, nodes must be sorted by: 1.  **Depth** (ascending, top to bottom). 2.  **Weight** (descending, heavier items first). 3.  **Value** (ascending, tie...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Column Index:** Root is 0. Left child is `col - 1`. Right child is `col + 1`. -   **Depth:** Root is 0. Children are `depth + 1`. -   **Sorting:** Strict priority: Depth -> Weight (Desc) -> Value (Asc). -   **Weights:** Can be large, use `long` for sums.
============================================================

ID: TRE-010
Problem File: TRE-010-auditorium-top-view-height.md
Editorial File: TRE-010-auditorium-top-view-height.md
-------------------- PROBLEM DESCRIPTION --------------------
For each vertical column, choose the node with the smallest depth (top view). If multiple nodes share the same column and depth, choose the one with the largest value.  Return the chosen values from leftmost column to rightmost column.  ![Problem Illustration](../images/TRE-010/problem-illustration....
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Find the **Top View** of a binary tree. The top view consists of the nodes visible when looking at the tree from directly above. -   Nodes are grouped by horizontal distance (column). -   For each column, the visible node is the one with the **smallest depth** (highest up). -   **Tie-Breaker:** If m...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Root Column:** 0. -   **Left Child:** `col - 1`. -   **Right Child:** `col + 1`. -   **Tie-Breaker:** Only applies if depths are *exactly* equal. Usually, BFS guarantees we see smaller depths first, but nodes at the same depth can appear in any order depending on tree structure (e.g., left chi...
============================================================

ID: TRE-011
Problem File: TRE-011-lab-bottom-view-shadow-limit.md
Editorial File: TRE-011-lab-bottom-view-shadow-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
Return the bottom view of a binary tree, but ignore any node deeper than depth `D` (root at depth 0). Only nodes with depth `<= D` can be chosen for each vertical column.  ![Problem Illustration](../images/TRE-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - `0 <= D <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Find the **Bottom View** of a binary tree, but with a constraint: any node located deeper than depth `D` is considered "in the shadow" or "out of range" and cannot be part of the view. -   Nodes are grouped by horizontal distance (column). -   For each column, select the node with the **largest dept...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Stopping Condition:** If a node is at depth `D`, its children are at `D+1`. We can stop adding children to the queue if `depth == D`. -   **Tie-Breaker:** Standard Bottom View usually takes the "last seen" node at the deepest level. BFS naturally handles this if we process left-to-right. -   *...
============================================================

ID: TRE-012
Problem File: TRE-012-robotics-lca-blocked.md
Editorial File: TRE-012-robotics-lca-blocked.md
-------------------- PROBLEM DESCRIPTION --------------------
Some nodes in the tree are blocked and cannot be used as part of any path. Given two target nodes that are not blocked, find their lowest common ancestor (LCA) that is also not blocked.  If all common ancestors are blocked, output `-1`.  ![Problem Illustration](../images/TRE-012/problem-illustration...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - `blocked` is `0` or `1` - Node values are distinct and fit in 32-bit signed integers - Target nodes are unblocked
-------------------- EDITORIAL SUMMARY ----------------------
Find the **Lowest Common Ancestor (LCA)** of two target nodes `u` and `v` in a binary tree. However, some nodes are marked as **blocked**. -   The LCA must be an **unblocked** node. -   If the standard LCA is blocked, you must traverse up the tree (towards the root) to find the nearest ancestor that...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Targets:** `u` and `v` are guaranteed to be unblocked. -   **Result:** Return the **value** of the node, not the index. -   **-1:** Return if even the root is blocked (and all intermediate ancestors).
============================================================

ID: TRE-013
Problem File: TRE-013-auditorium-bst-validate-gap.md
Editorial File: TRE-013-auditorium-bst-validate-gap.md
-------------------- PROBLEM DESCRIPTION --------------------
Validate that a binary tree is a binary search tree (BST) and that every parent-child edge also satisfies a strict gap rule:  `|parent.value - child.value| >= G`  Return `true` if both conditions hold, otherwise `false`.  ![Problem Illustration](../images/TRE-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 64-bit signed integers - `0 <= G <= 10^12`
-------------------- EDITORIAL SUMMARY ----------------------
Determine if a given binary tree is a valid **Binary Search Tree (BST)** that also satisfies a **Gap Rule**. 1.  **BST Property:** For every node, all values in the left subtree are strictly smaller, and all values in the right subtree are strictly larger. 2.  **Gap Rule:** For every parent-child ed...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Empty Tree:** Valid (True). -   **Single Node:** Valid (True). Gap rule applies to edges, and there are none. -   **Values:** Can be negative. Use `long` (64-bit) to prevent overflow during subtraction (though `abs` difference is safe if inputs fit in long). -   **Strict BST:** No duplicate va...
============================================================

ID: TRE-014
Problem File: TRE-014-campus-bst-insert-search.md
Editorial File: TRE-014-campus-bst-insert-search.md
-------------------- PROBLEM DESCRIPTION --------------------
Build a binary search tree (BST) by inserting values in the given order. Then search for a target value.  Output the inorder traversal of the final BST and the result of the search.  ![Problem Illustration](../images/TRE-014/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
You are given a sequence of numbers. 1.  **Build a Binary Search Tree (BST)** by inserting these numbers one by one in the given order. 2.  **Search** for a specific target value `x` in the constructed BST. 3.  Output the **Inorder Traversal** of the tree (which should be sorted) and the result of t...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Duplicates:** Problem statement says "Duplicates, if any, must be inserted into the right subtree." This implies `val >= node.val` goes right. -   **Empty Input:** If `n=0`, output empty line and `false`. -   **Output Format:** Space-separated integers for inorder.
============================================================

ID: TRE-015
Problem File: TRE-015-shuttle-bst-kth-smallest-range.md
Editorial File: TRE-015-shuttle-bst-kth-smallest-range.md
-------------------- PROBLEM DESCRIPTION --------------------
Build a BST by inserting values in the given order. Given a range `[L, R]` and an integer `k`, return the k-th smallest value within the range (1-indexed among in-range values).  If fewer than `k` values fall in the range, output `-1`.  ![Problem Illustration](../images/TRE-015/problem-illustration....
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 100000` - Values fit in 64-bit signed integers - `1 <= k <= n`
-------------------- EDITORIAL SUMMARY ----------------------
1.  **Build a BST** from a given sequence of numbers. 2.  Consider only the values that fall within the inclusive range `[L, R]`. 3.  Find the **k-th smallest** value among these filtered numbers. 4.  If there are fewer than `k` numbers in the range, return `-1`.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Duplicates:** Problem says duplicates go right. They are valid values. -   **Pruning:**     -   If `node.val < L`, left subtree is all `< L`, so skip left. Go right.     -   If `node.val > R`, right subtree is all `> R`, so skip right. Go left.     -   This optimizes the search to `O(h + k)`.
============================================================

ID: TRE-016
Problem File: TRE-016-robotics-balance-check-weight.md
Editorial File: TRE-016-robotics-balance-check-weight.md
-------------------- PROBLEM DESCRIPTION --------------------
Each node has a weight. A tree is balanced if, at every node:  1. The height difference between left and right subtrees is at most 1. 2. The absolute difference between total weights of left and right subtrees is at most `W`.  Return `true` if the tree is balanced, otherwise `false`.  ![Problem Illu...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - `1 <= weight <= 10^9` - `0 <= W <= 10^12`
-------------------- EDITORIAL SUMMARY ----------------------
Determine if a binary tree is "balanced" based on two criteria that must hold for **every node**: 1.  **Height Balance:** The height difference between the left and right subtrees is at most 1. 2.  **Weight Balance:** The absolute difference between the **total weight** of the left subtree and the r...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Total Weight:** Includes the node itself plus all descendants. -   **Weight Diff:** Only compares the *subtrees* (left total vs right total), not including the current node's weight. -   **Empty Tree:** Balanced. -   **Leaf Node:** Balanced (Left 0, Right 0 -> Diff 0).
============================================================

ID: TRE-017
Problem File: TRE-017-lab-tree-right-view-skips.md
Editorial File: TRE-017-lab-tree-right-view-skips.md
-------------------- PROBLEM DESCRIPTION --------------------
Return the right view of a binary tree, but skip any node whose value is negative. If a level contains only skipped nodes, omit that level entirely.  ![Problem Illustration](../images/TRE-017/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
Find the **Right View** of a binary tree, but with a twist: -   Ignore any node whose value is **negative**. -   For each level of the tree, find the rightmost node that is **non-negative**. -   If a level contains only negative nodes (or no nodes at all), that level produces no output.
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Negative Nodes:** Are traversed (their children might be positive), but they themselves are never part of the view. -   **Empty Level:** If a level has nodes but all are negative, output nothing for that level. -   **Output Order:** Top to bottom.
============================================================

ID: TRE-018
Problem File: TRE-018-seminar-opposite-parity-ancestor-gap.md
Editorial File: TRE-018-seminar-opposite-parity-ancestor-gap.md
-------------------- PROBLEM DESCRIPTION --------------------
For each node, consider only ancestors whose depth parity is different from the node (one even, one odd). Compute the maximum absolute difference between a node's value and any such opposite-parity ancestor value.  Return the maximum difference over all nodes.  ![Problem Illustration](../images/TRE-...
-------------------- PROBLEM CONSTRAINTS --------------------
- `0 <= n <= 100000` - Node values fit in 32-bit signed integers
-------------------- EDITORIAL SUMMARY ----------------------
For every node in a binary tree, calculate the absolute difference between its value and the value of any of its **ancestors** that have a **different depth parity**. -   If a node is at an **odd** depth, compare it with ancestors at **even** depths. -   If a node is at an **even** depth, compare it...
-------------------- EDITORIAL CONSTRAINTS ------------------
-   **Initialization:** Use infinity/null to indicate "no ancestor found yet" for a specific parity. -   **Root:** Depth 0 (Even). Has no ancestors, so contributes 0. -   **Empty Tree:** Return 0.
============================================================

Reviewing Topic: TreesDP
============================================================
ID: TDP-001
Problem File: TDP-001-lca-binary-lifting.md
Editorial File: TDP-001-lca-binary-lifting.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a rooted tree with `n` nodes numbered from 1 to n. Node 1 is the root. The tree is represented by `n-1` edges, where each edge connects two nodes.  You need to preprocess the tree and then answer `q` queries. Each query asks for the Lowest Common Ancestor (LCA) of two nodes `u` and `v`...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ n ≤ 2 × 10^5` - `1 ≤ q ≤ 2 × 10^5` - `1 ≤ u, v ≤ n` - The given edges form a valid tree - All queries are independent
-------------------- EDITORIAL SUMMARY ----------------------
Given a rooted tree with n nodes, preprocess it to answer queries for the Lowest Common Ancestor (LCA) of any two nodes in O(log n) time using binary lifting technique.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-002
Problem File: TDP-002-tree-diameter-dp.md
Editorial File: TDP-002-tree-diameter-dp.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a tree with `n` nodes numbered from 1 to n. The tree is represented by `n-1` edges, where each edge connects two nodes.  Find the **diameter** of the tree, which is defined as the length of the longest path between any two nodes in the tree. The length of a path is the number of edges ...
-------------------- PROBLEM CONSTRAINTS --------------------
- `2 ≤ n ≤ 2 × 10^5` - `1 ≤ u, v ≤ n` - The given edges form a valid tree (connected, acyclic) - All edge lengths are 1
-------------------- EDITORIAL SUMMARY ----------------------
Find the diameter of a tree, which is the longest path between any two nodes, using dynamic programming with DFS traversal in O(n) time.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-003
Problem File: TDP-003-subtree-sum-size.md
Editorial File: TDP-003-subtree-sum-size.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a rooted tree with `n` nodes numbered from 1 to n, where node 1 is the root. Each node has an integer value associated with it.  For each node, compute the **subtree sum**, which is the sum of values of all nodes in the subtree rooted at that node (including the node itself).  Output t...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 ≤ n ≤ 2 × 10^5` - `-10^9 ≤ value[i] ≤ 10^9` - `1 ≤ u, v ≤ n` - The given edges form a valid tree
-------------------- EDITORIAL SUMMARY ----------------------
For each node in a rooted tree with weighted nodes, compute the sum and size (number of nodes) of its subtree using DFS and dynamic programming.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-004
Problem File: TDP-004-rerooting-weighted-variance.md
Editorial File: TDP-004-rerooting-weighted-variance.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a tree with `n` nodes, where each node `i` has a weight `w[i]`. Your task is to find the node that minimizes the **weighted sum of squared distances**:  $$ \text{cost}(i) = \sum_{j=1}^{n} w[j] \times \text{dist}(i, j)^2 $$  where $\text{dist}(i, j)$ is the number of edges in the shorte...
-------------------- PROBLEM CONSTRAINTS --------------------
- $1 \leq n \leq 2 \times 10^5$ - $1 \leq w[i] \leq 10^6$ - $1 \leq u, v \leq n$ - The graph forms a valid tree (connected, acyclic, n-1 edges)
-------------------- EDITORIAL SUMMARY ----------------------
Given a tree with nodes weighted by values $w[i]$, determine which node minimizes the **weighted sum of squared distances**:  $$ \text{cost}(i) = \sum_{j=1}^{n} w[j] \times \text{dist}(i, j)^2 $$  where $\text{dist}(i, j)$ is the number of edges in the path between nodes $i$ and $j$.
-------------------- EDITORIAL CONSTRAINTS ------------------
- $1 \leq n \leq 2 \times 10^5$ - $1 \leq w[i] \leq 10^6$ - Tree is connected (n-1 edges)
============================================================

ID: TDP-005
Problem File: TDP-005-max-path-sum-length-limit.md
Editorial File: TDP-005-max-path-sum-length-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a tree with `n` nodes where each node has a value (possibly negative). Find the maximum path sum where the path uses **at most `L` edges**.  A path is a sequence of distinct nodes where consecutive nodes are connected by an edge. The path sum is the sum of all node values in the path.
-------------------- PROBLEM CONSTRAINTS --------------------
- $1 \leq n \leq 2 \times 10^5$ - $1 \leq L \leq n-1$ - $-10^9 \leq \text{value}[i] \leq 10^9$ - The graph forms a valid tree
-------------------- EDITORIAL SUMMARY ----------------------
Given a tree with `n` nodes where each node has a value (possibly negative), find the maximum path sum where the path uses **at most `L` edges**.  A path is a sequence of distinct nodes where consecutive nodes are connected by an edge. The path sum is the sum of values of all nodes in the path.
-------------------- EDITORIAL CONSTRAINTS ------------------
- $1 \leq n \leq 2 \times 10^5$ - $1 \leq L \leq n-1$ - $-10^9 \leq \text{values}[i] \leq 10^9$
============================================================

ID: TDP-006
Problem File: TDP-006-tree-vertex-cover.md
Editorial File: TDP-006-tree-vertex-cover.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a tree with `n` nodes, find the size of the **minimum vertex cover**.  A vertex cover is a set of vertices such that every edge in the tree has at least one of its endpoints in the set.
-------------------- PROBLEM CONSTRAINTS --------------------
- $1 \leq n \leq 2 \times 10^5$ - $1 \leq u, v \leq n$ - The graph forms a valid tree
-------------------- EDITORIAL SUMMARY ----------------------
Given a tree with `n` nodes, find the **minimum vertex cover** - the smallest set of vertices such that every edge has at least one endpoint in the set.
-------------------- EDITORIAL CONSTRAINTS ------------------
- $1 \leq n \leq 2 \times 10^5$ - Tree is connected (n-1 edges)
============================================================

ID: TDP-007
Problem File: TDP-007-tree-independent-set-distance2.md
Editorial File: TDP-007-tree-independent-set-distance2.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a tree with `n` nodes where each node `i` has a weight `w[i]`, find the maximum total weight of a subset of nodes such that any two chosen nodes are at distance **at least 3**.  Two nodes are at distance at least 3 if they are not adjacent AND do not share a common neighbor.
-------------------- PROBLEM CONSTRAINTS --------------------
- $1 \leq n \leq 2 \times 10^5$ - $1 \leq w[i] \leq 10^9$
-------------------- EDITORIAL SUMMARY ----------------------
Given a tree with `n` nodes where each node has a weight, find the **maximum total weight** of a subset of nodes such that any two chosen nodes are at distance **at least 3** (no adjacency and no common neighbor).
-------------------- EDITORIAL CONSTRAINTS ------------------
- $1 \leq n \leq 2 \times 10^5$ - $1 \leq w[i] \leq 10^9$
============================================================

ID: TDP-008
Problem File: TDP-008-tree-coloring-cost.md
Editorial File: TDP-008-tree-coloring-cost.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a tree with N nodes and K available colors. Each node must be colored with exactly one color. For each node i and color j, there is an associated cost c[i][j] to paint node i with color j.  Two adjacent nodes (connected by an edge) cannot have the same color. Find the minimum total cos...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 200,000 - 2 ≤ K ≤ 200 - 1 ≤ c[i][j] ≤ 10^9 - The graph is guaranteed to be a tree - Answer fits in 64-bit signed integer  ---
-------------------- EDITORIAL SUMMARY ----------------------
Given a tree with N nodes where each node must be colored with one of K colors, and each node has a cost associated with each possible color, find the minimum total cost to color all nodes such that no two adjacent nodes share the same color. This is a tree coloring optimization problem that combine...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-009
Problem File: TDP-009-path-queries-rmq.md
Editorial File: TDP-009-path-queries-rmq.md
-------------------- PROBLEM DESCRIPTION --------------------
You are given a weighted tree with N nodes. The tree has N-1 edges, where each edge has a weight w. You need to preprocess the tree to efficiently answer Q distance queries. Each query asks for the shortest distance between two nodes u and v along the tree path.  ---
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 200,000 - 1 ≤ Q ≤ 200,000 - 1 ≤ w ≤ 10^6 - The graph is guaranteed to be a tree - 1 ≤ u, v ≤ N  ---
-------------------- EDITORIAL SUMMARY ----------------------
Given a weighted tree with N nodes, preprocess it to answer Q distance queries efficiently. Each query asks for the distance between two nodes u and v. The challenge is to answer queries in O(1) or O(log N) time after O(N log N) preprocessing using Euler Tour, LCA (Lowest Common Ancestor), and RMQ (...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-010
Problem File: TDP-010-tree-paths-color-constraint.md
Editorial File: TDP-010-tree-paths-color-constraint.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a tree with N nodes where each node has a color (1 to C), count the number of unordered pairs of nodes at exactly distance K where the path between them does NOT pass through any node with the forbidden color F.  ---
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 200,000 - 1 ≤ K ≤ 100,000 - 1 ≤ C ≤ 10 - 1 ≤ F ≤ C  ---
-------------------- EDITORIAL SUMMARY ----------------------
Count pairs of nodes at exactly distance K where the path doesn't pass through any node with forbidden color F. Uses DP with DFS tracking whether the path has encountered the forbidden color.  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-011
Problem File: TDP-011-heavy-light-decomposition.md
Editorial File: TDP-011-heavy-light-decomposition.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a weighted tree, preprocess it to answer path sum queries efficiently. Use Heavy-Light Decomposition to partition the tree into chains.  ---
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 200,000 - 1 ≤ Q ≤ 200,000 - 1 ≤ values[i] ≤ 10^9  ---
-------------------- EDITORIAL SUMMARY ----------------------
Decompose tree into heavy and light chains to answer path queries (sum/max) efficiently using segment trees. Heavy-Light Decomposition (HLD) enables O(log² N) path queries on trees.  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-012
Problem File: TDP-012-kth-ancestor-color-filter.md
Editorial File: TDP-012-kth-ancestor-color-filter.md
-------------------- PROBLEM DESCRIPTION --------------------
Given tree where each node has a color, answer queries: find k-th ancestor of node v with color c.
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 200,000 - 1 ≤ Q ≤ 200,000 - 1 ≤ color[i] ≤ 10
-------------------- EDITORIAL SUMMARY ----------------------
Given a rooted tree where each node has a color, answer queries: "Find the k-th ancestor of node v that has color c." If node v itself has color c, it counts as the 1st such ancestor.  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-013
Problem File: TDP-013-tree-max-matching.md
Editorial File: TDP-013-tree-max-matching.md
-------------------- PROBLEM DESCRIPTION --------------------
Find maximum matching in a tree. A matching is a set of edges with no shared vertices.
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 200,000
-------------------- EDITORIAL SUMMARY ----------------------
Find the maximum matching in a tree. A matching is a set of edges where no two edges share a vertex. Return the maximum number of edges in such a matching.  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-014
Problem File: TDP-014-centroid-decomp-time-decay.md
Editorial File: TDP-014-centroid-decomp-time-decay.md
-------------------- PROBLEM DESCRIPTION --------------------
Weighted tree with node values and timestamps. Query: find minimum (distance × decay + value) to any marked node.
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 100,000 - 1 ≤ Q ≤ 100,000
-------------------- EDITORIAL SUMMARY ----------------------
Given a weighted tree with N nodes, support two types of queries:  1. **Mark node v** with value `val` and timestamp `t` 2. **Query from node v**: Find minimum cost to reach any marked node, where cost = `distance + value`  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-015
Problem File: TDP-015-subtree-lis-tree.md
Editorial File: TDP-015-subtree-lis-tree.md
-------------------- PROBLEM DESCRIPTION --------------------
For each node, compute LIS length of values along root-to-node path.
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N ≤ 200,000 - 1 ≤ values[i] ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
For each node v, compute the length of the Longest Increasing Subsequence (LIS) formed by values on the path from root to v.  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TDP-016
Problem File: TDP-016-tree-flatten-subtree-updates.md
Editorial File: TDP-016-tree-flatten-subtree-updates.md
-------------------- PROBLEM DESCRIPTION --------------------
Support subtree value updates and node value queries on a tree using Euler tour flattening.
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ N, Q ≤ 200,000 - -10^9 ≤ values, updates ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
Support two operations on a tree:  1. **Subtree Add**: Add value `val` to all nodes in subtree of u 2. **Point Query**: Get current value of node u  ---
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

Reviewing Topic: Tries
============================================================
ID: TRI-001
Problem File: TRI-001-autocomplete-top-k-fresh.md
Editorial File: TRI-001-autocomplete-top-k-fresh.md
-------------------- PROBLEM DESCRIPTION --------------------
Build a trie of lowercase words, each with a base frequency and last-used timestamp. Given the current time and a prefix, return the top `k` words ranked by a freshness decay score calculated as:  **score = frequency × exp(-(currentTime - lastUsed) / D)**  where `D` is a decay constant. If scores ar...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (total words) - `1 <= |word| <= 30` (word length) - `1 <= frequency <= 10^6` - `0 <= timestamp, currentTime <= 10^9` - `1 <= D <= 10^9` (decay constant) - `1 <= k <= 10` - All words are lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Build a trie-based autocomplete system that ranks search suggestions using a freshness decay formula, combining base frequency with recency to provide the most relevant top-k results for a given prefix.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-002
Problem File: TRI-002-longest-common-prefix-one-deletion.md
Editorial File: TRI-002-longest-common-prefix-one-deletion.md
-------------------- PROBLEM DESCRIPTION --------------------
Given n lowercase words, find the longest string that can become a common prefix of all words after deleting at most one character from each word at any position.  ![Problem Illustration](../images/TRI-002/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (number of words) - `1 <= total length of all words <= 2 × 10^5` - All words contain only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given n lowercase words, find the longest string that can become a common prefix of all words after deleting at most one character from each word at any position.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-003
Problem File: TRI-003-distinct-substrings-count-trie.md
Editorial File: TRI-003-distinct-substrings-count-trie.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a string `s`, count the number of distinct non-empty substrings using a suffix trie data structure.  ![Problem Illustration](../images/TRI-003/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ |s| ≤ 10^5
-------------------- EDITORIAL SUMMARY ----------------------
Given a string, count all distinct substrings using a suffix trie data structure.  ![Problem Concept](../images/TRI-003/problem-illustration.png)
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-004
Problem File: TRI-004-replace-words-shortest-rare-prefix.md
Editorial File: TRI-004-replace-words-shortest-rare-prefix.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a dictionary of root words with rarity scores and a sentence, replace each word in the sentence with the prefix from the dictionary that:  1. Is a prefix of the word 2. Has the smallest rarity score 3. If multiple prefixes have the same rarity, choose the shortest one 4. If no prefix exists, k...
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 10^5 - 1 ≤ word length ≤ 30 - 1 ≤ rarity ≤ 10^9 - 1 ≤ sentence length ≤ 10^5
-------------------- EDITORIAL SUMMARY ----------------------
Given a dictionary of root words with rarity scores and a sentence, replace each word with the prefix from the dictionary that is both a prefix of the word and has the smallest rarity score. If multiple prefixes have the same rarity, choose the shortest one.  ![Problem Concept](../images/TRI-004/pro...
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-005
Problem File: TRI-005-binary-trie-min-xor-pair-limit.md
Editorial File: TRI-005-binary-trie-min-xor-pair-limit.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array of integers and a limit `L`, find the minimum XOR value of any pair of elements whose XOR is less than or equal to `L`. If no such pair exists, return -1.  ![Problem Illustration](../images/TRI-005/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 2 × 10^5 - 0 ≤ a[i] ≤ 10^9 - 0 ≤ L ≤ 10^9
-------------------- EDITORIAL SUMMARY ----------------------
Find the minimum XOR value among all pairs in an array where the XOR is at most a given limit L.  ![Problem Concept](../images/TRI-005/problem-illustration.png)
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-006
Problem File: TRI-006-kth-string-not-present.md
Editorial File: TRI-006-kth-string-not-present.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a trie of inserted lowercase strings, find the k-th lexicographically smallest string of length up to `L` that is NOT present in the trie.  ![Problem Illustration](../images/TRI-006/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- 1 ≤ n ≤ 10^5 - 1 ≤ L ≤ 6 - 1 ≤ k ≤ 10^9 - All strings consist of lowercase English letters (a-z)
-------------------- EDITORIAL SUMMARY ----------------------
Given a trie with inserted strings, find the k-th lexicographically smallest string of length ≤ L that is NOT in the trie.  ![Problem Concept](../images/TRI-006/problem-illustration.png)
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-007
Problem File: TRI-007-minimum-unique-prefix-lengths.md
Editorial File: TRI-007-minimum-unique-prefix-lengths.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array of lowercase words, for each word, find the minimum prefix length that makes it unique among all words in the array.  ![Problem Illustration](../images/TRI-007/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (number of words) - Total character length across all words <= `2 × 10^5` - All words consist of lowercase English letters (a-z) - No two words are identical
-------------------- EDITORIAL SUMMARY ----------------------
For each word in a given list, determine the minimum prefix length that uniquely identifies it among all other words.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-008
Problem File: TRI-008-dictionary-compression-size.md
Editorial File: TRI-008-dictionary-compression-size.md
-------------------- PROBLEM DESCRIPTION --------------------
Given `n` lowercase words, compute the total number of nodes in the trie needed to store them, including the root node.  ![Problem Illustration](../images/TRI-008/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (number of words) - Total character length across all words <= `2 × 10^5` - All words consist of lowercase English letters (a-z) - Words may have duplicates
-------------------- EDITORIAL SUMMARY ----------------------
Given n words, compute the total number of nodes required in a trie to store them efficiently, including the root node.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-009
Problem File: TRI-009-wildcard-search.md
Editorial File: TRI-009-wildcard-search.md
-------------------- PROBLEM DESCRIPTION --------------------
Implement search on a trie with wildcard pattern matching. The pattern may contain:  - `?` matches any single character - `*` matches any sequence of characters (including empty)  Return `true` if any word in the trie matches the pattern.  ![Problem Illustration](../images/TRI-009/problem-illustrati...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (total words) - `1 <= |word| <= 30` (word length) - `1 <= |pattern| <= 30` (pattern length) - Words contain only lowercase English letters - Pattern contains lowercase letters, `?`, and `*`
-------------------- EDITORIAL SUMMARY ----------------------
Implement a search function on a trie that supports wildcard patterns with `?` (matches any single character) and `*` (matches any sequence of characters, including empty).
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-010
Problem File: TRI-010-trie-spell-checker.md
Editorial File: TRI-010-trie-spell-checker.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a dictionary of words in a trie, for each query word, return `true` if there exists a dictionary word at edit distance exactly 1 from the query. Edit distance 1 means one character insertion, deletion, or substitution.  ![Problem Illustration](../images/TRI-010/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (dictionary size) - `1 <= queries <= 10^5` - `1 <= |word| <= 25` (word length) - All words are lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Given a dictionary of words stored in a trie, for each query word, determine if there exists a dictionary word at edit distance 1 (one character insertion, deletion, or substitution) from the query.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-011
Problem File: TRI-011-suffix-trie-longest-repeat.md
Editorial File: TRI-011-suffix-trie-longest-repeat.md
-------------------- PROBLEM DESCRIPTION --------------------
Build a suffix trie (or use suffix array alternative) to find the length of the longest repeated substring in string `s`.  ![Problem Illustration](../images/TRI-011/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= |s| <= 10^5` - String contains only lowercase English letters
-------------------- EDITORIAL SUMMARY ----------------------
Build a suffix trie (or use suffix array alternative) to find the length of the longest repeated substring in a given string.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-012
Problem File: TRI-012-prefix-free-after-inserts.md
Editorial File: TRI-012-prefix-free-after-inserts.md
-------------------- PROBLEM DESCRIPTION --------------------
You are building a phone number routing system. Insert phone numbers (digit strings) one by one into your system. After each insertion, determine whether the set of phone numbers remains **prefix-free**.  A set of strings is **prefix-free** if no string in the set is a prefix of another string in th...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (number of insertions) - `1 <= length of each phone number <= 15` - Phone numbers consist only of digits (0-9) - Phone numbers may have leading zeros
-------------------- EDITORIAL SUMMARY ----------------------
Insert phone numbers (digit strings) into a trie. After each insertion, report whether the set remains prefix-free (no number is a prefix of another).
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-013
Problem File: TRI-013-shortest-absent-binary-length-l.md
Editorial File: TRI-013-shortest-absent-binary-length-l.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a set of binary strings all of length exactly `L`, find the lexicographically smallest binary string of length `L` that is NOT present in the set. If all possible strings of length `L` are present, return an empty string.  ![Problem Illustration](../images/TRI-013/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= L <= 20` - `0 <= n <= 2^L` (set size cannot exceed total possibilities) - All input strings have length exactly `L` - Input strings consist only of '0' and '1' - No duplicate strings in input
-------------------- EDITORIAL SUMMARY ----------------------
Given a set of binary strings all of length exactly `L`, find the lexicographically smallest binary string of length `L` that is NOT present in the set. If all possible strings of length `L` exist, return empty string.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-014
Problem File: TRI-014-longest-word-by-k-prefixes.md
Editorial File: TRI-014-longest-word-by-k-prefixes.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a dictionary of lowercase words and an integer `k`, find the longest word that has at least `k` of its prefixes present in the dictionary. If multiple words have the same maximum length, return the lexicographically smallest one. If no word meets the requirement, return an empty string.  A pre...
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (number of words) - `1 <= k <= 30` - `1 <= word length <= 30` - All words consist of lowercase English letters (a-z) - No duplicate words in dictionary
-------------------- EDITORIAL SUMMARY ----------------------
Find the longest word in a dictionary that has at least `k` of its prefixes also present in the dictionary. If multiple words qualify, return the lexicographically smallest. If no word meets the requirement, return empty string.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-015
Problem File: TRI-015-xor-minimization-trie.md
Editorial File: TRI-015-xor-minimization-trie.md
-------------------- PROBLEM DESCRIPTION --------------------
Given an array `a` of `n` non-negative integers and an integer `X`, find the minimum possible value of `(subarray_XOR) ⊕ X` over all subarrays, where `subarray_XOR` is the XOR of all elements in the subarray.  ![Problem Illustration](../images/TRI-015/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 2 × 10^5` - `0 <= a[i], X <= 10^9` - All array elements and X fit in 32-bit integers
-------------------- EDITORIAL SUMMARY ----------------------
Given an array `a` and an integer `X`, find the subarray whose XOR, when XOR'd with `X`, produces the minimum value. Return that minimal XOR result.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

ID: TRI-016
Problem File: TRI-016-trie-kth-smallest-string.md
Editorial File: TRI-016-trie-kth-smallest-string.md
-------------------- PROBLEM DESCRIPTION --------------------
Given a collection of `n` distinct lowercase strings and an integer `k`, return the k-th string in lexicographic order (1-indexed). If `k` exceeds the total number of strings, return an empty string.  ![Problem Illustration](../images/TRI-016/problem-illustration.png)
-------------------- PROBLEM CONSTRAINTS --------------------
- `1 <= n <= 10^5` (number of strings) - `1 <= k <= 10^9` (may exceed n) - Total character length across all strings <= `2 × 10^5` - All strings consist of lowercase English letters (a-z) - No duplicate strings in input
-------------------- EDITORIAL SUMMARY ----------------------
Given a collection of lowercase strings, return the k-th string in lexicographic order (1-indexed). If k exceeds the total number of strings, return an empty string.
-------------------- EDITORIAL CONSTRAINTS ------------------
Section not found.
============================================================

