<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REC-012: Void Hopper</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #000;
            --tile: #222;
            --visited: #6c5ce7;
            --current: #fff;
            --void: rgba(0,0,0,0);
        }

        body {
            background: var(--bg);
            color: #fff;
            font-family: 'Orbitron', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            user-select: none;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(5, 70px);
            gap: 10px;
            margin-top: 3rem;
        }

        .tile {
            width: 70px;
            height: 70px;
            background: var(--tile);
            border: 2px solid #444;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: default;
            transition: all 0.2s;
        }
        
        .tile.void {
            opacity: 0;
            pointer-events: none;
        }

        .tile.visited {
            background: var(--visited);
            box-shadow: 0 0 15px var(--visited);
            border-color: #a29bfe;
        }

        .tile.current {
            background: var(--current);
            box-shadow: 0 0 25px #fff;
            color: #000;
            z-index: 10;
            transform: scale(1.1);
        }

        .tile.valid-move {
            border-color: #0f0;
            cursor: pointer;
            background: #111;
        }
        .tile.valid-move:hover {
            background: #222;
            box-shadow: inset 0 0 10px #0f0;
        }

        h1 { margin-top: 2rem; text-transform: uppercase; letter-spacing: 5px; text-shadow: 0 0 10px #6c5ce7; }

        .status { margin-top: 1rem; color: #aaa; min-height: 1.5em; }

        .btn {
            margin-top: 2rem;
            padding: 10px 30px;
            background: transparent;
            border: 2px solid #6c5ce7;
            color: #6c5ce7;
            font-family: inherit;
            font-size: 1.2rem;
            cursor: pointer;
            text-transform: uppercase;
        }
        .btn:hover { background: #6c5ce7; color: #fff; }

        /* Stars BG */
        body::before {
            content: '';
            position: fixed; inset: 0; z-index: -1;
            background-image: radial-gradient(white 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.2;
        }

    </style>
</head>
<body>

<h1>VOID HOPPER</h1>

<div class="board" id="board">
    <!-- Tiles -->
</div>

<div class="status" id="status">Jump to valid platforms...</div>
<button class="btn" onclick="init()">Reshuffle Void</button>

<script>
    const N = 5;
    let curr = {r:0, c:0};
    let visited = new Set();
    let blocks = new Set();
    const TOTAL_TILES = 22; // N*N - 3 blocks

    function init() {
        curr = {r:0, c:0};
        visited.clear();
        visited.add("0,0");
        
        // Set blocks
        blocks.clear();
        blocks.add("1,1");
        blocks.add("2,3");
        blocks.add("3,0");
        
        render();
        document.getElementById('status').textContent = "Begin Sequence";
    }

    function render() {
        const board = document.getElementById('board');
        board.innerHTML = '';
        
        const possibleMoves = getKnightMoves(curr.r, curr.c);
        let movesAvailable = false;

        for(let r=0; r<N; r++) {
            for(let c=0; c<N; c++) {
                const tile = document.createElement('div');
                tile.className = 'tile';
                const key = `${r},${c}`;

                if (blocks.has(key)) {
                    tile.classList.add('void');
                } else if (r === curr.r && c === curr.c) {
                    tile.classList.add('current');
                    tile.textContent = "â™ž";
                } else if (visited.has(key)) {
                    tile.classList.add('visited');
                } else {
                    // Check if valid move target
                    const isMove = possibleMoves.some(m => m.r===r && m.c===c);
                    if (isMove && !visited.has(key)) {
                        tile.classList.add('valid-move');
                        tile.onclick = () => move(r, c);
                        movesAvailable = true;
                    }
                }
                
                board.appendChild(tile);
            }
        }
        
        // Win Check
        if (visited.size === TOTAL_TILES) {
             document.getElementById('status').textContent = "VOID CONQUERED!";
             document.getElementById('status').style.color = "#0f0";
        } else if (!movesAvailable) {
             document.getElementById('status').textContent = "STUCK! No valid jumps.";
             document.getElementById('status').style.color = "#e74c3c";
        }
    }

    function move(r, c) {
        curr = {r, c};
        visited.add(`${r},${c}`);
        render();
    }

    function getKnightMoves(r, c) {
        const deltas = [
            [2,1],[2,-1],[-2,1],[-2,-1],
            [1,2],[1,-2],[-1,2],[-1,-2]
        ];
        return deltas.map(([dr,dc]) => ({r:r+dr, c:c+dc}))
            .filter(p => p.r>=0 && p.r<N && p.c>=0 && p.c<N && !blocks.has(`${p.r},${p.c}`));
    }

    window.onload = init;
</script>
</body>
</html>
